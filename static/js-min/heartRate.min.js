(function(f,g,h,d){function e(m){throw m}var c=void 0,a=!0,l=null,j=!1;function b(m){return function(){return m}}function k(o){function s(t,v,u){u&&v!==n.k.r(t)&&n.k.S(t,v);v!==n.k.r(t)&&n.a.va(t,"change")}var n="undefined"!==typeof o?o:{};n.b=function(t,x){for(var w=t.split("."),v=n,u=0;u<w.length-1;u++){v=v[w[u]]}v[w[w.length-1]]=x};n.B=function(t,v,u){t[v]=u};n.version="2.1.0";n.b("version",n.version);n.a=new function(){function C(D,F){if("input"!==n.a.o(D)||!D.type||"click"!=F.toLowerCase()){return j}var E=D.type;return"checkbox"==E||"radio"==E}var B=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,A={},y={};A[/Firefox\/2/i.test(h.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"];A.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");for(var x in A){var z=A[x];if(z.length){for(var w=0,u=z.length;w<u;w++){y[z[w]]=x}}}var t={propertychange:a},v=function(){for(var E=3,D=g.createElement("div"),F=D.getElementsByTagName("i");D.innerHTML="<!--[if gt IE "+ ++E+"]><i></i><![endif]-->",F[0];){}return 4<E?E:c}();return{Ca:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],v:function(E,D){for(var G=0,F=E.length;G<F;G++){D(E[G])}},j:function(E,D){if("function"==typeof Array.prototype.indexOf){return Array.prototype.indexOf.call(E,D)}for(var G=0,F=E.length;G<F;G++){if(E[G]===D){return G}}return -1},ab:function(E,D,H){for(var G=0,F=E.length;G<F;G++){if(D.call(H,E[G])){return E[G]}}return l},ba:function(D,F){var E=n.a.j(D,F);0<=E&&D.splice(E,1)},za:function(D){for(var D=D||[],G=[],F=0,E=D.length;F<E;F++){0>n.a.j(G,D[F])&&G.push(D[F])}return G},T:function(E,D){for(var E=E||[],H=[],G=0,F=E.length;G<F;G++){H.push(D(E[G]))}return H},aa:function(E,D){for(var E=E||[],H=[],G=0,F=E.length;G<F;G++){D(E[G])&&H.push(E[G])}return H},N:function(E,D){if(D instanceof Array){E.push.apply(E,D)}else{for(var G=0,F=D.length;G<F;G++){E.push(D[G])}}return E},extend:function(E,D){if(D){for(var F in D){D.hasOwnProperty(F)&&(E[F]=D[F])}}return E},ga:function(D){for(;D.firstChild;){n.removeNode(D.firstChild)}},Ab:function(D){for(var D=n.a.L(D),G=g.createElement("div"),F=0,E=D.length;F<E;F++){n.F(D[F]),G.appendChild(D[F])}return G},X:function(D,G){n.a.ga(D);if(G){for(var F=0,E=G.length;F<E;F++){D.appendChild(G[F])}}},Na:function(D,J){var H=D.nodeType?[D]:D;if(0<H.length){for(var G=H[0],I=G.parentNode,F=0,E=J.length;F<E;F++){I.insertBefore(J[F],G)}F=0;for(E=H.length;F<E;F++){n.removeNode(H[F])}}},Pa:function(E,D){0<=h.userAgent.indexOf("MSIE 6")?E.setAttribute("selected",D):E.selected=D},w:function(D){return(D||"").replace(B,"")},Ib:function(D,J){for(var H=[],G=(D||"").split(J),F=0,I=G.length;F<I;F++){var E=n.a.w(G[F]);""!==E&&H.push(E)}return H},Hb:function(E,D){E=E||"";return D.length>E.length?j:E.substring(0,D.length)===D},eb:function(E,D){for(var G="return ("+E+")",F=0;F<D;F++){G="with(sc["+F+"]) { "+G+" } "}return new Function("sc",G)},kb:function(E,D){if(D.compareDocumentPosition){return 16==(D.compareDocumentPosition(E)&16)}for(;E!=l;){if(E==D){return a}E=E.parentNode}return j},fa:function(D){return n.a.kb(D,D.ownerDocument)},o:function(D){return D&&D.tagName&&D.tagName.toLowerCase()},n:function(D,H,G){var F=v&&t[H];if(!F&&"undefined"!=typeof jQuery){if(C(D,H)){var E=G,G=function(J,I){var K=this.checked;I&&(this.checked=I.fb!==a);E.call(this,J);this.checked=K}}jQuery(D).bind(H,G)}else{!F&&"function"==typeof D.addEventListener?D.addEventListener(H,G,j):"undefined"!=typeof D.attachEvent?D.attachEvent("on"+H,function(I){G.call(D,I)}):e(Error("Browser doesn't support addEventListener or attachEvent"))}},va:function(D,F){(!D||!D.nodeType)&&e(Error("element must be a DOM node when calling triggerEvent"));if("undefined"!=typeof jQuery){var E=[];C(D,F)&&E.push({fb:D.checked});jQuery(D).trigger(F,E)}else{"function"==typeof g.createEvent?"function"==typeof D.dispatchEvent?(E=g.createEvent(y[F]||"HTMLEvents"),E.initEvent(F,a,a,f,0,0,0,0,0,j,j,j,j,0,D),D.dispatchEvent(E)):e(Error("The supplied element doesn't support dispatchEvent")):"undefined"!=typeof D.fireEvent?(C(D,F)&&(D.checked=D.checked!==a),D.fireEvent("on"+F)):e(Error("Browser doesn't support triggering events"))}},d:function(D){return n.la(D)?D():D},Ua:function(D,H,G){var F=(D.className||"").split(/\s+/),E=0<=n.a.j(F,H);if(G&&!E){D.className+=(F[0]?" ":"")+H}else{if(E&&!G){G="";for(E=0;E<F.length;E++){F[E]!=H&&(G+=F[E]+" ")}D.className=n.a.w(G)}}},Qa:function(D,F){var E=n.a.d(F);if(E===l||E===c){E=""}"innerText" in D?D.innerText=E:D.textContent=E;9<=v&&(D.style.display=D.style.display)},lb:function(E){if(9<=v){var D=E.style.width;E.style.width=0;E.style.width=D}},Eb:function(D,F){for(var D=n.a.d(D),F=n.a.d(F),G=[],E=D;E<=F;E++){G.push(E)}return G},L:function(E){for(var D=[],F=0,G=E.length;F<G;F++){D.push(E[F])}return D},tb:6===v,ub:7===v,ja:v,Da:function(D,G){for(var I=n.a.L(D.getElementsByTagName("input")).concat(n.a.L(D.getElementsByTagName("textarea"))),F="string"==typeof G?function(J){return J.name===G}:function(J){return G.test(J.name)},E=[],H=I.length-1;0<=H;H--){F(I[H])&&E.push(I[H])}return E},Bb:function(D){return"string"==typeof D&&(D=n.a.w(D))?f.JSON&&f.JSON.parse?f.JSON.parse(D):(new Function("return "+D))():l},sa:function(D,E,F){("undefined"==typeof JSON||"undefined"==typeof JSON.stringify)&&e(Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js"));return JSON.stringify(n.a.d(D),E,F)},Cb:function(N,J,M){var M=M||{},I=M.params||{},H=M.includeFields||this.Ca,K=N;if("object"==typeof N&&"form"===n.a.o(N)){for(var K=N.action,G=H.length-1;0<=G;G--){for(var D=n.a.Da(N,H[G]),E=D.length-1;0<=E;E--){I[D[E].name]=D[E].value}}}var J=n.a.d(J),F=g.createElement("form");F.style.display="none";F.action=K;F.method="post";for(var L in J){N=g.createElement("input"),N.name=L,N.value=n.a.sa(n.a.d(J[L])),F.appendChild(N)}for(L in I){N=g.createElement("input"),N.name=L,N.value=I[L],F.appendChild(N)}g.body.appendChild(F);M.submitter?M.submitter(F):F.submit();setTimeout(function(){F.parentNode.removeChild(F)},0)}}};n.b("utils",n.a);n.b("utils.arrayForEach",n.a.v);n.b("utils.arrayFirst",n.a.ab);n.b("utils.arrayFilter",n.a.aa);n.b("utils.arrayGetDistinctValues",n.a.za);n.b("utils.arrayIndexOf",n.a.j);n.b("utils.arrayMap",n.a.T);n.b("utils.arrayPushAll",n.a.N);n.b("utils.arrayRemoveItem",n.a.ba);n.b("utils.extend",n.a.extend);n.b("utils.fieldsIncludedWithJsonPost",n.a.Ca);n.b("utils.getFormFields",n.a.Da);n.b("utils.postJson",n.a.Cb);n.b("utils.parseJson",n.a.Bb);n.b("utils.registerEventHandler",n.a.n);n.b("utils.stringifyJson",n.a.sa);n.b("utils.range",n.a.Eb);n.b("utils.toggleDomNodeCssClass",n.a.Ua);n.b("utils.triggerEvent",n.a.va);n.b("utils.unwrapObservable",n.a.d);Function.prototype.bind||(Function.prototype.bind=function(t){var v=this,u=Array.prototype.slice.call(arguments),t=u.shift();return function(){return v.apply(t,u.concat(Array.prototype.slice.call(arguments)))}});n.a.f=new function(){var t=0,v="__ko__"+(new Date).getTime(),u={};return{get:function(w,y){var x=n.a.f.getAll(w,j);return x===c?c:x[y]},set:function(w,y,x){x===c&&n.a.f.getAll(w,j)===c||(n.a.f.getAll(w,a)[y]=x)},getAll:function(w,x){var y=w[v];if(!(y&&"null"!==y)){if(!x){return}y=w[v]="ko"+t++;u[y]={}}return u[y]},clear:function(x){var w=x[v];w&&(delete u[w],x[v]=l)}}};n.b("utils.domData",n.a.f);n.b("utils.domData.clear",n.a.f.clear);n.a.G=new function(){function t(y,A){var z=n.a.f.get(y,w);z===c&&A&&(z=[],n.a.f.set(y,w,z));return z}function x(z){var y=t(z,j);if(y){for(var y=y.slice(0),A=0;A<y.length;A++){y[A](z)}}n.a.f.clear(z);"function"==typeof jQuery&&"function"==typeof jQuery.cleanData&&jQuery.cleanData([z]);if(u[z.nodeType]){for(y=z.firstChild;z=y;){y=z.nextSibling,8===z.nodeType&&x(z)}}}var w="__ko_domNodeDisposal__"+(new Date).getTime(),v={1:a,8:a,9:a},u={1:a,9:a};return{wa:function(y,z){"function"!=typeof z&&e(Error("Callback must be a function"));t(y,a).push(z)},Ma:function(A,z){var y=t(A,j);y&&(n.a.ba(y,z),0==y.length&&n.a.f.set(A,w,c))},F:function(y){if(v[y.nodeType]&&(x(y),u[y.nodeType])){var A=[];n.a.N(A,y.getElementsByTagName("*"));for(var y=0,z=A.length;y<z;y++){x(A[y])}}},removeNode:function(y){n.F(y);y.parentNode&&y.parentNode.removeChild(y)}}};n.F=n.a.G.F;n.removeNode=n.a.G.removeNode;n.b("cleanNode",n.F);n.b("removeNode",n.removeNode);n.b("utils.domNodeDisposal",n.a.G);n.b("utils.domNodeDisposal.addDisposeCallback",n.a.G.wa);n.b("utils.domNodeDisposal.removeDisposeCallback",n.a.G.Ma);(function(){n.a.pa=function(t){var v;if("undefined"!=typeof jQuery){if((v=jQuery.clean([t]))&&v[0]){for(t=v[0];t.parentNode&&11!==t.parentNode.nodeType;){t=t.parentNode}t.parentNode&&t.parentNode.removeChild(t)}}else{var u=n.a.w(t).toLowerCase();v=g.createElement("div");u=u.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!u.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!u.indexOf("<td")||!u.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""];t="ignored<div>"+u[1]+t+u[2]+"</div>";for("function"==typeof f.innerShiv?v.appendChild(f.innerShiv(t)):v.innerHTML=t;u[0]--;){v=v.lastChild}v=n.a.L(v.lastChild.childNodes)}return v};n.a.Y=function(t,w){n.a.ga(t);if(w!==l&&w!==c){if("string"!=typeof w&&(w=w.toString()),"undefined"!=typeof jQuery){jQuery(t).html(w)}else{for(var v=n.a.pa(w),u=0;u<v.length;u++){t.appendChild(v[u])}}}}})();n.b("utils.parseHtmlFragment",n.a.pa);n.b("utils.setHtml",n.a.Y);n.s=function(){function t(){return(4294967296*(1+Math.random())|0).toString(16).substring(1)}function v(w,y){if(w){if(8==w.nodeType){var z=n.s.Ja(w.nodeValue);z!=l&&y.push({jb:w,yb:z})}else{if(1==w.nodeType){for(var z=0,A=w.childNodes,x=A.length;z<x;z++){v(A[z],y)}}}}}var u={};return{na:function(w){"function"!=typeof w&&e(Error("You can only pass a function to ko.memoization.memoize()"));var x=t()+t();u[x]=w;return"<!--[ko_memo:"+x+"]-->"},Va:function(x,w){var y=u[x];y===c&&e(Error("Couldn't find any memo with ID "+x+". Perhaps it's already been unmemoized."));try{return y.apply(l,w||[]),a}finally{delete u[x]}},Wa:function(w,C){var B=[];v(w,B);for(var A=0,y=B.length;A<y;A++){var x=B[A].jb,z=[x];C&&n.a.N(z,C);n.s.Va(B[A].yb,z);x.nodeValue="";x.parentNode&&x.parentNode.removeChild(x)}},Ja:function(w){return(w=w.match(/^\[ko_memo\:(.*?)\]$/))?w[1]:l}}}();n.b("memoization",n.s);n.b("memoization.memoize",n.s.na);n.b("memoization.unmemoize",n.s.Va);n.b("memoization.parseMemoText",n.s.Ja);n.b("memoization.unmemoizeDomNodeAndDescendants",n.s.Wa);n.Ba={throttle:function(t,v){t.throttleEvaluation=v;var u=l;return n.h({read:t,write:function(w){clearTimeout(u);u=setTimeout(function(){t(w)},v)}})},notify:function(t,u){t.equalityComparer="always"==u?b(j):n.m.fn.equalityComparer;return t}};n.b("extenders",n.Ba);n.Sa=function(t,v,u){this.target=t;this.ca=v;this.ib=u;n.B(this,"dispose",this.A)};n.Sa.prototype.A=function(){this.sb=a;this.ib()};n.R=function(){this.u={};n.a.extend(this,n.R.fn);n.B(this,"subscribe",this.ta);n.B(this,"extend",this.extend);n.B(this,"getSubscriptionsCount",this.ob)};n.R.fn={ta:function(t,w,v){var v=v||"change",t=w?t.bind(w):t,u=new n.Sa(this,t,function(){n.a.ba(this.u[v],u)}.bind(this));this.u[v]||(this.u[v]=[]);this.u[v].push(u);return u},notifySubscribers:function(t,u){u=u||"change";this.u[u]&&n.a.v(this.u[u].slice(0),function(v){v&&v.sb!==a&&v.ca(t)})},ob:function(){var t=0,u;for(u in this.u){this.u.hasOwnProperty(u)&&(t+=this.u[u].length)}return t},extend:function(t){var w=this;if(t){for(var v in t){var u=n.Ba[v];"function"==typeof u&&(w=u(w,t[v]))}}return w}};n.Ga=function(t){return"function"==typeof t.ta&&"function"==typeof t.notifySubscribers};n.b("subscribable",n.R);n.b("isSubscribable",n.Ga);n.U=function(){var t=[];return{bb:function(u){t.push({ca:u,Aa:[]})},end:function(){t.pop()},La:function(v){n.Ga(v)||e(Error("Only subscribable things can act as dependencies"));if(0<t.length){var u=t[t.length-1];0<=n.a.j(u.Aa,v)||(u.Aa.push(v),u.ca(v))}}}}();var p={undefined:a,"boolean":a,number:a,string:a};n.m=function(t){function v(){if(0<arguments.length){if(!v.equalityComparer||!v.equalityComparer(u,arguments[0])){v.I(),u=arguments[0],v.H()}return this}n.U.La(v);return u}var u=t;n.R.call(v);v.H=function(){v.notifySubscribers(u)};v.I=function(){v.notifySubscribers(u,"beforeChange")};n.a.extend(v,n.m.fn);n.B(v,"valueHasMutated",v.H);n.B(v,"valueWillMutate",v.I);return v};n.m.fn={equalityComparer:function(t,u){return t===l||typeof t in p?t===u:j}};var m=n.m.Db="__ko_proto__";n.m.fn[m]=n.m;n.ia=function(t,u){return t===l||t===c||t[m]===c?j:t[m]===u?a:n.ia(t[m],u)};n.la=function(t){return n.ia(t,n.m)};n.Ha=function(t){return"function"==typeof t&&t[m]===n.m||"function"==typeof t&&t[m]===n.h&&t.pb?a:j};n.b("observable",n.m);n.b("isObservable",n.la);n.b("isWriteableObservable",n.Ha);n.Q=function(t){0==arguments.length&&(t=[]);t!==l&&(t!==c&&!("length" in t))&&e(Error("The argument passed when initializing an observable array must be an array, or null, or undefined."));var u=n.m(t);n.a.extend(u,n.Q.fn);return u};n.Q.fn={remove:function(t){for(var y=this(),x=[],v="function"==typeof t?t:function(z){return z===t},u=0;u<y.length;u++){var w=y[u];v(w)&&(0===x.length&&this.I(),x.push(w),y.splice(u,1),u--)}x.length&&this.H();return x},removeAll:function(t){if(t===c){var v=this(),u=v.slice(0);this.I();v.splice(0,v.length);this.H();return u}return !t?[]:this.remove(function(w){return 0<=n.a.j(t,w)})},destroy:function(t){var w=this(),v="function"==typeof t?t:function(x){return x===t};this.I();for(var u=w.length-1;0<=u;u--){v(w[u])&&(w[u]._destroy=a)}this.H()},destroyAll:function(t){return t===c?this.destroy(b(a)):!t?[]:this.destroy(function(u){return 0<=n.a.j(t,u)})},indexOf:function(t){var u=this();return n.a.j(u,t)},replace:function(t,v){var u=this.indexOf(t);0<=u&&(this.I(),this()[u]=v,this.H())}};n.a.v("pop push reverse shift sort splice unshift".split(" "),function(t){n.Q.fn[t]=function(){var u=this();this.I();u=u[t].apply(u,arguments);this.H();return u}});n.a.v(["slice"],function(t){n.Q.fn[t]=function(){var u=this();return u[t].apply(u,arguments)}});n.b("observableArray",n.Q);n.h=function(Q,P,O){function M(){n.a.v(B,function(u){u.A()});B=[]}function L(){var u=K.throttleEvaluation;u&&0<=u?(clearTimeout(z),z=setTimeout(N,u)):N()}function N(){if(!G){if(J&&A()){C()}else{G=a;try{var u=n.a.T(B,function(x){return x.target});n.U.bb(function(y){var x;0<=(x=n.a.j(u,y))?u[x]=c:B.push(y.ta(L))});for(var w=E.call(P),v=u.length-1;0<=v;v--){u[v]&&B.splice(v,1)[0].A()}J=a;K.notifySubscribers(H,"beforeChange");H=w}finally{n.U.end()}K.notifySubscribers(H);G=j}}}function K(){if(0<arguments.length){I.apply(K,arguments)}else{return J||N(),n.U.La(K),H}}function I(){"function"===typeof F?F.apply(P,arguments):e(Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters."))}var H,J=j,G=j,E=Q;E&&"object"==typeof E?(O=E,E=O.read):(O=O||{},E||(E=O.read));"function"!=typeof E&&e(Error("Pass a function that returns the value of the ko.computed"));var F=O.write;P||(P=O.owner);var B=[],C=M,D="object"==typeof O.disposeWhenNodeIsRemoved?O.disposeWhenNodeIsRemoved:l,A=O.disposeWhen||b(j);if(D){C=function(){n.a.G.Ma(D,arguments.callee);M()};n.a.G.wa(D,C);var t=A,A=function(){return !n.a.fa(D)||t()}}var z=l;K.nb=function(){return B.length};K.pb="function"===typeof O.write;K.A=function(){C()};n.R.call(K);n.a.extend(K,n.h.fn);O.deferEvaluation!==a&&N();n.B(K,"dispose",K.A);n.B(K,"getDependenciesCount",K.nb);return K};n.rb=function(t){return n.ia(t,n.h)};o=n.m.Db;n.h[o]=n.m;n.h.fn={};n.h.fn[o]=n.h;n.b("dependentObservable",n.h);n.b("computed",n.h);n.b("isComputed",n.rb);(function(){function t(w,y,z){z=z||new u;w=y(w);if(!("object"==typeof w&&w!==l&&w!==c&&!(w instanceof Date))){return w}var x=w instanceof Array?[]:{};z.save(w,x);v(w,function(C){var B=y(w[C]);switch(typeof B){case"boolean":case"number":case"string":case"function":x[C]=B;break;case"object":case"undefined":var A=z.get(B);x[C]=A!==c?A:t(B,y,z)}});return x}function v(x,w){if(x instanceof Array){for(var y=0;y<x.length;y++){w(y)}"function"==typeof x.toJSON&&w("toJSON")}else{for(y in x){w(y)}}}function u(){var w=[],x=[];this.save=function(z,A){var y=n.a.j(w,z);0<=y?x[y]=A:(w.push(z),x.push(A))};this.get=function(y){y=n.a.j(w,y);return 0<=y?x[y]:c}}n.Ta=function(w){0==arguments.length&&e(Error("When calling ko.toJS, pass the object you want to convert."));return t(w,function(x){for(var y=0;n.la(x)&&10>y;y++){x=x()}return x})};n.toJSON=function(w,y,x){w=n.Ta(w);return n.a.sa(w,y,x)}})();n.b("toJS",n.Ta);n.b("toJSON",n.toJSON);(function(){n.k={r:function(t){switch(n.a.o(t)){case"option":return t.__ko__hasDomDataOptionValue__===a?n.a.f.get(t,n.c.options.oa):t.getAttribute("value");case"select":return 0<=t.selectedIndex?n.k.r(t.options[t.selectedIndex]):c;default:return t.value}},S:function(t,v){switch(n.a.o(t)){case"option":switch(typeof v){case"string":n.a.f.set(t,n.c.options.oa,c);"__ko__hasDomDataOptionValue__" in t&&delete t.__ko__hasDomDataOptionValue__;t.value=v;break;default:n.a.f.set(t,n.c.options.oa,v),t.__ko__hasDomDataOptionValue__=a,t.value="number"===typeof v?v:""}break;case"select":for(var u=t.options.length-1;0<=u;u--){if(n.k.r(t.options[u])==v){t.selectedIndex=u;break}}break;default:if(v===l||v===c){v=""}t.value=v}}}})();n.b("selectExtensions",n.k);n.b("selectExtensions.readValue",n.k.r);n.b("selectExtensions.writeValue",n.k.S);n.g=function(){function t(y,x){for(var z=l;y!=z;){z=y,y=y.replace(w,function(A,B){return x[B]})}return y}var w=/\@ko_token_(\d+)\@/g,v=/^[\_$a-z][\_$a-z0-9]*(\[.*?\])*(\.[\_$a-z][\_$a-z0-9]*(\[.*?\])*)*$/i,u=["true","false"];return{D:[],W:function(F){var D=n.a.w(F);if(3>D.length){return[]}"{"===D.charAt(0)&&(D=D.substring(1,D.length-1));for(var F=[],E=l,C,A=0;A<D.length;A++){var B=D.charAt(A);if(E===l){switch(B){case'"':case"'":case"/":E=A,C=B}}else{if(B==C&&"\\"!==D.charAt(A-1)){B=D.substring(E,A+1);F.push(B);var z="@ko_token_"+(F.length-1)+"@",D=D.substring(0,E)+z+D.substring(A+1),A=A-(B.length-z.length),E=l}}}C=E=l;for(var x=0,y=l,A=0;A<D.length;A++){B=D.charAt(A);if(E===l){switch(B){case"{":E=A;y=B;C="}";break;case"(":E=A;y=B;C=")";break;case"[":E=A,y=B,C="]"}}B===y?x++:B===C&&(x--,0===x&&(B=D.substring(E,A+1),F.push(B),z="@ko_token_"+(F.length-1)+"@",D=D.substring(0,E)+z+D.substring(A+1),A-=B.length-z.length,E=l))}C=[];D=D.split(",");E=0;for(A=D.length;E<A;E++){x=D[E],y=x.indexOf(":"),0<y&&y<x.length-1?(B=x.substring(y+1),C.push({key:t(x.substring(0,y),F),value:t(B,F)})):C.push({unknown:t(x,F)})}return C},ka:function(x){for(var D="string"===typeof x?n.g.W(x):x,C=[],x=[],A,z=0;A=D[z];z++){if(0<C.length&&C.push(","),A.key){var B;n:{B=A.key;var y=n.a.w(B);switch(y.length&&y.charAt(0)){case"'":case'"':break n;default:B="'"+y+"'"}}A=A.value;C.push(B);C.push(":");C.push(A);y=n.a.w(A);if(0<=n.a.j(u,n.a.w(y).toLowerCase())?0:y.match(v)!==l){0<x.length&&x.push(", "),x.push(B+" : function(__ko_value) { "+A+" = __ko_value; }")}}else{A.unknown&&C.push(A.unknown)}}D=C.join("");0<x.length&&(D=D+", '_ko_property_writers' : { "+x.join("")+" } ");return D},wb:function(x,z){for(var y=0;y<x.length;y++){if(n.a.w(x[y].key)==z){return a}}return j},$:function(x,B,A,z,y){if(!x||!n.Ha(x)){if((x=B()._ko_property_writers)&&x[A]){x[A](z)}}else{(!y||x()!==z)&&x(z)}}}}();n.b("jsonExpressionRewriting",n.g);n.b("jsonExpressionRewriting.bindingRewriteValidators",n.g.D);n.b("jsonExpressionRewriting.parseObjectLiteral",n.g.W);n.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",n.g.ka);(function(){function t(B){return 8==B.nodeType&&(w?B.text:B.nodeValue).match(y)}function A(B){return 8==B.nodeType&&(w?B.text:B.nodeValue).match(v)}function z(B,E){for(var F=B,D=1,C=[];F=F.nextSibling;){if(A(F)&&(D--,0===D)){return C}C.push(F);t(F)&&D++}E||e(Error("Cannot find closing comment tag to match: "+B.nodeValue));return l}function x(C,B){var D=z(C,B);return D?0<D.length?D[D.length-1].nextSibling:C.nextSibling:l}var w="<!--test-->"===g.createComment("test").text,y=w?/^<\!--\s*ko\s+(.*\:.*)\s*--\>$/:/^\s*ko\s+(.*\:.*)\s*$/,v=w?/^<\!--\s*\/ko\s*--\>$/:/^\s*\/ko\s*$/,u={ul:a,ol:a};n.e={C:{},childNodes:function(B){return t(B)?z(B):B.childNodes},ha:function(D){if(t(D)){for(var D=n.e.childNodes(D),B=0,C=D.length;B<C;B++){n.removeNode(D[B])}}else{n.a.ga(D)}},X:function(F,D){if(t(F)){n.e.ha(F);for(var E=F.nextSibling,C=0,B=D.length;C<B;C++){E.parentNode.insertBefore(D[C],E)}}else{n.a.X(F,D)}},Ka:function(B,C){t(B)?B.parentNode.insertBefore(C,B.nextSibling):B.firstChild?B.insertBefore(C,B.firstChild):B.appendChild(C)},Fa:function(B,D,C){t(B)?B.parentNode.insertBefore(D,C.nextSibling):C.nextSibling?B.insertBefore(D,C.nextSibling):B.appendChild(D)},firstChild:function(B){return !t(B)?B.firstChild:!B.nextSibling||A(B.nextSibling)?l:B.nextSibling},nextSibling:function(B){t(B)&&(B=x(B));return B.nextSibling&&A(B.nextSibling)?l:B.nextSibling},Xa:function(B){return(B=t(B))?B[1]:l},Ia:function(D){if(u[n.a.o(D)]){var F=D.firstChild;if(F){do{if(1===F.nodeType){var C;C=F.firstChild;var B=l;if(C){do{if(B){B.push(C)}else{if(t(C)){var E=x(C,a);E?C=E:B=[C]}else{A(C)&&(B=[C])}}}while(C=C.nextSibling)}if(C=B){B=F.nextSibling;for(E=0;E<C.length;E++){B?D.insertBefore(C[E],B):D.appendChild(C[E])}}}}while(F=F.nextSibling)}}}}})();n.b("virtualElements",n.e);n.b("virtualElements.allowedBindings",n.e.C);n.b("virtualElements.emptyNode",n.e.ha);n.b("virtualElements.insertAfter",n.e.Fa);n.b("virtualElements.prepend",n.e.Ka);n.b("virtualElements.setDomNodeChildren",n.e.X);(function(){n.J=function(){this.cb={}};n.a.extend(n.J.prototype,{nodeHasBindings:function(t){switch(t.nodeType){case 1:return t.getAttribute("data-bind")!=l;case 8:return n.e.Xa(t)!=l;default:return j}},getBindings:function(t,v){var u=this.getBindingsString(t,v);return u?this.parseBindingsString(u,v):l},getBindingsString:function(t){switch(t.nodeType){case 1:return t.getAttribute("data-bind");case 8:return n.e.Xa(t);default:return l}},parseBindingsString:function(B,A){try{var z=A.$data,z="object"==typeof z&&z!=l?[z,A]:[A],x=z.length,w=this.cb,y=x+"_"+B,v;if(!(v=w[y])){var u=" { "+n.g.ka(B)+" } ";v=w[y]=n.a.eb(u,x)}return v(z)}catch(t){e(Error("Unable to parse bindings.\nMessage: "+t+";\nBindings value: "+B))}}});n.J.instance=new n.J})();n.b("bindingProvider",n.J);(function(){function t(w,z,y){for(var x=n.e.firstChild(z);z=x;){x=n.e.nextSibling(z),v(w,z,y)}}function v(A,y,z){var x=a,w=1===y.nodeType;w&&n.e.Ia(y);if(w&&z||n.J.instance.nodeHasBindings(y)){x=u(y,l,A,z).Gb}x&&t(A,y,!w)}function u(E,D,B,C){function z(F){return function(){return x[F]}}function y(){return x}var A=0,x,w;n.h(function(){var I=B&&B instanceof n.z?B:new n.z(n.a.d(B)),F=I.$data;C&&n.Ra(E,I);if(x=("function"==typeof D?D():D)||n.J.instance.getBindings(E,I)){if(0===A){A=1;for(var G in x){var H=n.c[G];H&&8===E.nodeType&&!n.e.C[G]&&e(Error("The binding '"+G+"' cannot be used with virtual elements"));if(H&&"function"==typeof H.init&&(H=(0,H.init)(E,z(G),y,F,I))&&H.controlsDescendantBindings){w!==c&&e(Error("Multiple bindings ("+w+" and "+G+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.")),w=G}}A=2}if(2===A){for(G in x){(H=n.c[G])&&"function"==typeof H.update&&(0,H.update)(E,z(G),y,F,I)}}}},l,{disposeWhenNodeIsRemoved:E});return{Gb:w===c}}n.c={};n.z=function(w,x){x?(n.a.extend(this,x),this.$parentContext=x,this.$parent=x.$data,this.$parents=(x.$parents||[]).slice(0),this.$parents.unshift(this.$parent)):(this.$parents=[],this.$root=w);this.$data=w};n.z.prototype.createChildContext=function(w){return new n.z(w,this)};n.z.prototype.extend=function(w){var x=n.a.extend(new n.z,this);return n.a.extend(x,w)};n.Ra=function(w,x){if(2==arguments.length){n.a.f.set(w,"__ko_bindingContext__",x)}else{return n.a.f.get(w,"__ko_bindingContext__")}};n.ya=function(w,y,x){1===w.nodeType&&n.e.Ia(w);return u(w,y,x,a)};n.Ya=function(w,x){(1===x.nodeType||8===x.nodeType)&&t(w,x,a)};n.xa=function(x,w){w&&(1!==w.nodeType&&8!==w.nodeType)&&e(Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node"));w=w||f.document.body;v(x,w,a)};n.ea=function(w){switch(w.nodeType){case 1:case 8:var x=n.Ra(w);if(x){return x}if(w.parentNode){return n.ea(w.parentNode)}}};n.hb=function(w){return(w=n.ea(w))?w.$data:c};n.b("bindingHandlers",n.c);n.b("applyBindings",n.xa);n.b("applyBindingsToDescendants",n.Ya);n.b("applyBindingsToNode",n.ya);n.b("contextFor",n.ea);n.b("dataFor",n.hb)})();n.a.v(["click"],function(t){n.c[t]={init:function(x,w,v,u){return n.c.event.init.call(this,x,function(){var y={};y[t]=w();return y},v,u)}}});n.c.event={init:function(t,y,x,v){var u=y()||{},w;for(w in u){(function(){var z=w;"string"==typeof z&&n.a.n(t,z,function(A){var E,C=y()[z];if(C){var B=x();try{var D=n.a.L(arguments);D.unshift(v);E=C.apply(v,D)}finally{E!==a&&(A.preventDefault?A.preventDefault():A.returnValue=j)}B[z+"Bubble"]===j&&(A.cancelBubble=a,A.stopPropagation&&A.stopPropagation())}})})()}}};n.c.submit={init:function(t,w,v,u){"function"!=typeof w()&&e(Error("The value for a submit binding must be a function"));n.a.n(t,"submit",function(x){var y,z=w();try{y=z.call(u,t)}finally{y!==a&&(x.preventDefault?x.preventDefault():x.returnValue=j)}})}};n.c.visible={update:function(t,w){var v=n.a.d(w()),u="none"!=t.style.display;v&&!u?t.style.display="":!v&&u&&(t.style.display="none")}};n.c.enable={update:function(t,v){var u=n.a.d(v());u&&t.disabled?t.removeAttribute("disabled"):!u&&!t.disabled&&(t.disabled=a)}};n.c.disable={update:function(t,u){n.c.enable.update(t,function(){return !n.a.d(u())})}};n.c.value={init:function(t,z,y){function w(){var B=z(),A=n.k.r(t);n.g.$(B,y,"value",A,a)}var v=["change"],x=y().valueUpdate;x&&("string"==typeof x&&(x=[x]),n.a.N(v,x),v=n.a.za(v));if(n.a.ja&&("input"==t.tagName.toLowerCase()&&"text"==t.type&&"off"!=t.autocomplete&&(!t.form||"off"!=t.form.autocomplete))&&-1==n.a.j(v,"propertychange")){var u=j;n.a.n(t,"propertychange",function(){u=a});n.a.n(t,"blur",function(){if(u){u=j;w()}})}n.a.v(v,function(B){var A=w;if(n.a.Hb(B,"after")){A=function(){setTimeout(w,0)};B=B.substring(5)}n.a.n(t,B,A)})},update:function(t,y){var x="select"===n.a.o(t),v=n.a.d(y()),u=n.k.r(t),w=v!=u;0===v&&(0!==u&&"0"!==u)&&(w=a);w&&(u=function(){n.k.S(t,v)},u(),x&&setTimeout(u,0));x&&0<t.length&&s(t,v,j)}};n.c.options={update:function(D,C,B){"select"!==n.a.o(D)&&e(Error("options binding applies only to SELECT elements"));for(var z=0==D.length,y=n.a.T(n.a.aa(D.childNodes,function(E){return E.tagName&&"option"===n.a.o(E)&&E.selected}),function(E){return n.k.r(E)||E.innerText||E.textContent}),A=D.scrollTop,x=n.a.d(C());0<D.length;){n.F(D.options[0]),D.remove(0)}if(x){B=B();"number"!=typeof x.length&&(x=[x]);if(B.optionsCaption){var v=g.createElement("option");n.a.Y(v,B.optionsCaption);n.k.S(v,c);D.appendChild(v)}for(var C=0,u=x.length;C<u;C++){var v=g.createElement("option"),w="string"==typeof B.optionsValue?x[C][B.optionsValue]:x[C],w=n.a.d(w);n.k.S(v,w);var t=B.optionsText,w="function"==typeof t?t(x[C]):"string"==typeof t?x[C][t]:w;if(w===l||w===c){w=""}n.a.Qa(v,w);D.appendChild(v)}x=D.getElementsByTagName("option");C=v=0;for(u=x.length;C<u;C++){0<=n.a.j(y,n.k.r(x[C]))&&(n.a.Pa(x[C],a),v++)}D.scrollTop=A;z&&"value" in B&&s(D,n.a.d(B.value),a);n.a.lb(D)}}};n.c.options.oa="__ko.optionValueDomData__";n.c.selectedOptions={Ea:function(t){for(var y=[],t=t.childNodes,x=0,v=t.length;x<v;x++){var u=t[x],w=n.a.o(u);"option"==w&&u.selected?y.push(n.k.r(u)):"optgroup"==w&&(u=n.c.selectedOptions.Ea(u),Array.prototype.splice.apply(y,[y.length,0].concat(u)))}return y},init:function(t,v,u){n.a.n(t,"change",function(){var w=v(),x=n.c.selectedOptions.Ea(this);n.g.$(w,u,"value",x)})},update:function(t,z){"select"!=n.a.o(t)&&e(Error("values binding applies only to SELECT elements"));var y=n.a.d(z());if(y&&"number"==typeof y.length){for(var w=t.childNodes,v=0,x=w.length;v<x;v++){var u=w[v];"option"===n.a.o(u)&&n.a.Pa(u,0<=n.a.j(y,n.k.r(u)))}}}};n.c.text={update:function(t,u){n.a.Qa(t,u())}};n.c.html={init:function(){return{controlsDescendantBindings:a}},update:function(t,v){var u=n.a.d(v());n.a.Y(t,u)}};n.c.css={update:function(t,x){var w=n.a.d(x()||{}),v;for(v in w){if("string"==typeof v){var u=n.a.d(w[v]);n.a.Ua(t,v,u)}}}};n.c.style={update:function(t,x){var w=n.a.d(x()||{}),v;for(v in w){if("string"==typeof v){var u=n.a.d(w[v]);t.style[v]=u||""}}}};n.c.uniqueName={init:function(t,u){u()&&(t.name="ko_unique_"+ ++n.c.uniqueName.gb,(n.a.tb||n.a.ub)&&t.mergeAttributes(g.createElement("<input name='"+t.name+"'/>"),j))}};n.c.uniqueName.gb=0;n.c.checked={init:function(t,v,u){n.a.n(t,"click",function(){var x;if("checkbox"==t.type){x=t.checked}else{if("radio"==t.type&&t.checked){x=t.value}else{return}}var w=v();"checkbox"==t.type&&n.a.d(w) instanceof Array?(x=n.a.j(n.a.d(w),t.value),t.checked&&0>x?w.push(t.value):!t.checked&&0<=x&&w.splice(x,1)):n.g.$(w,u,"checked",x,a)});"radio"==t.type&&!t.name&&n.c.uniqueName.init(t,b(a))},update:function(t,v){var u=n.a.d(v());"checkbox"==t.type?t.checked=u instanceof Array?0<=n.a.j(u,t.value):u:"radio"==t.type&&(t.checked=t.value==u)}};var q={"class":"className","for":"htmlFor"};n.c.attr={update:function(t,y){var x=n.a.d(y())||{},v;for(v in x){if("string"==typeof v){var u=n.a.d(x[v]),w=u===j||u===l||u===c;w&&t.removeAttribute(v);8>=n.a.ja&&v in q?(v=q[v],w?t.removeAttribute(v):t[v]=u):w||t.setAttribute(v,u.toString())}}}};n.c.hasfocus={init:function(t,w,v){function u(x){var y=w();n.g.$(y,v,"hasfocus",x,a)}n.a.n(t,"focus",function(){u(a)});n.a.n(t,"focusin",function(){u(a)});n.a.n(t,"blur",function(){u(j)});n.a.n(t,"focusout",function(){u(j)})},update:function(t,v){var u=n.a.d(v());u?t.focus():t.blur();n.a.va(t,u?"focusin":"focusout")}};n.c["with"]={p:function(t){return function(){var u=t();return{"if":u,data:u,templateEngine:n.q.K}}},init:function(t,u){return n.c.template.init(t,n.c["with"].p(u))},update:function(t,x,w,v,u){return n.c.template.update(t,n.c["with"].p(x),w,v,u)}};n.g.D["with"]=j;n.e.C["with"]=a;n.c["if"]={p:function(t){return function(){return{"if":t(),templateEngine:n.q.K}}},init:function(t,u){return n.c.template.init(t,n.c["if"].p(u))},update:function(t,x,w,v,u){return n.c.template.update(t,n.c["if"].p(x),w,v,u)}};n.g.D["if"]=j;n.e.C["if"]=a;n.c.ifnot={p:function(t){return function(){return{ifnot:t(),templateEngine:n.q.K}}},init:function(t,u){return n.c.template.init(t,n.c.ifnot.p(u))},update:function(t,x,w,v,u){return n.c.template.update(t,n.c.ifnot.p(x),w,v,u)}};n.g.D.ifnot=j;n.e.C.ifnot=a;n.c.foreach={p:function(t){return function(){var u=n.a.d(t());return !u||"number"==typeof u.length?{foreach:u,templateEngine:n.q.K}:{foreach:u.data,includeDestroyed:u.includeDestroyed,afterAdd:u.afterAdd,beforeRemove:u.beforeRemove,afterRender:u.afterRender,templateEngine:n.q.K}}},init:function(t,u){return n.c.template.init(t,n.c.foreach.p(u))},update:function(t,x,w,v,u){return n.c.template.update(t,n.c.foreach.p(x),w,v,u)}};n.g.D.foreach=j;n.e.C.foreach=a;n.t=function(){};n.t.prototype.renderTemplateSource=function(){e(Error("Override renderTemplateSource"))};n.t.prototype.createJavaScriptEvaluatorBlock=function(){e(Error("Override createJavaScriptEvaluatorBlock"))};n.t.prototype.makeTemplateSource=function(t,v){if("string"==typeof t){var v=v||g,u=v.getElementById(t);u||e(Error("Cannot find template with ID "+t));return new n.l.i(u)}if(1==t.nodeType||8==t.nodeType){return new n.l.M(t)}e(Error("Unknown template type: "+t))};n.t.prototype.renderTemplate=function(t,w,v,u){return this.renderTemplateSource(this.makeTemplateSource(t,u),w,v)};n.t.prototype.isTemplateRewritten=function(t,u){return this.allowTemplateRewriting===j||!(u&&u!=g)&&this.V&&this.V[t]?a:this.makeTemplateSource(t,u).data("isRewritten")};n.t.prototype.rewriteTemplate=function(t,w,v){var u=this.makeTemplateSource(t,v),w=w(u.text());u.text(w);u.data("isRewritten",a);!(v&&v!=g)&&"string"==typeof t&&(this.V=this.V||{},this.V[t]=a)};n.b("templateEngine",n.t);n.Z=function(){function t(w,C,A){for(var w=n.g.W(w),B=n.g.D,y=0;y<w.length;y++){var x=w[y].key;if(B.hasOwnProperty(x)){var z=B[x];"function"===typeof z?(x=z(w[y].value))&&e(Error(x)):z||e(Error("This template engine does not support the '"+x+"' binding within its templates"))}}w="ko.templateRewriting.applyMemoizedBindingsToNextSibling(function() {             return (function() { return { "+n.g.ka(w)+" } })()         })";return A.createJavaScriptEvaluatorBlock(w)+C}var v=/(<[a-z]+\d*(\s+(?!data-bind=)[a-z0-9\-]+(=(\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind=(["'])([\s\S]*?)\5/gi,u=/<\!--\s*ko\b\s*([\s\S]*?)\s*--\>/g;return{mb:function(w,y,x){y.isTemplateRewritten(w,x)||y.rewriteTemplate(w,function(z){return n.Z.zb(z,y)},x)},zb:function(w,x){return w.replace(v,function(z,E,D,C,A,y,B){return t(B,E,x)}).replace(u,function(y,z){return t(z,"<!-- ko -->",x)})},Za:function(w){return n.s.na(function(y,x){y.nextSibling&&n.ya(y.nextSibling,w,x)})}}}();n.b("templateRewriting",n.Z);n.b("templateRewriting.applyMemoizedBindingsToNextSibling",n.Z.Za);(function(){n.l={};n.l.i=function(t){this.i=t};n.l.i.prototype.text=function(){var t=n.a.o(this.i),t="script"===t?"text":"textarea"===t?"value":"innerHTML";if(0==arguments.length){return this.i[t]}var u=arguments[0];"innerHTML"===t?n.a.Y(this.i,u):this.i[t]=u};n.l.i.prototype.data=function(t){if(1===arguments.length){return n.a.f.get(this.i,"templateSourceData_"+t)}n.a.f.set(this.i,"templateSourceData_"+t,arguments[1])};n.l.M=function(t){this.i=t};n.l.M.prototype=new n.l.i;n.l.M.prototype.text=function(){if(0==arguments.length){var t=n.a.f.get(this.i,"__ko_anon_template__")||{};t.ua===c&&t.da&&(t.ua=t.da.innerHTML);return t.ua}n.a.f.set(this.i,"__ko_anon_template__",{ua:arguments[0]})};n.l.i.prototype.nodes=function(){if(0==arguments.length){return(n.a.f.get(this.i,"__ko_anon_template__")||{}).da}n.a.f.set(this.i,"__ko_anon_template__",{da:arguments[0]})};n.b("templateSources",n.l);n.b("templateSources.domElement",n.l.i);n.b("templateSources.anonymousTemplate",n.l.M)})();(function(){function t(y,B,A){for(var z,B=n.e.nextSibling(B);y&&(z=y)!==B;){y=n.e.nextSibling(z),(1===z.nodeType||8===z.nodeType)&&A(z)}}function x(B,A){if(B.length){var z=B[0],y=B[B.length-1];t(z,y,function(C){n.xa(A,C)});t(z,y,function(C){n.s.Wa(C,[A])})}}function w(y){return y.nodeType?y:0<y.length?y[0]:l}function v(y,E,B,A,C){var C=C||{},z=y&&w(y),z=z&&z.ownerDocument,D=C.templateEngine||u;n.Z.mb(B,D,z);B=D.renderTemplate(B,A,C,z);("number"!=typeof B.length||0<B.length&&"number"!=typeof B[0].nodeType)&&e(Error("Template engine must return an array of DOM nodes"));z=j;switch(E){case"replaceChildren":n.e.X(y,B);z=a;break;case"replaceNode":n.a.Na(y,B);z=a;break;case"ignoreTargetNode":break;default:e(Error("Unknown renderMode: "+E))}z&&(x(B,A),C.afterRender&&C.afterRender(B,A.$data));return B}var u;n.ra=function(y){y!=c&&!(y instanceof n.t)&&e(Error("templateEngine must inherit from ko.templateEngine"));u=y};n.qa=function(y,D,B,A,C){B=B||{};(B.templateEngine||u)==c&&e(Error("Set a template engine before calling renderTemplate"));C=C||"replaceChildren";if(A){var z=w(A);return n.h(function(){var E=D&&D instanceof n.z?D:new n.z(n.a.d(D)),F="function"==typeof y?y(E.$data):y,E=v(A,C,F,E,B);"replaceNode"==C&&(A=E,z=w(A))},l,{disposeWhen:function(){return !z||!n.a.fa(z)},disposeWhenNodeIsRemoved:z&&"replaceNode"==C?z.parentNode:z})}return n.s.na(function(E){n.qa(y,D,B,E,"replaceNode")})};n.Fb=function(y,F,C,A,B){function z(H,G){x(G,E);C.afterRender&&C.afterRender(G,H)}function D(I,H){var G="function"==typeof y?y(I):y;E=B.createChildContext(n.a.d(I));E.$index=H;return v(l,"ignoreTargetNode",G,E,C)}var E;return n.h(function(){var G=n.a.d(F)||[];"undefined"==typeof G.length&&(G=[G]);G=n.a.aa(G,function(H){return C.includeDestroyed||H===c||H===l||!n.a.d(H._destroy)});n.a.Oa(A,G,D,C,z)},l,{disposeWhenNodeIsRemoved:A})};n.c.template={init:function(y,A){var z=n.a.d(A());if("string"!=typeof z&&!z.name&&(1==y.nodeType||8==y.nodeType)){z=1==y.nodeType?y.childNodes:n.e.childNodes(y),z=n.a.Ab(z),(new n.l.M(y)).nodes(z)}return{controlsDescendantBindings:a}},update:function(y,D,C,B,A){D=n.a.d(D());B=a;"string"==typeof D?C=D:(C=D.name,"if" in D&&(B=B&&n.a.d(D["if"])),"ifnot" in D&&(B=B&&!n.a.d(D.ifnot)));var z=l;"object"===typeof D&&"foreach" in D?z=n.Fb(C||y,B&&D.foreach||[],D,y,A):B?(A="object"==typeof D&&"data" in D?A.createChildContext(n.a.d(D.data)):A,z=n.qa(C||y,A,D,y)):n.e.ha(y);A=z;(D=n.a.f.get(y,"__ko__templateSubscriptionDomDataKey__"))&&"function"==typeof D.A&&D.A();n.a.f.set(y,"__ko__templateSubscriptionDomDataKey__",A)}};n.g.D.template=function(y){y=n.g.W(y);return 1==y.length&&y[0].unknown||n.g.wb(y,"name")?l:"This template engine does not support anonymous templates nested within its templates"};n.e.C.template=a})();n.b("setTemplateEngine",n.ra);n.b("renderTemplate",n.qa);(function(){n.a.O=function(D,C,B){if(B===c){return n.a.O(D,C,1)||n.a.O(D,C,10)||n.a.O(D,C,Number.MAX_VALUE)}for(var D=D||[],C=C||[],z=D,y=C,A=[],x=0;x<=y.length;x++){A[x]=[]}for(var x=0,v=Math.min(z.length,B);x<=v;x++){A[0][x]=x}x=1;for(v=Math.min(y.length,B);x<=v;x++){A[x][0]=x}for(var v=z.length,u,w=y.length,x=1;x<=v;x++){u=Math.max(1,x-B);for(var t=Math.min(w,x+B);u<=t;u++){A[u][x]=z[x-1]===y[u-1]?A[u-1][x-1]:Math.min(A[u-1][x]===c?Number.MAX_VALUE:A[u-1][x]+1,A[u][x-1]===c?Number.MAX_VALUE:A[u][x-1]+1)}}B=D.length;z=C.length;y=[];x=A[z][B];if(x===c){A=l}else{for(;0<B||0<z;){v=A[z][B];w=0<z?A[z-1][B]:x+1;t=0<B?A[z][B-1]:x+1;u=0<z&&0<B?A[z-1][B-1]:x+1;if(w===c||w<v-1){w=x+1}if(t===c||t<v-1){t=x+1}u<v-1&&(u=x+1);w<=t&&w<u?(y.push({status:"added",value:C[z-1]}),z--):(t<w&&t<u?y.push({status:"deleted",value:D[B-1]}):(y.push({status:"retained",value:D[B-1]}),z--),B--)}A=y.reverse()}return A}})();n.b("utils.compareArrays",n.a.O);(function(){function t(w){if(2<w.length){for(var v=w[0],y=w[w.length-1],x=[v];v!==y;){v=v.nextSibling;if(!v){return}x.push(v)}Array.prototype.splice.apply(w,[0,w.length].concat(x))}}function u(A,y,x,z,w){var v=[],A=n.h(function(){var B=y(x,w)||[];0<v.length&&(t(v),n.a.Na(v,B),z&&z(x,B));v.splice(0,v.length);n.a.N(v,B)},l,{disposeWhenNodeIsRemoved:A,disposeWhen:function(){return 0==v.length||!n.a.fa(v[0])}});return{xb:v,h:A}}n.a.Oa=function(X,V,U,W,T){for(var V=V||[],W=W||{},R=n.a.f.get(X,"setDomNodeChildrenFromArrayMapping_lastMappingResult")===c,Q=n.a.f.get(X,"setDomNodeChildrenFromArrayMapping_lastMappingResult")||[],S=n.a.T(Q,function(v){return v.$a}),P=n.a.O(S,V),V=[],N=0,O=[],H=0,S=[],I=l,L=0,G=P.length;L<G;L++){switch(P[L].status){case"retained":var E=Q[N];E.qb(H);H=V.push(E);0<E.P.length&&(I=E.P[E.P.length-1]);N++;break;case"deleted":Q[N].h.A();t(Q[N].P);n.a.v(Q[N].P,function(v){O.push({element:v,index:L,value:P[L].value});I=v});N++;break;case"added":for(var E=P[L].value,F=n.m(H),H=u(X,U,E,T,F),K=H.xb,H=V.push({$a:P[L].value,P:K,h:H.h,qb:F}),A=0,M=K.length;A<M;A++){var J=K[A];S.push({element:J,index:L,value:P[L].value});I==l?n.e.Ka(X,J):n.e.Fa(X,J,I);I=J}T&&T(E,K,F)}}n.a.v(O,function(v){n.F(v.element)});U=j;if(!R){if(W.afterAdd){for(L=0;L<S.length;L++){W.afterAdd(S[L].element,S[L].index,S[L].value)}}if(W.beforeRemove){for(L=0;L<O.length;L++){W.beforeRemove(O[L].element,O[L].index,O[L].value)}U=a}}if(!U&&O.length){for(L=0;L<O.length;L++){W=O[L].element,W.parentNode&&W.parentNode.removeChild(W)}}n.a.f.set(X,"setDomNodeChildrenFromArrayMapping_lastMappingResult",V)}})();n.b("utils.setDomNodeChildrenFromArrayMapping",n.a.Oa);n.q=function(){this.allowTemplateRewriting=j};n.q.prototype=new n.t;n.q.prototype.renderTemplateSource=function(t){var u=!(9>n.a.ja)&&t.nodes?t.nodes():l;if(u){return n.a.L(u.cloneNode(a).childNodes)}t=t.text();return n.a.pa(t)};n.q.K=new n.q;n.ra(n.q.K);n.b("nativeTemplateEngine",n.q);(function(){n.ma=function(){var u=this.vb=function(){if("undefined"==typeof jQuery||!jQuery.tmpl){return 0}try{if(0<=jQuery.tmpl.tag.tmpl.open.toString().indexOf("__")){return 2}}catch(v){}return 1}();this.renderTemplateSource=function(v,x,w){w=w||{};2>u&&e(Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later."));var y=v.data("precompiled");y||(y=v.text()||"",y=jQuery.template(l,"{{ko_with $item.koBindingContext}}"+y+"{{/ko_with}}"),v.data("precompiled",y));v=[x.$data];x=jQuery.extend({koBindingContext:x},w.templateOptions);x=jQuery.tmpl(y,v,x);x.appendTo(g.createElement("div"));jQuery.fragments={};return x};this.createJavaScriptEvaluatorBlock=function(v){return"{{ko_code ((function() { return "+v+" })()) }}"};this.addTemplate=function(w,v){g.write("<script type='text/html' id='"+w+"'>"+v+"<\/script>")};0<u&&(jQuery.tmpl.tag.ko_code={open:"__.push($1 || '');"},jQuery.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};n.ma.prototype=new n.t;var t=new n.ma;0<t.vb&&n.ra(t);n.b("jqueryTmplTemplateEngine",n.ma)})()}"function"===typeof require&&"object"===typeof exports&&"object"===typeof module?k(module.exports||exports):"function"===typeof define&&define.amd?define(["exports"],k):k(f.ko={});a})(window,document,navigator);Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|after|from)/i,subtract:/^(\-|before|ago)/i,yesterday:/^yesterday/i,today:/^t(oday)?/i,tomorrow:/^tomorrow/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^min(ute)?s?/i,hour:/^h(ou)?rs?/i,week:/^w(ee)?k/i,month:/^m(o(nth)?s?)?/i,day:/^d(ays?)?/i,year:/^y((ea)?rs?)?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a|p)/i},abbreviatedTimeZoneStandard:{GMT:"-000",EST:"-0400",CST:"-0500",MST:"-0600",PST:"-0700"},abbreviatedTimeZoneDST:{GMT:"-000",EDT:"-0500",CDT:"-0600",MDT:"-0700",PDT:"-0800"}};Date.getMonthNumberFromName=function(b){var e=Date.CultureInfo.monthNames,a=Date.CultureInfo.abbreviatedMonthNames,d=b.toLowerCase();for(var c=0;c<e.length;c++){if(e[c].toLowerCase()==d||a[c].toLowerCase()==d){return c}}return -1};Date.getDayNumberFromName=function(b){var f=Date.CultureInfo.dayNames,a=Date.CultureInfo.abbreviatedDayNames,e=Date.CultureInfo.shortestDayNames,d=b.toLowerCase();for(var c=0;c<f.length;c++){if(f[c].toLowerCase()==d||a[c].toLowerCase()==d){return c}}return -1};Date.isLeapYear=function(a){return(((a%4===0)&&(a%100!==0))||(a%400===0))};Date.getDaysInMonth=function(a,b){return[31,(Date.isLeapYear(a)?29:28),31,30,31,30,31,31,30,31,30,31][b]};Date.getTimezoneOffset=function(a,b){return(b||false)?Date.CultureInfo.abbreviatedTimeZoneDST[a.toUpperCase()]:Date.CultureInfo.abbreviatedTimeZoneStandard[a.toUpperCase()]};Date.getTimezoneAbbreviation=function(b,d){var c=(d||false)?Date.CultureInfo.abbreviatedTimeZoneDST:Date.CultureInfo.abbreviatedTimeZoneStandard,a;for(a in c){if(c[a]===b){return a}}return null};Date.prototype.clone=function(){return new Date(this.getTime())};Date.prototype.compareTo=function(a){if(isNaN(this)){throw new Error(this)}if(a instanceof Date&&!isNaN(a)){return(this>a)?1:(this<a)?-1:0}else{throw new TypeError(a)}};Date.prototype.equals=function(a){return(this.compareTo(a)===0)};Date.prototype.between=function(c,a){var b=this.getTime();return b>=c.getTime()&&b<=a.getTime()};Date.prototype.addMilliseconds=function(a){this.setMilliseconds(this.getMilliseconds()+a);return this};Date.prototype.addSeconds=function(a){return this.addMilliseconds(a*1000)};Date.prototype.addMinutes=function(a){return this.addMilliseconds(a*60000)};Date.prototype.addHours=function(a){return this.addMilliseconds(a*3600000)};Date.prototype.addDays=function(a){return this.addMilliseconds(a*86400000)};Date.prototype.addWeeks=function(a){return this.addMilliseconds(a*604800000)};Date.prototype.addMonths=function(a){var b=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+a);this.setDate(Math.min(b,this.getDaysInMonth()));return this};Date.prototype.addYears=function(a){return this.addMonths(a*12)};Date.prototype.add=function(b){if(typeof b=="number"){this._orient=b;return this}var a=b;if(a.millisecond||a.milliseconds){this.addMilliseconds(a.millisecond||a.milliseconds)}if(a.second||a.seconds){this.addSeconds(a.second||a.seconds)}if(a.minute||a.minutes){this.addMinutes(a.minute||a.minutes)}if(a.hour||a.hours){this.addHours(a.hour||a.hours)}if(a.month||a.months){this.addMonths(a.month||a.months)}if(a.year||a.years){this.addYears(a.year||a.years)}if(a.day||a.days){this.addDays(a.day||a.days)}return this};Date._validate=function(d,c,a,b){if(typeof d!="number"){throw new TypeError(d+" is not a Number.")}else{if(d<c||d>a){throw new RangeError(d+" is not a valid value for "+b+".")}}return true};Date.validateMillisecond=function(a){return Date._validate(a,0,999,"milliseconds")};Date.validateSecond=function(a){return Date._validate(a,0,59,"seconds")};Date.validateMinute=function(a){return Date._validate(a,0,59,"minutes")};Date.validateHour=function(a){return Date._validate(a,0,23,"hours")};Date.validateDay=function(c,a,b){return Date._validate(c,1,Date.getDaysInMonth(a,b),"days")};Date.validateMonth=function(a){return Date._validate(a,0,11,"months")};Date.validateYear=function(a){return Date._validate(a,1,9999,"seconds")};Date.prototype.set=function(b){var a=b;if(!a.millisecond&&a.millisecond!==0){a.millisecond=-1}if(!a.second&&a.second!==0){a.second=-1}if(!a.minute&&a.minute!==0){a.minute=-1}if(!a.hour&&a.hour!==0){a.hour=-1}if(!a.day&&a.day!==0){a.day=-1}if(!a.month&&a.month!==0){a.month=-1}if(!a.year&&a.year!==0){a.year=-1}if(a.millisecond!=-1&&Date.validateMillisecond(a.millisecond)){this.addMilliseconds(a.millisecond-this.getMilliseconds())}if(a.second!=-1&&Date.validateSecond(a.second)){this.addSeconds(a.second-this.getSeconds())}if(a.minute!=-1&&Date.validateMinute(a.minute)){this.addMinutes(a.minute-this.getMinutes())}if(a.hour!=-1&&Date.validateHour(a.hour)){this.addHours(a.hour-this.getHours())}if(a.month!==-1&&Date.validateMonth(a.month)){this.addMonths(a.month-this.getMonth())}if(a.year!=-1&&Date.validateYear(a.year)){this.addYears(a.year-this.getFullYear())}if(a.day!=-1&&Date.validateDay(a.day,this.getFullYear(),this.getMonth())){this.addDays(a.day-this.getDate())}if(a.timezone){this.setTimezone(a.timezone)}if(a.timezoneOffset){this.setTimezoneOffset(a.timezoneOffset)}return this};Date.prototype.clearTime=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this};Date.prototype.isLeapYear=function(){var a=this.getFullYear();return(((a%4===0)&&(a%100!==0))||(a%400===0))};Date.prototype.isWeekday=function(){return !(this.is().sat()||this.is().sun())};Date.prototype.getDaysInMonth=function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())};Date.prototype.moveToFirstDayOfMonth=function(){return this.set({day:1})};Date.prototype.moveToLastDayOfMonth=function(){return this.set({day:this.getDaysInMonth()})};Date.prototype.moveToDayOfWeek=function(a,b){var c=(a-this.getDay()+7*(b||+1))%7;return this.addDays((c===0)?c+=7*(b||+1):c)};Date.prototype.moveToMonth=function(c,a){var b=(c-this.getMonth()+12*(a||+1))%12;return this.addMonths((b===0)?b+=12*(a||+1):b)};Date.prototype.getDayOfYear=function(){return Math.floor((this-new Date(this.getFullYear(),0,1))/86400000)};Date.prototype.getWeekOfYear=function(a){var h=this.getFullYear(),c=this.getMonth(),f=this.getDate();var k=a||Date.CultureInfo.firstDayOfWeek;var e=7+1-new Date(h,0,1).getDay();if(e==8){e=1}var b=((Date.UTC(h,c,f,0,0,0)-Date.UTC(h,0,1,0,0,0))/86400000)+1;var j=Math.floor((b-e+7)/7);if(j===k){h--;var g=7+1-new Date(h,0,1).getDay();if(g==2||g==8){j=53}else{j=52}}return j};Date.prototype.isDST=function(){console.log("isDST");return this.toString().match(/(E|C|M|P)(S|D)T/)[2]=="D"};Date.prototype.getTimezone=function(){return Date.getTimezoneAbbreviation(this.getUTCOffset,this.isDST())};Date.prototype.setTimezoneOffset=function(b){var a=this.getTimezoneOffset(),c=Number(b)*-6/10;this.addMinutes(c-a);return this};Date.prototype.setTimezone=function(a){return this.setTimezoneOffset(Date.getTimezoneOffset(a))};Date.prototype.getUTCOffset=function(){var b=this.getTimezoneOffset()*-10/6,a;if(b<0){a=(b-10000).toString();return a[0]+a.substr(2)}else{a=(b+10000).toString();return"+"+a.substr(1)}};Date.prototype.getDayName=function(a){return a?Date.CultureInfo.abbreviatedDayNames[this.getDay()]:Date.CultureInfo.dayNames[this.getDay()]};Date.prototype.getMonthName=function(a){return a?Date.CultureInfo.abbreviatedMonthNames[this.getMonth()]:Date.CultureInfo.monthNames[this.getMonth()]};Date.prototype._toString=Date.prototype.toString;Date.prototype.toString=function(c){var a=this;var b=function b(d){return(d.toString().length==1)?"0"+d:d};return c?c.replace(/dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?/g,function(d){switch(d){case"hh":return b(a.getHours()<13?a.getHours():(a.getHours()-12));case"h":return a.getHours()<13?a.getHours():(a.getHours()-12);case"HH":return b(a.getHours());case"H":return a.getHours();case"mm":return b(a.getMinutes());case"m":return a.getMinutes();case"ss":return b(a.getSeconds());case"s":return a.getSeconds();case"yyyy":return a.getFullYear();case"yy":return a.getFullYear().toString().substring(2,4);case"dddd":return a.getDayName();case"ddd":return a.getDayName(true);case"dd":return b(a.getDate());case"d":return a.getDate().toString();case"MMMM":return a.getMonthName();case"MMM":return a.getMonthName(true);case"MM":return b((a.getMonth()+1));case"M":return a.getMonth()+1;case"t":return a.getHours()<12?Date.CultureInfo.amDesignator.substring(0,1):Date.CultureInfo.pmDesignator.substring(0,1);case"tt":return a.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator;case"zzz":case"zz":case"z":return""}}):this._toString()};Date.now=function(){return new Date()};Date.today=function(){return Date.now().clearTime()};Date.prototype._orient=+1;Date.prototype.next=function(){this._orient=+1;return this};Date.prototype.last=Date.prototype.prev=Date.prototype.previous=function(){this._orient=-1;return this};Date.prototype._is=false;Date.prototype.is=function(){this._is=true;return this};Number.prototype._dateElement="day";Number.prototype.fromNow=function(){var a={};a[this._dateElement]=this;return Date.now().add(a)};Number.prototype.ago=function(){var a={};a[this._dateElement]=this*-1;return Date.now().add(a)};(function(){var g=Date.prototype,a=Number.prototype;var p=("sunday monday tuesday wednesday thursday friday saturday").split(/\s/),o=("january february march april may june july august september october november december").split(/\s/),n=("Millisecond Second Minute Hour Day Week Month Year").split(/\s/),m;var l=function(j){return function(){if(this._is){this._is=false;return this.getDay()==j}return this.moveToDayOfWeek(j,this._orient)}};for(var f=0;f<p.length;f++){g[p[f]]=g[p[f].substring(0,3)]=l(f)}var h=function(j){return function(){if(this._is){this._is=false;return this.getMonth()===j}return this.moveToMonth(j,this._orient)}};for(var d=0;d<o.length;d++){g[o[d]]=g[o[d].substring(0,3)]=h(d)}var e=function(k){return function(){if(k.substring(k.length-1)!="s"){k+="s"}return this["add"+k](this._orient)}};var b=function(j){return function(){this._dateElement=j;return this}};for(var c=0;c<n.length;c++){m=n[c].toLowerCase();g[m]=g[m+"s"]=e(n[c]);a[m]=a[m+"s"]=b(m)}}());Date.prototype.toJSONString=function(){return this.toString("yyyy-MM-ddThh:mm:ssZ")};Date.prototype.toShortDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortDatePattern)};Date.prototype.toLongDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.longDatePattern)};Date.prototype.toShortTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortTimePattern)};Date.prototype.toLongTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.longTimePattern)};Date.prototype.getOrdinal=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};(function(){Date.Parsing={Exception:function(j){this.message="Parse error at '"+j.substring(0,10)+" ...'"}};var a=Date.Parsing;var c=a.Operators={rtoken:function(j){return function(k){var l=k.match(j);if(l){return([l[0],k.substring(l[0].length)])}else{throw new a.Exception(k)}}},token:function(j){return function(k){return c.rtoken(new RegExp("^s*"+k+"s*"))(k)}},stoken:function(j){return c.rtoken(new RegExp("^"+j))},until:function(j){return function(k){var l=[],n=null;while(k.length){try{n=j.call(this,k)}catch(m){l.push(n[0]);k=n[1];continue}break}return[l,k]}},many:function(j){return function(k){var n=[],l=null;while(k.length){try{l=j.call(this,k)}catch(m){return[n,k]}n.push(l[0]);k=l[1]}return[n,k]}},optional:function(j){return function(k){var l=null;try{l=j.call(this,k)}catch(m){return[null,k]}return[l[0],l[1]]}},not:function(j){return function(k){try{j.call(this,k)}catch(l){return[null,k]}throw new a.Exception(k)}},ignore:function(j){return j?function(k){var l=null;l=j.call(this,k);return[null,l[1]]}:null},product:function(){var k=arguments[0],l=Array.prototype.slice.call(arguments,1),m=[];for(var j=0;j<k.length;j++){m.push(c.each(k[j],l))}return m},cache:function(l){var j={},k=null;return function(m){try{k=j[m]=(j[m]||l.call(this,m))}catch(n){k=j[m]=n}if(k instanceof a.Exception){throw k}else{return k}}},any:function(){var j=arguments;return function(l){var m=null;for(var k=0;k<j.length;k++){if(j[k]==null){continue}try{m=(j[k].call(this,l))}catch(n){m=null}if(m){return m}}throw new a.Exception(l)}},each:function(){var j=arguments;return function(l){var o=[],m=null;for(var k=0;k<j.length;k++){if(j[k]==null){continue}try{m=(j[k].call(this,l))}catch(n){throw new a.Exception(l)}o.push(m[0]);l=m[1]}return[o,l]}},all:function(){var k=arguments,j=j;return j.each(j.optional(k))},sequence:function(j,k,l){k=k||c.rtoken(/^\s*/);l=l||null;if(j.length==1){return j[0]}return function(p){var t=null,u=null;var w=[];for(var o=0;o<j.length;o++){try{t=j[o].call(this,p)}catch(v){break}w.push(t[0]);try{u=k.call(this,t[1])}catch(n){u=null;break}p=u[1]}if(!t){throw new a.Exception(p)}if(u){throw new a.Exception(u[1])}if(l){try{t=l.call(this,t[1])}catch(m){throw new a.Exception(t[1])}}return[w,(t?t[1]:p)]}},between:function(k,l,j){j=j||k;var m=c.each(c.ignore(k),l,c.ignore(j));return function(n){var o=m.call(this,n);return[[o[0][0],r[0][2]],o[1]]}},list:function(j,k,l){k=k||c.rtoken(/^\s*/);l=l||null;return(j instanceof Array?c.each(c.product(j.slice(0,-1),c.ignore(k)),j.slice(-1),c.ignore(l)):c.each(c.many(c.each(j,c.ignore(k))),px,c.ignore(l)))},set:function(j,k,l){k=k||c.rtoken(/^\s*/);l=l||null;return function(C){var m=null,o=null,n=null,t=null,u=[[],C],B=false;for(var w=0;w<j.length;w++){n=null;o=null;m=null;B=(j.length==1);try{m=j[w].call(this,C)}catch(z){continue}t=[[m[0]],m[1]];if(m[1].length>0&&!B){try{n=k.call(this,m[1])}catch(A){B=true}}else{B=true}if(!B&&n[1].length===0){B=true}if(!B){var x=[];for(var v=0;v<j.length;v++){if(w!=v){x.push(j[v])}}o=c.set(x,k).call(this,n[1]);if(o[0].length>0){t[0]=t[0].concat(o[0]);t[1]=o[1]}}if(t[1].length<u[1].length){u=t}if(u[1].length===0){break}}if(u[0].length===0){return u}if(l){try{n=l.call(this,u[1])}catch(y){throw new a.Exception(u[1])}u[1]=n[1]}return u}},forward:function(j,k){return function(l){return j[k].call(this,l)}},replace:function(k,j){return function(l){var m=k.call(this,l);return[j,m[1]]}},process:function(k,j){return function(l){var m=k.call(this,l);return[j.call(this,m[0]),m[1]]}},min:function(j,k){return function(l){var m=k.call(this,l);if(m[0].length<j){throw new a.Exception(l)}return m}}};var h=function(j){return function(){var k=null,n=[];if(arguments.length>1){k=Array.prototype.slice.call(arguments)}else{if(arguments[0] instanceof Array){k=arguments[0]}}if(k){for(var m=0,l=k.shift();m<l.length;m++){k.unshift(l[m]);n.push(j.apply(null,k));k.shift();return n}}else{return j.apply(null,arguments)}}};var g="optional not ignore cache".split(/\s/);for(var d=0;d<g.length;d++){c[g[d]]=h(c[g[d]])}var f=function(j){return function(){if(arguments[0] instanceof Array){return j.apply(null,arguments[0])}else{return j.apply(null,arguments)}}};var e="each any all".split(/\s/);for(var b=0;b<e.length;b++){c[e[b]]=f(c[e[b]])}}());(function(){var f=function(k){var l=[];for(var g=0;g<k.length;g++){if(k[g] instanceof Array){l=l.concat(f(k[g]))}else{if(k[g]){l.push(k[g])}}}return l};Date.Grammar={};Date.Translator={hour:function(g){return function(){this.hour=Number(g)}},minute:function(g){return function(){this.minute=Number(g)}},second:function(g){return function(){this.second=Number(g)}},meridian:function(g){return function(){this.meridian=g.slice(0,1).toLowerCase()}},timezone:function(g){return function(){var k=g.replace(/[^\d\+\-]/g,"");if(k.length){this.timezoneOffset=Number(k)}else{this.timezone=g.toLowerCase()}}},day:function(g){var k=g[0];return function(){this.day=Number(k.match(/\d+/)[0])}},month:function(g){return function(){this.month=((g.length==3)?Date.getMonthNumberFromName(g):(Number(g)-1))}},year:function(g){return function(){var k=Number(g);this.year=((g.length>2)?k:(k+(((k+2000)<Date.CultureInfo.twoDigitYearMax)?2000:1900)))}},rday:function(g){return function(){switch(g){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0;this.now=true;break}}},finishExact:function(g){g=(g instanceof Array)?g:[g];var k=new Date();this.year=k.getFullYear();this.month=k.getMonth();this.day=1;this.hour=0;this.minute=0;this.second=0;for(var l=0;l<g.length;l++){if(g[l]){g[l].call(this)}}this.hour=(this.meridian=="p"&&this.hour<13)?this.hour+12:this.hour;if(this.day>Date.getDaysInMonth(this.year,this.month)){throw new RangeError(this.day+" is not a valid value for days.")}var m=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);if(this.timezone){m.set({timezone:this.timezone})}else{if(this.timezoneOffset){m.set({timezoneOffset:this.timezoneOffset})}}return m},finish:function(g){g=(g instanceof Array)?f(g):[g];if(g.length===0){return null}for(var n=0;n<g.length;n++){if(typeof g[n]=="function"){g[n].call(this)}}if(this.now){return new Date()}var k=Date.today();var q=null;var o=!!(this.days!=null||this.orient||this.operator);if(o){var p,m,l;l=((this.orient=="past"||this.operator=="subtract")?-1:1);if(this.weekday){this.unit="day";p=(Date.getDayNumberFromName(this.weekday)-k.getDay());m=7;this.days=p?((p+(l*m))%m):(l*m)}if(this.month){this.unit="month";p=(this.month-k.getMonth());m=12;this.months=p?((p+(l*m))%m):(l*m);this.month=null}if(!this.unit){this.unit="day"}if(this[this.unit+"s"]==null||this.operator!=null){if(!this.value){this.value=1}if(this.unit=="week"){this.unit="day";this.value=this.value*7}this[this.unit+"s"]=this.value*l}return k.add(this)}else{if(this.meridian&&this.hour){this.hour=(this.hour<13&&this.meridian=="p")?this.hour+12:this.hour}if(this.weekday&&!this.day){this.day=(k.addDays((Date.getDayNumberFromName(this.weekday)-k.getDay()))).getDate()}if(this.month&&!this.day){this.day=1}return k.set(this)}}};var b=Date.Parsing.Operators,e=Date.Grammar,d=Date.Translator,j;e.datePartDelimiter=b.rtoken(/^([\s\-\.\,\/\x27]+)/);e.timePartDelimiter=b.stoken(":");e.whiteSpace=b.rtoken(/^\s*/);e.generalDelimiter=b.rtoken(/^(([\s\,]|at|on)+)/);var a={};e.ctoken=function(n){var m=a[n];if(!m){var o=Date.CultureInfo.regexPatterns;var l=n.split(/\s+/),k=[];for(var g=0;g<l.length;g++){k.push(b.replace(b.rtoken(o[l[g]]),l[g]))}m=a[n]=b.any.apply(null,k)}return m};e.ctoken2=function(g){return b.rtoken(Date.CultureInfo.regexPatterns[g])};e.h=b.cache(b.process(b.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),d.hour));e.hh=b.cache(b.process(b.rtoken(/^(0[0-9]|1[0-2])/),d.hour));e.H=b.cache(b.process(b.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),d.hour));e.HH=b.cache(b.process(b.rtoken(/^([0-1][0-9]|2[0-3])/),d.hour));e.m=b.cache(b.process(b.rtoken(/^([0-5][0-9]|[0-9])/),d.minute));e.mm=b.cache(b.process(b.rtoken(/^[0-5][0-9]/),d.minute));e.s=b.cache(b.process(b.rtoken(/^([0-5][0-9]|[0-9])/),d.second));e.ss=b.cache(b.process(b.rtoken(/^[0-5][0-9]/),d.second));e.hms=b.cache(b.sequence([e.H,e.mm,e.ss],e.timePartDelimiter));e.t=b.cache(b.process(e.ctoken2("shortMeridian"),d.meridian));e.tt=b.cache(b.process(e.ctoken2("longMeridian"),d.meridian));e.z=b.cache(b.process(b.rtoken(/^(\+|\-)?\s*\d\d\d\d?/),d.timezone));e.zz=b.cache(b.process(b.rtoken(/^(\+|\-)\s*\d\d\d\d/),d.timezone));e.zzz=b.cache(b.process(e.ctoken2("timezone"),d.timezone));e.timeSuffix=b.each(b.ignore(e.whiteSpace),b.set([e.tt,e.zzz]));e.time=b.each(b.optional(b.ignore(b.stoken("T"))),e.hms,e.timeSuffix);e.d=b.cache(b.process(b.each(b.rtoken(/^([0-2]\d|3[0-1]|\d)/),b.optional(e.ctoken2("ordinalSuffix"))),d.day));e.dd=b.cache(b.process(b.each(b.rtoken(/^([0-2]\d|3[0-1])/),b.optional(e.ctoken2("ordinalSuffix"))),d.day));e.ddd=e.dddd=b.cache(b.process(e.ctoken("sun mon tue wed thu fri sat"),function(g){return function(){this.weekday=g}}));e.M=b.cache(b.process(b.rtoken(/^(1[0-2]|0\d|\d)/),d.month));e.MM=b.cache(b.process(b.rtoken(/^(1[0-2]|0\d)/),d.month));e.MMM=e.MMMM=b.cache(b.process(e.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),d.month));e.y=b.cache(b.process(b.rtoken(/^(\d\d?)/),d.year));e.yy=b.cache(b.process(b.rtoken(/^(\d\d)/),d.year));e.yyy=b.cache(b.process(b.rtoken(/^(\d\d?\d?\d?)/),d.year));e.yyyy=b.cache(b.process(b.rtoken(/^(\d\d\d\d)/),d.year));j=function(){return b.each(b.any.apply(null,arguments),b.not(e.ctoken2("timeContext")))};e.day=j(e.d,e.dd);e.month=j(e.M,e.MMM);e.year=j(e.yyyy,e.yy);e.orientation=b.process(e.ctoken("past future"),function(g){return function(){this.orient=g}});e.operator=b.process(e.ctoken("add subtract"),function(g){return function(){this.operator=g}});e.rday=b.process(e.ctoken("yesterday tomorrow today now"),d.rday);e.unit=b.process(e.ctoken("minute hour day week month year"),function(g){return function(){this.unit=g}});e.value=b.process(b.rtoken(/^\d\d?(st|nd|rd|th)?/),function(g){return function(){this.value=g.replace(/\D/g,"")}});e.expression=b.set([e.rday,e.operator,e.value,e.unit,e.orientation,e.ddd,e.MMM]);j=function(){return b.set(arguments,e.datePartDelimiter)};e.mdy=j(e.ddd,e.month,e.day,e.year);e.ymd=j(e.ddd,e.year,e.month,e.day);e.dmy=j(e.ddd,e.day,e.month,e.year);e.date=function(g){return((e[Date.CultureInfo.dateElementOrder]||e.mdy).call(this,g))};e.format=b.process(b.many(b.any(b.process(b.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(g){if(e[g]){return e[g]}else{throw Date.Parsing.Exception(g)}}),b.process(b.rtoken(/^[^dMyhHmstz]+/),function(g){return b.ignore(b.stoken(g))}))),function(g){return b.process(b.each.apply(null,g),d.finishExact)});var h={};var c=function(g){return h[g]=(h[g]||e.format(g)[0])};e.formats=function(k){if(k instanceof Array){var l=[];for(var g=0;g<k.length;g++){l.push(c(k[g]))}return b.any.apply(null,l)}else{return c(k)}};e._formats=e.formats(["yyyy-MM-ddTHH:mm:ss","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","d"]);e._start=b.process(b.set([e.date,e.time,e.expression],e.generalDelimiter,e.whiteSpace),d.finish);e.start=function(g){try{var k=e._formats.call({},g);if(k[1].length===0){return k}}catch(l){}return e._start.call({},g)}}());Date._parse=Date.parse;Date.parse=function(a){var b=null;if(!a){return null}try{b=Date.Grammar.start.call({},a)}catch(c){return null}return((b[1].length===0)?b[0]:null)};Date.getParseFunction=function(b){var a=Date.Grammar.formats(b);return function(c){var d=null;try{d=a.call({},c)}catch(f){return null}return((d[1].length===0)?d[0]:null)}};Date.parseExact=function(a,b){return Date.getParseFunction(b)(a)};var TAPS_PER_MEASUREMENT=4;var MAX_CHART_RANGE=5;var FADED_LABEL_OPACITY=0.33;var FONT_SIZE_BPM="46pt";var FONT_SIZE_BEAT="60pt";var INITIAL_SHOW_HELP_DELAY=1000;var TAP_COUNT_TIMEOUT=2000;var BEAT_EFFECT_DURATION=50;var PLOT_POINT_DELAY=BEAT_EFFECT_DURATION+10;var BPM_LABEL_SELECTOR=".bpmLabel";var HELP_LABEL_SELECTOR="#helpLabel";var CHART_CLICK_SHIELD_SELECTOR="#chartClickShield";var isIos=(navigator.userAgent.match(/iPhone/i))||(navigator.userAgent.match(/iPod/i))||(navigator.userAgent.match(/iPad/i));ko.bindingHandlers.heartProgress={init:function(b,c){$(b).addClass("heartProgress");for(var a=0;a<4;a++){$("<span>").appendTo(b)}},update:function(a,b){var c=b();$("span",a).each(function(d){$(this).toggleClass("fullHeart",d<c())})}};function BpmViewModel(){TAB_NAMES=["Measure","History"];var a=this;a.tabs=TAB_NAMES;a.chosenTabId=ko.observable(TAB_NAMES[0]);a.goToTab=function(b){a.chosenTabId(b)};a.fullHeartCount=ko.observable(0);a.historyItems=ko.observableArray([]);a.removeHistoryItem=function(b){a.historyItems.remove(b);saveHistory()}}var model=new BpmViewModel();ko.applyBindings(model);function supports_html5_storage(){try{return"localStorage" in window&&window.localStorage!==null}catch(a){return false}}function loadHistory(){var a=[];if(supports_html5_storage()){if(localStorage.historyData){a=JSON.parse(localStorage.historyData)}}model.historyItems.removeAll();ko.utils.arrayPushAll(model.historyItems(),a);model.historyItems.valueHasMutated()}function saveHistory(){if(supports_html5_storage()){localStorage.historyData=ko.toJSON(model.historyItems)}}function hideAddressBar(){if(!window.location.hash){if(document.height<window.outerHeight){document.body.style.height=(window.outerHeight+50)+"px"}setTimeout(function(){window.scrollTo(0,1)},50)}}$(window).load(function(){if(!window.pageYOffset){hideAddressBar()}});$(window).on("orientationchange",hideAddressBar);(function(){function aA(p,m){var q;p||(p={});for(q in m){p[q]=m[q]}return p}function av(){var p,m=arguments,u,t={},q=function(w,v){var z,y;typeof w!=="object"&&(w={});for(y in v){v.hasOwnProperty(y)&&(z=v[y],w[y]=z&&typeof z==="object"&&Object.prototype.toString.call(z)!=="[object Array]"&&y!=="renderTo"&&typeof z.nodeType!=="number"?q(w[y]||{},z):v[y])}return w};m[0]===!0&&(t=m[1],m=Array.prototype.slice.call(m,2));u=m.length;for(p=0;p<u;p++){t=q(t,m[p])}return t}function aq(p,m){return parseInt(p,m||10)}function k(m){return typeof m==="string"}function aD(m){return typeof m==="object"}function s(m){return Object.prototype.toString.call(m)==="[object Array]"}function bd(m){return typeof m==="number"}function bx(m){return aX.log(m)/aX.LN10}function aH(m){return aX.pow(10,m)}function ag(p,m){for(var q=p.length;q--;){if(p[q]===m){p.splice(q,1);break}}}function az(m){return m!==ay&&m!==null}function bg(p,m,u){var t,q;if(k(m)){az(u)?p.setAttribute(m,u):p&&p.getAttribute&&(q=p.getAttribute(m))}else{if(az(m)&&aD(m)){for(t in m){p.setAttribute(t,m[t])}}}return q}function o(m){return s(m)?m:[m]}function aE(){var p=arguments,m,t,q=p.length;for(m=0;m<q;m++){if(t=p[m],typeof t!=="undefined"&&t!==null){return t}}}function bh(p,m){if(bU&&!bA&&m&&m.opacity!==ay){m.filter="alpha(opacity="+m.opacity*100+")"}aA(p.style,m)}function aT(p,m,u,t,q){p=at.createElement(p);m&&aA(p,m);q&&bh(p,{padding:0,border:a1,margin:0});u&&bh(p,u);t&&t.appendChild(p);return p}function j(p,m){var q=function(){};q.prototype=new p;aA(q.prototype,m);return q}function bY(p,m,w,v){var u=bk.lang,p=+p||0,t=m===-1?(p.toString().split(".")[1]||"").length:isNaN(m=a7(m))?2:m,m=w===void 0?u.decimalPoint:w,v=v===void 0?u.thousandsSep:v,u=p<0?"-":"",w=String(aq(p=a7(p).toFixed(t))),q=w.length>3?w.length%3:0;return u+(q?w.substr(0,q)+v:"")+w.substr(q).replace(/(\d{3})(?=\d)/g,"$1"+v)+(t?m+a7(p-w).toFixed(t).slice(2):"")}function bI(p,m){return Array((m||2)+1-String(p).length).join(0)+p}function b2(p,m,t){var q=p[m];p[m]=function(){var u=Array.prototype.slice.call(arguments);u.unshift(q);return t.apply(this,u)}}function bn(A,z){for(var y="{",w=!1,v,u,t,q,p,m=[];(y=A.indexOf(y))!==-1;){v=A.slice(0,y);if(w){u=v.split(":");t=u.shift().split(".");p=t.length;v=z;for(q=0;q<p;q++){v=v[t[q]]}if(u.length){u=u.join(":"),t=/\.([0-9])/,q=bk.lang,p=void 0,/f$/.test(u)?(p=(p=u.match(t))?p[1]:-1,v!==null&&(v=bY(v,p,q.decimalPoint,u.indexOf(",")>-1?q.thousandsSep:""))):v=aC(u,v)}}m.push(v);A=A.slice(y+1);y=(w=!w)?"}":"{"}m.push(A);return m.join("")}function bF(m){return aX.pow(10,aY(aX.log(m)/aX.LN10))}function bj(p,m,u,t){var q,u=aE(u,1);q=p/u;m||(m=[1,2,2.5,5,10],t&&t.allowDecimals===!1&&(u===1?m=[1,2,5,10]:u<=0.1&&(m=[1/u])));for(t=0;t<m.length;t++){if(p=m[t],q<=(m[t]+(m[t+1]||m[t]))/2){break}}p*=u;return p}function bD(){this.symbol=this.color=0}function aJ(p,m){var u=p.length,t,q;for(q=0;q<u;q++){p[q].ss_i=q}p.sort(function(v,w){t=m(v,w);return t===0?v.ss_i-w.ss_i:t});for(q=0;q<u;q++){delete p[q].ss_i}}function bM(p){for(var m=p.length,q=p[0];m--;){p[m]<q&&(q=p[m])}return q}function bE(p){for(var m=p.length,q=p[0];m--;){p[m]>q&&(q=p[m])}return q}function bu(p,m){for(var q in p){p[q]&&p[q]!==m&&p[q].destroy&&p[q].destroy(),delete p[q]}}function aQ(m){ac||(ac=aT(aM));m&&ac.appendChild(m);ac.innerHTML=""}function b1(p,m){var q="Highcharts error #"+p+": www.highcharts.com/errors/"+p;if(m){throw q}else{be.console&&console.log(q)}}function ad(m){return parseFloat(m.toPrecision(14))}function ap(p,m){ao=aE(p,m.animation)}function bc(){var p=bk.global.useUTC,m=p?"getUTC":"get",q=p?"setUTC":"set";J=(p&&bk.global.timezoneOffset||0)*60000;e=p?Date.UTC:function(u,t,z,y,w,v){return(new Date(u,t,aE(z,1),aE(y,0),aE(w,0),aE(v,0))).getTime()};ai=m+"Minutes";l=m+"Hours";bZ=m+"Day";L=m+"Date";bR=m+"Month";bB=m+"FullYear";aG=q+"Minutes";af=q+"Hours";bJ=q+"Date";h=q+"Month";bW=q+"FullYear"}function a3(){}function c(p,m,t,q){this.axis=p;this.pos=m;this.type=t||"";this.isNew=!0;!t&&!q&&this.addLabel()}function bX(){this.init.apply(this,arguments)}function d(){this.init.apply(this,arguments)}function bG(p,m,v,u,t){var q=p.chart.inverted;this.axis=p;this.isNegative=v;this.options=m;this.x=u;this.total=null;this.points={};this.stack=t;this.alignOptions={align:m.align||(q?v?"left":"right":"center"),verticalAlign:m.verticalAlign||(q?"middle":v?"bottom":"top"),y:aE(m.y,q?4:v?14:-6),x:aE(m.x,q?v?-6:6:0)};this.textAlign=m.textAlign||(q?v?"right":"left":"center")}var ay,at=document,be=window,aX=Math,ax=aX.round,aY=aX.floor,al=aX.ceil,aw=aX.max,bo=aX.min,a7=aX.abs,aS=aX.cos,f=aX.sin,bH=aX.PI,bf=bH*2/360,B=navigator.userAgent,bl=be.opera,bU=/msie/i.test(B)&&!bl,a9=at.documentMode===8,aF=/AppleWebKit/.test(B),bP=/Firefox/.test(B),aL=/(Mobile|Android|Windows Phone)/.test(B),b="http://www.w3.org/2000/svg",bA=!!at.createElementNS&&!!at.createElementNS(b,"svg").createSVGRect,bL=bP&&parseInt(B.split("Firefox/")[1],10)<4,bT=!bA&&!bU&&!!at.createElement("canvas").getContext,bQ,bp,ak={},br=0,ac,bk,aC,ao,aN,bq,bK=function(){},aW=[],bz=0,aM="div",a1="none",bt=/^[0-9]+$/,aP="stroke-width",e,J,ai,l,bZ,L,bR,bB,aG,af,bJ,h,bW,bi={},a0=be.Highcharts=be.Highcharts?b1(16,!0):{};aC=function(D,C,A){if(!az(C)||isNaN(C)){return"Invalid date"}var D=aE(D,"%Y-%m-%d %H:%M:%S"),z=new Date(C-J),y,w=z[l](),v=z[bZ](),u=z[L](),t=z[bR](),q=z[bB](),p=bk.lang,m=p.weekdays,z=aA({a:m[v].substr(0,3),A:m[v],d:bI(u),e:u,b:p.shortMonths[t],B:p.months[t],m:bI(t+1),y:q.toString().substr(2,2),Y:q,H:bI(w),I:bI(w%12||12),l:w%12||12,M:bI(z[ai]()),p:w<12?"AM":"PM",P:w<12?"am":"pm",S:bI(z.getSeconds()),L:bI(ax(C%1000),3)},a0.dateFormats);for(y in z){for(;D.indexOf("%"+y)!==-1;){D=D.replace("%"+y,typeof z[y]==="function"?z[y](C):z[y])}}return A?D.substr(0,1).toUpperCase()+D.substr(1):D};bD.prototype={wrapColor:function(m){if(this.color>=m){this.color=0}},wrapSymbol:function(m){if(this.symbol>=m){this.symbol=0}}};bq=function(){for(var p=0,m=arguments,t=m.length,q={};p<t;p++){q[m[p++]]=m[p]}return q}("millisecond",1,"second",1000,"minute",60000,"hour",3600000,"day",86400000,"week",604800000,"month",2678400000,"year",31556952000);aN={init:function(A,z,y){var z=z||"",w=A.shift,v=z.indexOf("C")>-1,u=v?7:3,t,z=z.split(" "),y=[].concat(y),q,p,m=function(C){for(t=C.length;t--;){C[t]==="M"&&C.splice(t+1,0,C[t+1],C[t+2],C[t+1],C[t+2])}};v&&(m(z),m(y));A.isArea&&(q=z.splice(z.length-6,6),p=y.splice(y.length-6,6));if(w<=y.length/u&&z.length===y.length){for(;w--;){y=[].concat(y).splice(0,u).concat(y)}}A.shift=0;if(z.length){for(A=y.length;z.length<A;){w=[].concat(z).splice(z.length-u,u),v&&(w[u-6]=w[u-2],w[u-5]=w[u-1]),z=z.concat(w)}}q&&(z=z.concat(q),y=y.concat(p));return[z,y]},step:function(p,m,v,u){var t=[],q=p.length;if(v===1){t=u}else{if(q===m.length&&v<1){for(;q--;){u=parseFloat(p[q]),t[q]=isNaN(u)?p[q]:v*parseFloat(m[q]-u)+u}}else{t=m}}return t}};(function(m){be.HighchartsAdapter=be.HighchartsAdapter||m&&{init:function(p){var w=m.fx,v=w.step,u,t=m.Tween,q=t&&t.propHooks;u=m.cssHooks.opacity;m.extend(m.easing,{easeOutQuad:function(z,y,D,C,A){return -C*(y/=A)*(y-2)+D}});m.each(["cur","_default","width","height","opacity"],function(z,y){var C=v,A;y==="cur"?C=w.prototype:y==="_default"&&t&&(C=q[y],y="set");(A=C[y])&&(C[y]=function(E){var D,E=z?E:this;if(E.prop!=="align"){return D=E.elem,D.attr?D.attr(E.prop,y==="cur"?ay:E.now):A.apply(this,arguments)}})});b2(u,"get",function(z,y,A){return y.attr?y.opacity||0:z.call(this,y,A)});u=function(y){var A=y.elem,z;if(!y.started){z=p.init(A,A.d,A.toD),y.start=z[0],y.end=z[1],y.started=!0}A.attr("d",p.step(y.start,y.end,y.pos,A.toD))};t?q.d={set:u}:v.d=u;this.each=Array.prototype.forEach?function(z,y){return Array.prototype.forEach.call(z,y)}:function(z,y){for(var C=0,A=z.length;C<A;C++){if(y.call(z[C],z[C],C,z)===!1){return C}}};m.fn.highcharts=function(){var z="Chart",y=arguments,C,A;if(this[0]){k(y[0])&&(z=y[0],y=Array.prototype.slice.call(y,1));C=y[0];if(C!==ay){C.chart=C.chart||{},C.chart.renderTo=this[0],new a0[z](C,y[1]),A=this}C===ay&&(A=aW[bg(this[0],"data-highcharts-chart")])}return A}},getScript:m.getScript,inArray:m.inArray,adapterRun:function(p,q){return m(p)[q]()},grep:m.grep,map:function(p,v){for(var u=[],t=0,q=p.length;t<q;t++){u[t]=v.call(p[t],p[t],t,p)}return u},offset:function(p){return m(p).offset()},addEvent:function(p,t,q){m(p).bind(t,q)},removeEvent:function(p,u,t){var q=at.removeEventListener?"removeEventListener":"detachEvent";at[q]&&p&&!p[q]&&(p[q]=function(){});m(p).unbind(u,t)},fireEvent:function(p,y,w,v){var u=m.Event(y),t="detached"+y,q;!bU&&w&&(delete w.layerX,delete w.layerY,delete w.returnValue);aA(u,w);p[y]&&(p[t]=p[y],p[y]=null);m.each(["preventDefault","stopPropagation"],function(A,z){var C=u[z];u[z]=function(){try{C.call(u)}catch(D){z==="preventDefault"&&(q=!0)}}});m(p).trigger(u);p[t]&&(p[y]=p[t],p[t]=null);v&&!u.isDefaultPrevented()&&!q&&v(u)},washMouseEvent:function(p){var q=p.originalEvent||p;if(q.pageX===ay){q.pageX=p.pageX,q.pageY=p.pageY}return q},animate:function(p,u,t){var q=m(p);if(!p.style){p.style={}}if(u.d){p.toD=u.d,u.d=1}q.stop();u.opacity!==ay&&p.attr&&(u.opacity+="px");q.animate(u,t)},stop:function(p){m(p).stop()}}})(be.jQuery);var aZ=be.HighchartsAdapter,a6=aZ||{};aZ&&aZ.init.call(aZ,aN);var ae=a6.adapterRun,an=a6.getScript,aI=a6.inArray,aB=a6.each,am=a6.grep,x=a6.offset,by=a6.map,a8=a6.addEvent,aV=a6.removeEvent,bm=a6.fireEvent,a=a6.washMouseEvent,g=a6.animate,a2=a6.stop,a6={enabled:!0,x:0,y:15,style:{color:"#606060",cursor:"default",fontSize:"11px"}};bk={colors:"#7cb5ec,#434348,#90ed7d,#f7a35c,#8085e9,#f15c80,#e4d354,#8085e8,#8d4653,#91e8e1".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",numericSymbols:"k,M,G,T,P,E".split(","),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/4.0.1/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com/4.0.1/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1000},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:av(a6,{align:"center",enabled:!1,formatter:function(){return this.y===null?"":bY(this.y,-1)},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,states:{hover:{marker:{},halo:{size:10,opacity:0.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1000}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"1em"},style:{position:"absolute",backgroundColor:"white",opacity:0.5,textAlign:"center"}},tooltip:{enabled:!0,animation:bA,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}"></span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:aL?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var a5=bk.plotOptions,aZ=a5.line;bc();var bO=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,bw=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,aR=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,bN=function(p){var m=[],t,q;(function(u){u&&u.stops?q=by(u.stops,function(v){return bN(v[1])}):(t=bO.exec(u))?m=[aq(t[1]),aq(t[2]),aq(t[3]),parseFloat(t[4],10)]:(t=bw.exec(u))?m=[aq(t[1],16),aq(t[2],16),aq(t[3],16),1]:(t=aR.exec(u))&&(m=[aq(t[1]),aq(t[2]),aq(t[3]),1])})(p);return{get:function(v){var u;q?(u=av(p),u.stops=[].concat(u.stops),aB(q,function(y,w){u.stops[w]=[u.stops[w][0],y.get(v)]})):u=m&&!isNaN(m[0])?v==="rgb"?"rgb("+m[0]+","+m[1]+","+m[2]+")":v==="a"?m[3]:"rgba("+m.join(",")+")":p;return u},brighten:function(u){if(q){aB(q,function(w){w.brighten(u)})}else{if(bd(u)&&u!==0){var v;for(v=0;v<3;v++){m[v]+=aq(u*255),m[v]<0&&(m[v]=0),m[v]>255&&(m[v]=255)}}}return this},rgba:m,setOpacity:function(u){m[3]=u;return this}}};a3.prototype={init:function(p,m){this.element=m==="span"?aT(m):at.createElementNS(b,m);this.renderer=p},opacity:1,animate:function(p,m,q){m=aE(m,ao,!0);a2(this);if(m){m=av(m,{});if(q){m.complete=q}g(this,p,m)}else{this.attr(p),q&&q()}},colorGradient:function(F,E,D){var C=this.renderer,A,z,y,w,v,u,t,q,m,p,G=[];F.linearGradient?z="linearGradient":F.radialGradient&&(z="radialGradient");if(z){y=F[z];w=C.gradients;u=F.stops;m=D.radialReference;s(y)&&(F[z]=y={x1:y[0],y1:y[1],x2:y[2],y2:y[3],gradientUnits:"userSpaceOnUse"});z==="radialGradient"&&m&&!az(y.gradientUnits)&&(y=av(y,{cx:m[0]-m[2]/2+y.cx*m[2],cy:m[1]-m[2]/2+y.cy*m[2],r:y.r*m[2],gradientUnits:"userSpaceOnUse"}));for(p in y){p!=="id"&&G.push(p,y[p])}for(p in u){G.push(u[p])}G=G.join(",");w[G]?F=w[G].attr("id"):(y.id=F="highcharts-"+br++,w[G]=v=C.createElement(z).attr(y).add(C.defs),v.stops=[],aB(u,function(H){H[1].indexOf("rgba")===0?(A=bN(H[1]),t=A.get("rgb"),q=A.get("a")):(t=H[1],q=1);H=C.createElement("stop").attr({offset:H[0],"stop-color":t,"stop-opacity":q}).add(v);v.stops.push(H)}));D.setAttribute(E,"url("+C.url+"#"+F+")")}},attr:function(p,m){var y,w,v=this.element,u,t=this,q;typeof p==="string"&&m!==ay&&(y=p,p={},p[y]=m);if(typeof p==="string"){t=(this[p+"Getter"]||this._defaultGetter).call(this,p,v)}else{for(y in p){w=p[y];q=!1;this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(y)&&(u||(this.symbolAttr(p),u=!0),q=!0);if(this.rotation&&(y==="x"||y==="y")){this.doTransform=!0}q||(this[y+"Setter"]||this._defaultSetter).call(this,w,y,v);this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(y)&&this.updateShadows(y,w)}if(this.doTransform){this.updateTransform(),this.doTransform=!1}}return t},updateShadows:function(p,m){for(var t=this.shadows,q=t.length;q--;){t[q].setAttribute(p,p==="height"?aw(m-(t[q].cutHeight||0),0):p==="d"?this.d:m)}},addClass:function(p){var m=this.element,q=bg(m,"class")||"";q.indexOf(p)===-1&&bg(m,"class",q+" "+p);return this},symbolAttr:function(p){var m=this;aB("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(q){m[q]=aE(p[q],m[q])});m.attr({d:m.renderer.symbols[m.symbolName](m.x,m.y,m.width,m.height,m)})},clip:function(m){return this.attr("clip-path",m?"url("+this.renderer.url+"#"+m.id+")":a1)},crisp:function(p){var m,u={},t,q=p.strokeWidth||this.strokeWidth||this.attr&&this.attr("stroke-width")||0;t=ax(q)%2/2;p.x=aY(p.x||this.x||0)+t;p.y=aY(p.y||this.y||0)+t;p.width=aY((p.width||this.width||0)-2*t);p.height=aY((p.height||this.height||0)-2*t);p.strokeWidth=q;for(m in p){this[m]!==p[m]&&(this[m]=u[m]=p[m])}return u},css:function(p){var m=this.styles,w={},v=this.element,u,t,q="";u=!m;if(p&&p.color){p.fill=p.color}if(m){for(t in p){p[t]!==m[t]&&(w[t]=p[t],u=!0)}}if(u){u=this.textWidth=p&&p.width&&v.nodeName.toLowerCase()==="text"&&aq(p.width);m&&(p=aA(m,w));this.styles=p;u&&(bT||!bA&&this.renderer.forExport)&&delete p.width;if(bU&&!bA){bh(this.element,p)}else{m=function(z,y){return"-"+y.toLowerCase()};for(t in p){q+=t.replace(/([A-Z])/g,m)+":"+p[t]+";"}bg(v,"style",q)}u&&this.added&&this.renderer.buildText(this)}return this},on:function(p,m){var t=this,q=t.element;bp&&p==="click"?(q.ontouchstart=function(u){t.touchEventFired=Date.now();u.preventDefault();m.call(q,u)},q.onclick=function(u){(B.indexOf("Android")===-1||Date.now()-(t.touchEventFired||0)>1100)&&m.call(q,u)}):q["on"+p]=m;return this},setRadialReference:function(m){this.element.radialReference=m;return this},translate:function(p,m){return this.attr({translateX:p,translateY:m})},invert:function(){this.inverted=!0;this.updateTransform();return this},updateTransform:function(){var p=this.translateX||0,m=this.translateY||0,w=this.scaleX,v=this.scaleY,u=this.inverted,t=this.rotation,q=this.element;u&&(p+=this.attr("width"),m+=this.attr("height"));p=["translate("+p+","+m+")"];u?p.push("rotate(90) scale(-1,1)"):t&&p.push("rotate("+t+" "+(q.getAttribute("x")||0)+" "+(q.getAttribute("y")||0)+")");(az(w)||az(v))&&p.push("scale("+aE(w,1)+" "+aE(v,1)+")");p.length&&q.setAttribute("transform",p.join(" "))},toFront:function(){var m=this.element;m.parentNode.appendChild(m);return this},align:function(p,m,y){var w,v,u,t,q={};v=this.renderer;u=v.alignedObjects;if(p){if(this.alignOptions=p,this.alignByTranslate=m,!y||k(y)){this.alignTo=w=y||"renderer",ag(u,this),u.push(this),y=null}}else{p=this.alignOptions,m=this.alignByTranslate,w=this.alignTo}y=aE(y,v[w],v);w=p.align;v=p.verticalAlign;u=(y.x||0)+(p.x||0);t=(y.y||0)+(p.y||0);if(w==="right"||w==="center"){u+=(y.width-(p.width||0))/{right:1,center:2}[w]}q[m?"translateX":"x"]=ax(u);if(v==="bottom"||v==="middle"){t+=(y.height-(p.height||0))/({bottom:1,middle:2}[v]||1)}q[m?"translateY":"y"]=ax(t);this[this.placed?"animate":"attr"](q);this.placed=!0;this.alignAttr=q;return this},getBBox:function(){var z=this.bBox,y=this.renderer,w,v,u=this.rotation;w=this.element;var t=this.styles,q=u*bf;v=this.textStr;var p;if(v===""||bt.test(v)){p="num."+v.toString().length+(t?"|"+t.fontSize+"|"+t.fontFamily:"")}p&&(z=y.cache[p]);if(!z){if(w.namespaceURI===b||y.forExport){try{z=w.getBBox?aA({},w.getBBox()):{width:w.offsetWidth,height:w.offsetHeight}}catch(m){}if(!z||z.width<0){z={width:0,height:0}}}else{z=this.htmlGetBBox()}if(y.isSVG){w=z.width;v=z.height;if(bU&&t&&t.fontSize==="11px"&&v.toPrecision(3)==="16.9"){z.height=v=14}if(u){z.width=a7(v*f(q))+a7(w*aS(q)),z.height=a7(v*aS(q))+a7(w*f(q))}}this.bBox=z;p&&(y.cache[p]=z)}return z},show:function(m){return m&&this.element.namespaceURI===b?(this.element.removeAttribute("visibility"),this):this.attr({visibility:m?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(p){var m=this;m.animate({opacity:0},{duration:p||150,complete:function(){m.hide()}})},add:function(p){var m=this.renderer,y=p||m,w=y.element||m.box,v=this.element,u=this.zIndex,t,q;if(p){this.parentGroup=p}this.parentInverted=p&&p.inverted;this.textStr!==void 0&&m.buildText(this);if(u){y.handleZ=!0,u=aq(u)}if(y.handleZ){p=w.childNodes;for(t=0;t<p.length;t++){if(m=p[t],y=bg(m,"zIndex"),m!==v&&(aq(y)>u||!az(u)&&az(y))){w.insertBefore(v,m);q=!0;break}}}q||w.appendChild(v);this.added=!0;if(this.onAdd){this.onAdd()}return this},safeRemoveChild:function(p){var m=p.parentNode;m&&m.removeChild(p)},destroy:function(){var p=this,m=p.element||{},v=p.shadows,u=p.renderer.isSVG&&m.nodeName==="SPAN"&&p.parentGroup,t,q;m.onclick=m.onmouseout=m.onmouseover=m.onmousemove=m.point=null;a2(p);if(p.clipPath){p.clipPath=p.clipPath.destroy()}if(p.stops){for(q=0;q<p.stops.length;q++){p.stops[q]=p.stops[q].destroy()}p.stops=null}p.safeRemoveChild(m);for(v&&aB(v,function(w){p.safeRemoveChild(w)});u&&u.div.childNodes.length===0;){m=u.parentGroup,p.safeRemoveChild(u.div),delete u.div,u=m}p.alignTo&&ag(p.renderer.alignedObjects,p);for(t in p){delete p[t]}return null},shadow:function(C,A,z){var y=[],w,v,u=this.element,t,q,p,m;if(C){q=aE(C.width,3);p=(C.opacity||0.15)/q;m=this.parentInverted?"(-1,-1)":"("+aE(C.offsetX,1)+", "+aE(C.offsetY,1)+")";for(w=1;w<=q;w++){v=u.cloneNode(0);t=q*2+1-2*w;bg(v,{isShadow:"true",stroke:C.color||"black","stroke-opacity":p*w,"stroke-width":t,transform:"translate"+m,fill:a1});if(z){bg(v,"height",aw(bg(v,"height")-t,0)),v.cutHeight=t}A?A.element.appendChild(v):u.parentNode.insertBefore(v,u);y.push(v)}this.shadows=y}return this},xGetter:function(m){this.element.nodeName==="circle"&&(m={x:"cx",y:"cy"}[m]||m);return this._defaultGetter(m)},_defaultGetter:function(m){m=aE(this[m],this.element?this.element.getAttribute(m):null,0);/^[0-9\.]+$/.test(m)&&(m=parseFloat(m));return m},dSetter:function(p,m,q){p&&p.join&&(p=p.join(" "));/(NaN| {2}|^$)/.test(p)&&(p="M 0 0");q.setAttribute(m,p);this[m]=p},dashstyleSetter:function(p){var m;if(p=p&&p.toLowerCase()){p=p.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(m=p.length;m--;){p[m]=aq(p[m])*this.element.getAttribute("stroke-width")}p=p.join(",");this.element.setAttribute("stroke-dasharray",p)}},alignSetter:function(m){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[m])},opacitySetter:function(p,m,q){this[m]=p;q.setAttribute(m,p)},"stroke-widthSetter":function(p,m,q){p===0&&(p=0.00001);this.strokeWidth=p;q.setAttribute(m,p)},titleSetter:function(p){var m=this.element.getElementsByTagName("title")[0];m||(m=at.createElementNS(b,"title"),this.element.appendChild(m));m.textContent=p},textSetter:function(m){if(m!==this.textStr){delete this.bBox,this.textStr=m,this.added&&this.renderer.buildText(this)}},fillSetter:function(p,m,q){typeof p==="string"?q.setAttribute(m,p):p&&this.colorGradient(p,m,q)},zIndexSetter:function(p,m,q){q.setAttribute(m,p);this[m]=p},_defaultSetter:function(p,m,q){q.setAttribute(m,p)}};a3.prototype.yGetter=a3.prototype.xGetter;a3.prototype.translateXSetter=a3.prototype.translateYSetter=a3.prototype.rotationSetter=a3.prototype.verticalAlignSetter=a3.prototype.scaleXSetter=a3.prototype.scaleYSetter=function(p,m){this[m]=p;this.doTransform=!0};a3.prototype.strokeSetter=a3.prototype.fillSetter;var bs=function(){this.init.apply(this,arguments)};bs.prototype={Element:a3,init:function(p,m,y,w,v){var u=location,t,w=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(w));t=w.element;p.appendChild(t);p.innerHTML.indexOf("xmlns")===-1&&bg(t,"xmlns",b);this.isSVG=!0;this.box=t;this.boxWrapper=w;this.alignedObjects=[];this.url=(bP||aF)&&at.getElementsByTagName("base").length?u.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"";this.createElement("desc").add().element.appendChild(at.createTextNode("Created with Highcharts 4.0.1"));this.defs=this.createElement("defs").add();this.forExport=v;this.gradients={};this.cache={};this.setSize(m,y,!1);var q;if(bP&&p.getBoundingClientRect){this.subPixelFix=m=function(){bh(p,{left:0,top:0});q=p.getBoundingClientRect();bh(p,{left:al(q.left)-q.left+"px",top:al(q.top)-q.top+"px"})},m(),a8(be,"resize",m)}},getStyle:function(m){return this.style=aA({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},m)},isHidden:function(){return !this.boxWrapper.getBBox().width},destroy:function(){var m=this.defs;this.box=null;this.boxWrapper=this.boxWrapper.destroy();bu(this.gradients||{});this.gradients=null;if(m){this.defs=m.destroy()}this.subPixelFix&&aV(be,"resize",this.subPixelFix);return this.alignedObjects=null},createElement:function(p){var m=new this.Element;m.init(this,p);return m},draw:function(){},buildText:function(F){for(var E=F.element,D=this,C=D.forExport,A=aE(F.textStr,"").toString(),z=A.indexOf("<")!==-1,y=E.childNodes,w,v,u=bg(E,"x"),t=F.styles,q=F.textWidth,m=t&&t.lineHeight,p=y.length,G=function(H){return m?aq(m):D.fontMetrics(/(px|em)$/.test(H&&H.style.fontSize)?H.style.fontSize:t&&t.fontSize||D.style.fontSize||12).h};p--;){E.removeChild(y[p])}!z&&A.indexOf(" ")===-1?E.appendChild(at.createTextNode(A)):(w=/<.*style="([^"]+)".*>/,v=/<.*href="(http[^"]+)".*>/,q&&!F.added&&this.box.appendChild(E),A=z?A.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[A],A[A.length-1]===""&&A.pop(),aB(A,function(K,I){var H,M=0,K=K.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");H=K.split("|||");aB(H,function(U){if(U!==""||H.length===1){var R={},S=at.createElementNS(b,"tspan"),Q;w.test(U)&&(Q=U.match(w)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),bg(S,"style",Q));v.test(U)&&!C&&(bg(S,"onclick",'location.href="'+U.match(v)[1]+'"'),bh(S,{cursor:"pointer"}));U=(U.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">");if(U!==" "){S.appendChild(at.createTextNode(U));if(M){R.dx=0}else{if(I&&u!==null){R.x=u}}bg(S,R);!M&&I&&(!bA&&C&&bh(S,{display:"block"}),bg(S,"dy",G(S),aF&&S.offsetHeight));E.appendChild(S);M++;if(q){for(var U=U.replace(/([^\^])-/g,"$1- ").split(" "),R=U.length>1&&t.whiteSpace!=="nowrap",T,N,P=F._clipHeight,O=[],V=G(),W=1;R&&(U.length||O.length);){delete F.bBox,T=F.getBBox(),N=T.width,!bA&&D.forExport&&(N=D.measureSpanWidth(S.firstChild.data,F.styles)),T=N>q,!T||U.length===1?(U=O,O=[],U.length&&(W++,P&&W*V>P?(U=["..."],F.attr("title",F.textStr)):(S=at.createElementNS(b,"tspan"),bg(S,{dy:V,x:u}),Q&&bg(S,"style",Q),E.appendChild(S),N>q&&(q=N)))):(S.removeChild(S.firstChild),O.unshift(U.pop())),U.length&&S.appendChild(at.createTextNode(U.join(" ").replace(/- /g,"-")))}}}}})}))},button:function(K,I,H,G,F,E,D,C,A){var z=this.label(K,I,H,A,null,null,null,null,"button"),y=0,w,t,u,M,v,q,K={x1:0,y1:0,x2:0,y2:1},F=av({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:K,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},F);u=F.style;delete F.style;E=av(F,{stroke:"#68A",fill:{linearGradient:K,stops:[[0,"#FFF"],[1,"#ACF"]]}},E);M=E.style;delete E.style;D=av(F,{stroke:"#68A",fill:{linearGradient:K,stops:[[0,"#9BD"],[1,"#CDF"]]}},D);v=D.style;delete D.style;C=av(F,{style:{color:"#CCC"}},C);q=C.style;delete C.style;a8(z.element,bU?"mouseover":"mouseenter",function(){y!==3&&z.attr(E).css(M)});a8(z.element,bU?"mouseout":"mouseleave",function(){y!==3&&(w=[F,E,D][y],t=[u,M,v][y],z.attr(w).css(t))});z.setState=function(m){(z.state=y=m)?m===2?z.attr(D).css(v):m===3&&z.attr(C).css(q):z.attr(F).css(u)};return z.on("click",function(){y!==3&&G.call(z)}).attr(F).css(aA({cursor:"default"},u))},crispLine:function(p,m){p[1]===p[4]&&(p[1]=p[4]=ax(p[1])-m%2/2);p[2]===p[5]&&(p[2]=p[5]=ax(p[2])+m%2/2);return p},path:function(p){var m={fill:a1};s(p)?m.d=p:aD(p)&&aA(m,p);return this.createElement("path").attr(m)},circle:function(p,m,q){p=aD(p)?p:{x:p,y:m,r:q};m=this.createElement("circle");m.xSetter=function(t){this.element.setAttribute("cx",t)};m.ySetter=function(t){this.element.setAttribute("cy",t)};return m.attr(p)},arc:function(p,m,v,u,t,q){if(aD(p)){m=p.y,v=p.r,u=p.innerR,t=p.start,q=p.end,p=p.x}p=this.symbol("arc",p||0,m||0,v||0,v||0,{innerR:u||0,start:t||0,end:q||0});p.r=v;return p},rect:function(p,m,w,v,u,t){var u=aD(p)?p.r:u,q=this.createElement("rect"),p=aD(p)?p:p===ay?{}:{x:p,y:m,width:aw(w,0),height:aw(v,0)};if(t!==ay){p.strokeWidth=t,p=q.crisp(p)}if(u){p.r=u}q.rSetter=function(y){bg(this.element,{rx:y,ry:y})};return q.attr(p)},setSize:function(p,m,u){var t=this.alignedObjects,q=t.length;this.width=p;this.height=m;for(this.boxWrapper[aE(u,!0)?"animate":"attr"]({width:p,height:m});q--;){t[q].align()}},g:function(p){var m=this.createElement("g");return az(p)?m.attr({"class":"highcharts-"+p}):m},image:function(p,m,v,u,t){var q={preserveAspectRatio:a1};arguments.length>1&&aA(q,{x:m,y:v,width:u,height:t});q=this.createElement("image").attr(q);q.element.setAttributeNS?q.element.setAttributeNS("http://www.w3.org/1999/xlink","href",p):q.element.setAttribute("hc-svg-href",p);return q},symbol:function(C,A,z,y,w,v){var u,t=this.symbols[C],t=t&&t(ax(A),ax(z),y,w,v),q=/^url\((.*?)\)$/,p,m;if(t){u=this.path(t),aA(u,{symbolName:C,x:A,y:z,width:y,height:w}),v&&aA(u,v)}else{if(q.test(C)){m=function(E,D){E.element&&(E.attr({width:D[0],height:D[1]}),E.alignByTranslate||E.translate(ax((y-D[0])/2),ax((w-D[1])/2)))},p=C.match(q)[1],C=ak[p],u=this.image(p).attr({x:A,y:z}),u.isImg=!0,C?m(u,C):(u.attr({width:0,height:0}),aT("img",{onload:function(){m(u,ak[p]=[this.width,this.height])},src:p}))}}return u},symbols:{circle:function(p,m,u,t){var q=0.166*u;return["M",p+u/2,m,"C",p+u+q,m,p+u+q,m+t,p+u/2,m+t,"C",p-q,m+t,p-q,m,p+u/2,m,"Z"]},square:function(p,m,t,q){return["M",p,m,"L",p+t,m,p+t,m+q,p,m+q,"Z"]},triangle:function(p,m,t,q){return["M",p+t/2,m,"L",p+t,m+q,p,m+q,"Z"]},"triangle-down":function(p,m,t,q){return["M",p,m,"L",p+t,m,p+t/2,m+q,"Z"]},diamond:function(p,m,t,q){return["M",p+t/2,m,"L",p+t,m+q/2,p+t/2,m+q,p,m+q/2,"Z"]},arc:function(C,A,z,y,w){var v=w.start,z=w.r||z||y,u=w.end-0.001,y=w.innerR,t=w.open,q=aS(v),p=f(v),m=aS(u),u=f(u),w=w.end-v<bH?0:1;return["M",C+z*q,A+z*p,"A",z,z,0,w,1,C+z*m,A+z*u,t?"M":"L",C+y*m,A+y*u,"A",y,y,0,w,0,C+y*q,A+y*p,t?"":"Z"]},callout:function(z,y,w,v,u){var t=bo(u&&u.r||0,w,v),q=t+6,p=u&&u.anchorX,m=u&&u.anchorY,u=ax(u.strokeWidth||0)%2/2;z+=u;y+=u;u=["M",z+t,y,"L",z+w-t,y,"C",z+w,y,z+w,y,z+w,y+t,"L",z+w,y+v-t,"C",z+w,y+v,z+w,y+v,z+w-t,y+v,"L",z+t,y+v,"C",z,y+v,z,y+v,z,y+v-t,"L",z,y+t,"C",z,y,z,y,z+t,y];p&&p>w&&m>y+q&&m<y+v-q?u.splice(13,3,"L",z+w,m-6,z+w+6,m,z+w,m+6,z+w,y+v-t):p&&p<0&&m>y+q&&m<y+v-q?u.splice(33,3,"L",z,m+6,z-6,m,z,m-6,z,y+t):m&&m>v&&p>z+q&&p<z+w-q?u.splice(23,3,"L",p+6,y+v,p,y+v+6,p-6,y+v,z+t,y+v):m&&m<0&&p>z+q&&p<z+w-q&&u.splice(3,3,"L",p-6,y,p,y-6,p+6,y,w-t,y);return u}},clipRect:function(p,m,v,u){var t="highcharts-"+br++,q=this.createElement("clipPath").attr({id:t}).add(this.defs),p=this.rect(p,m,v,u,0).add(q);p.id=t;p.clipPath=q;return p},text:function(p,m,v,u){var t=bT||!bA&&this.forExport,q={};if(u&&!this.forExport){return this.html(p,m,v)}q.x=Math.round(m||0);if(v){q.y=Math.round(v)}if(p||p===0){q.text=p}p=this.createElement("text").attr(q);t&&p.css({position:"absolute"});if(!u){p.xSetter=function(y,w,D){var C=D.childNodes,A,z;for(z=1;z<C.length;z++){A=C[z],A.getAttribute("x")===D.getAttribute("x")&&A.setAttribute("x",y)}D.setAttribute(w,y)}}return p},fontMetrics:function(p){var p=p||this.style.fontSize,p=/px/.test(p)?aq(p):/em/.test(p)?parseFloat(p)*12:12,p=p<24?p+4:ax(p*1.2),m=ax(p*0.8);return{h:p,b:m}},label:function(ab,aa,Z,Y,X,W,V,U,T){function R(){var v,m;v=H.element.style;E=(q===void 0||D===void 0||N.styles.textAlign)&&H.textStr&&H.getBBox();N.width=(q||E.width||0)+2*F+G;N.height=(D||E.height||0)+2*F;t=F+M.fontMetrics(v&&v.fontSize).b;if(w){if(!O){v=ax(-u*F),m=U?-t:0,N.box=O=Y?M.symbol(Y,v,m,N.width,N.height,I):M.rect(v,m,N.width,N.height,0,I[aP]),O.attr("fill",a1).add(N)}O.isImg||O.attr(aA({width:ax(N.width),height:ax(N.height)},I));I=null}}function Q(){var v=N.styles,v=v&&v.textAlign,m=G+F*(1-u),y;y=U?0:t;if(az(q)&&E&&(v==="center"||v==="right")){m+={center:0.5,right:1}[v]*(q-E.width)}if(m!==H.x||y!==H.y){H.attr("x",m),y!==ay&&H.attr("y",y)}H.x=m;H.y=y}function P(v,m){O?O.attr(v,m):I[v]=m}var M=this,N=M.g(T),H=M.text("",0,0,V).attr({zIndex:1}),O,E,u=0,F=3,G=0,q,D,S,p,C=0,I={},t,w;N.onAdd=function(){H.add(N);N.attr({text:ab||"",x:aa,y:Z});O&&az(X)&&N.attr({anchorX:X,anchorY:W})};N.widthSetter=function(m){q=m};N.heightSetter=function(m){D=m};N.paddingSetter=function(m){az(m)&&m!==F&&(F=m,Q())};N.paddingLeftSetter=function(m){az(m)&&m!==G&&(G=m,Q())};N.alignSetter=function(m){u={left:0,center:0.5,right:1}[m]};N.textSetter=function(m){m!==ay&&H.textSetter(m);R();Q()};N["stroke-widthSetter"]=function(v,m){v&&(w=!0);C=v%2/2;P(m,v)};N.strokeSetter=N.fillSetter=N.rSetter=function(v,m){m==="fill"&&v&&(w=!0);P(m,v)};N.anchorXSetter=function(v,m){X=v;P(m,v+C-S)};N.anchorYSetter=function(v,m){W=v;P(m,v-p)};N.xSetter=function(m){N.x=m;u&&(m-=u*((q||E.width)+F));S=ax(m);N.attr("translateX",S)};N.ySetter=function(m){p=N.y=ax(m);N.attr("translateY",p)};var K=N.css;return aA(N,{css:function(v){if(v){var m={},v=av(v);aB("fontSize,fontWeight,fontFamily,color,lineHeight,width,textDecoration,textShadow".split(","),function(y){v[y]!==ay&&(m[y]=v[y],delete v[y])});H.css(m)}return K.call(N,v)},getBBox:function(){return{width:E.width+2*F,height:E.height+2*F,x:E.x-F,y:E.y-F}},shadow:function(m){O&&O.shadow(m);return N},destroy:function(){aV(N.element,"mouseenter");aV(N.element,"mouseleave");H&&(H=H.destroy());O&&(O=O.destroy());a3.prototype.destroy.call(N);N=M=R=Q=P=null}})}};bQ=bs;aA(a3.prototype,{htmlCss:function(p){var m=this.element;if(m=p&&m.tagName==="SPAN"&&p.width){delete p.width,this.textWidth=m,this.updateTransform()}this.styles=aA(this.styles,p);bh(this.element,p);return this},htmlGetBBox:function(){var p=this.element,m=this.bBox;if(!m){if(p.nodeName==="text"){p.style.position="absolute"}m=this.bBox={x:p.offsetLeft,y:p.offsetTop,width:p.offsetWidth,height:p.offsetHeight}}return m},htmlUpdateTransform:function(){if(this.added){var E=this.renderer,D=this.element,C=this.translateX||0,A=this.translateY||0,z=this.x||0,y=this.y||0,w=this.textAlign||"left",v={left:0,center:0.5,right:1}[w],u=this.shadows;bh(D,{marginLeft:C,marginTop:A});u&&aB(u,function(F){bh(F,{marginLeft:C+1,marginTop:A+1})});this.inverted&&aB(D.childNodes,function(F){E.invertChild(F,D)});if(D.tagName==="SPAN"){var t=this.rotation,q,p=aq(this.textWidth),m=[t,w,D.innerHTML,this.textWidth].join(",");if(m!==this.cTT){q=E.fontMetrics(D.style.fontSize).b;az(t)&&this.setSpanRotation(t,v,q);u=aE(this.elemWidth,D.offsetWidth);if(u>p&&/[ \-]/.test(D.textContent||D.innerText)){bh(D,{width:p+"px",display:"block",whiteSpace:"normal"}),u=p}this.getSpanCorrection(u,q,v,t,w)}bh(D,{left:z+(this.xCorr||0)+"px",top:y+(this.yCorr||0)+"px"});if(aF){q=D.offsetHeight}this.cTT=m}}else{this.alignOnAdd=!0}},setSpanRotation:function(p,m,u){var t={},q=bU?"-ms-transform":aF?"-webkit-transform":bP?"MozTransform":bl?"-o-transform":"";t[q]=t.transform="rotate("+p+"deg)";t[q+(bP?"Origin":"-origin")]=t.transformOrigin=m*100+"% "+u+"px";bh(this.element,t)},getSpanCorrection:function(p,m,q){this.xCorr=-p*q;this.yCorr=-m}});aA(bs.prototype,{html:function(p,m,v){var u=this.createElement("span"),t=u.element,q=u.renderer;u.textSetter=function(w){w!==t.innerHTML&&delete this.bBox;t.innerHTML=this.textStr=w};u.xSetter=u.ySetter=u.alignSetter=u.rotationSetter=function(y,w){w==="align"&&(w="textAlign");u[w]=y;u.htmlUpdateTransform()};u.attr({text:p,x:ax(m),y:ax(v)}).css({position:"absolute",whiteSpace:"nowrap",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize});u.css=u.htmlCss;if(q.isSVG){u.add=function(y){var w,A=q.box.parentNode,z=[];if(this.parentGroup=y){if(w=y.div,!w){for(;y;){z.push(y),y=y.parentGroup}aB(z.reverse(),function(C){var D;w=C.div=C.div||aT(aM,{className:bg(C.element,"class")},{position:"absolute",left:(C.translateX||0)+"px",top:(C.translateY||0)+"px"},w||A);D=w.style;aA(C,{translateXSetter:function(E,F){D.left=E+"px";C[F]=E;C.doTransform=!0},translateYSetter:function(E,F){D.top=E+"px";C[F]=E;C.doTransform=!0},visibilitySetter:function(F,E){D[E]=F}})})}}else{w=A}w.appendChild(t);u.added=!0;u.alignOnAdd&&u.htmlUpdateTransform();return u}}return u}});var aU;if(!bA&&!bT){a0.VMLElement=aU={init:function(p,m){var u=["<",m,' filled="f" stroked="f"'],t=["position: ","absolute",";"],q=m===aM;(m==="shape"||q)&&t.push("left:0;top:0;width:1px;height:1px;");t.push("visibility: ",q?"hidden":"visible");u.push(' style="',t.join(""),'"/>');if(m){u=q||m==="span"||m==="img"?u.join(""):p.prepVML(u),this.element=aT(u)}this.renderer=p},add:function(p){var m=this.renderer,t=this.element,q=m.box,q=p?p.element||p:q;p&&p.inverted&&m.invertChild(t,q);q.appendChild(t);this.added=!0;this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform();if(this.onAdd){this.onAdd()}return this},updateTransform:a3.prototype.htmlUpdateTransform,setSpanRotation:function(){var p=this.rotation,m=aS(p*bf),q=f(p*bf);bh(this.element,{filter:p?["progid:DXImageTransform.Microsoft.Matrix(M11=",m,", M12=",-q,", M21=",q,", M22=",m,", sizingMethod='auto expand')"].join(""):a1})},getSpanCorrection:function(z,y,w,v,u){var t=v?aS(v*bf):1,q=v?f(v*bf):0,p=aE(this.elemHeight,this.element.offsetHeight),m;this.xCorr=t<0&&-z;this.yCorr=q<0&&-p;m=t*q<0;this.xCorr+=q*y*(m?1-w:w);this.yCorr-=t*y*(v?m?w:1-w:1);u&&u!=="left"&&(this.xCorr-=z*w*(t<0?-1:1),v&&(this.yCorr-=p*w*(q<0?-1:1)),bh(this.element,{textAlign:u}))},pathToVML:function(p){for(var m=p.length,q=[];m--;){if(bd(p[m])){q[m]=ax(p[m]*10)-5}else{if(p[m]==="Z"){q[m]="x"}else{if(q[m]=p[m],p.isArc&&(p[m]==="wa"||p[m]==="at")){q[m+5]===q[m+7]&&(q[m+7]+=p[m+7]>p[m+5]?1:-1),q[m+6]===q[m+8]&&(q[m+8]+=p[m+8]>p[m+6]?1:-1)}}}}return q.join(" ")||"x"},clip:function(p){var m=this,q;p?(q=p.members,ag(q,m),q.push(m),m.destroyClip=function(){ag(q,m)},p=p.getCSS(m)):(m.destroyClip&&m.destroyClip(),p={clip:a9?"inherit":"rect(auto)"});return m.css(p)},css:a3.prototype.htmlCss,safeRemoveChild:function(m){m.parentNode&&aQ(m)},destroy:function(){this.destroyClip&&this.destroyClip();return a3.prototype.destroy.apply(this)},on:function(p,m){this.element["on"+p]=function(){var q=be.event;q.target=q.srcElement;m(q)};return this},cutOffPath:function(p,m){var q,p=p.split(/[ ,]/);q=p.length;if(q===9||q===11){p[q-4]=p[q-2]=aq(p[q-2])-10*m}return p.join(" ")},shadow:function(F,E,D){var C=[],A,z=this.element,y=this.renderer,w,v=z.style,u,t=z.path,q,m,p,G;t&&typeof t.value!=="string"&&(t="x");m=t;if(F){p=aE(F.width,3);G=(F.opacity||0.15)/p;for(A=1;A<=3;A++){q=p*2+1-2*A;D&&(m=this.cutOffPath(t.value,q+0.5));u=['<shape isShadow="true" strokeweight="',q,'" filled="false" path="',m,'" coordsize="10 10" style="',z.style.cssText,'" />'];w=aT(y.prepVML(u),null,{left:aq(v.left)+aE(F.offsetX,1),top:aq(v.top)+aE(F.offsetY,1)});if(D){w.cutOff=q+1}u=['<stroke color="',F.color||"black",'" opacity="',G*A,'"/>'];aT(y.prepVML(u),null,null,w);E?E.element.appendChild(w):z.parentNode.insertBefore(w,z);C.push(w)}this.shadows=C}return this},updateShadows:bK,setAttr:function(p,m){a9?this.element[p]=m:this.element.setAttribute(p,m)},classSetter:function(m){this.element.className=m},dashstyleSetter:function(p,m,q){(q.getElementsByTagName("stroke")[0]||aT(this.renderer.prepVML(["<stroke/>"]),null,null,q))[m]=p||"solid";this[m]=p},dSetter:function(p,m,t){var q=this.shadows,p=p||[];this.d=p.join(" ");t.path=p=this.pathToVML(p);if(q){for(t=q.length;t--;){q[t].path=q[t].cutOff?this.cutOffPath(p,q[t].cutOff):p}}this.setAttr(m,p)},fillSetter:function(p,m,t){var q=t.nodeName;if(q==="SPAN"){t.style.color=p}else{if(q!=="IMG"){t.filled=p!==a1,this.setAttr("fillcolor",this.renderer.color(p,t,m,this))}}},opacitySetter:bK,rotationSetter:function(p,m,q){q=q.style;this[m]=q[m]=p;q.left=-ax(f(p*bf)+1)+"px";q.top=ax(aS(p*bf))+"px"},strokeSetter:function(p,m,q){this.setAttr("strokecolor",this.renderer.color(p,q,m))},"stroke-widthSetter":function(p,m,q){q.stroked=!!p;this[m]=p;bd(p)&&(p+="px");this.setAttr("strokeweight",p)},titleSetter:function(p,m){this.setAttr(m,p)},visibilitySetter:function(p,m,q){p==="inherit"&&(p="visible");this.shadows&&aB(this.shadows,function(t){t.style[m]=p});q.nodeName==="DIV"&&(p=p==="hidden"?"-999em":0,a9||(q.style[m]=p?"visible":"hidden"),m="top");q.style[m]=p},xSetter:function(p,m,q){this[m]=p;m==="x"?m="left":m==="y"&&(m="top");this.updateClipping?(this[m]=p,this.updateClipping()):q.style[m]=p},zIndexSetter:function(p,m,q){q.style[m]=p}};aU=j(a3,aU);aU.prototype.ySetter=aU.prototype.widthSetter=aU.prototype.heightSetter=aU.prototype.xSetter;var bC={Element:aU,isIE8:B.indexOf("MSIE 8.0")>-1,init:function(p,m,v,u){var t;this.alignedObjects=[];u=this.createElement(aM).css(aA(this.getStyle(u),{position:"relative"}));t=u.element;p.appendChild(u.element);this.isVML=!0;this.box=t;this.boxWrapper=u;this.cache={};this.setSize(m,v,!1);if(!at.namespaces.hcv){at.namespaces.add("hcv","urn:schemas-microsoft-com:vml");try{at.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}catch(q){at.styleSheets[0].cssText+="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}}},isHidden:function(){return !this.box.offsetWidth},clipRect:function(p,m,v,u){var t=this.createElement(),q=aD(p);return aA(t,{members:[],left:(q?p.x:p)+1,top:(q?p.y:m)+1,width:(q?p.width:v)-1,height:(q?p.height:u)-1,getCSS:function(y){var w=y.element,D=w.nodeName,y=y.inverted,C=this.top-(D==="shape"?w.offsetTop:0),A=this.left,w=A+this.width,z=C+this.height,C={clip:"rect("+ax(y?A:C)+"px,"+ax(y?z:w)+"px,"+ax(y?w:z)+"px,"+ax(y?C:A)+"px)"};!y&&a9&&D==="DIV"&&aA(C,{width:w+"px",height:z+"px"});return C},updateClipping:function(){aB(t.members,function(w){w.element&&w.css(t.getCSS(w))})}})},color:function(ba,ab,aa,Z){var Y=this,X,W=/^rgba/,V,U,T=a1;ba&&ba.linearGradient?U="gradient":ba&&ba.radialGradient&&(U="pattern");if(U){var S,R,O=ba.linearGradient||ba.radialGradient,P,I,Q,C,z,D="",ba=ba.stops,K,F=[],N=function(){V=['<fill colors="'+F.join(",")+'" opacity="',Q,'" o:opacity2="',I,'" type="',U,'" ',D,'focus="100%" method="any" />'];aT(Y.prepVML(V),null,null,ab)};P=ba[0];K=ba[ba.length-1];P[0]>0&&ba.unshift([0,P[1]]);K[0]<1&&ba.push([1,K[1]]);aB(ba,function(q,m){W.test(q[1])?(X=bN(q[1]),S=X.get("rgb"),R=X.get("a")):(S=q[1],R=1);F.push(q[0]*100+"% "+S);m?(Q=R,C=S):(I=R,z=S)});if(aa==="fill"){if(U==="gradient"){aa=O.x1||O[0]||0,ba=O.y1||O[1]||0,P=O.x2||O[2]||0,O=O.y2||O[3]||0,D='angle="'+(90-aX.atan((O-ba)/(P-aa))*180/bH)+'"',N()}else{var T=O.r,H=T*2,G=T*2,A=O.cx,M=O.cy,p=ab.radialReference,E,T=function(){p&&(E=Z.getBBox(),A+=(p[0]-E.x)/E.width-0.5,M+=(p[1]-E.y)/E.height-0.5,H*=p[2]/E.width,G*=p[2]/E.height);D='src="'+bk.global.VMLRadialGradientURL+'" size="'+H+","+G+'" origin="0.5,0.5" position="'+A+","+M+'" color2="'+z+'" ';N()};Z.added?T():Z.onAdd=T;T=C}}else{T=S}}else{if(W.test(ba)&&ab.tagName!=="IMG"){X=bN(ba),V=["<",aa,' opacity="',X.get("a"),'"/>'],aT(this.prepVML(V),null,null,ab),T=X.get("rgb")}else{T=ab.getElementsByTagName(aa);if(T.length){T[0].opacity=1,T[0].type="solid"}T=ba}}return T},prepVML:function(p){var m=this.isIE8,p=p.join("");m?(p=p.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),p=p.indexOf('style="')===-1?p.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):p.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):p=p.replace("<","<hcv:");return p},text:bs.prototype.html,path:function(p){var m={coordsize:"10 10"};s(p)?m.d=p:aD(p)&&aA(m,p);return this.createElement("shape").attr(m)},circle:function(p,m,t){var q=this.symbol("circle");if(aD(p)){t=p.r,m=p.y,p=p.x}q.isCircle=!0;q.r=t;return q.attr({x:p,y:m})},g:function(p){var m;p&&(m={className:"highcharts-"+p,"class":"highcharts-"+p});return this.createElement(aM).attr(m)},image:function(p,m,v,u,t){var q=this.createElement("img").attr({src:p});arguments.length>1&&q.attr({x:m,y:v,width:u,height:t});return q},createElement:function(m){return m==="rect"?this.symbol(m):bs.prototype.createElement.call(this,m)},invertChild:function(p,m){var u=this,t=m.style,q=p.tagName==="IMG"&&p.style;bh(p,{flip:"x",left:aq(t.width)-(q?aq(q.top):1),top:aq(t.height)-(q?aq(q.left):1),rotation:-90});aB(p.childNodes,function(v){u.invertChild(v,p)})},symbols:{arc:function(C,A,z,y,w){var v=w.start,u=w.end,t=w.r||z||y,z=w.innerR,y=aS(v),q=f(v),p=aS(u),m=f(u);if(u-v===0){return["x"]}v=["wa",C-t,A-t,C+t,A+t,C+t*y,A+t*q,C+t*p,A+t*m];w.open&&!z&&v.push("e","M",C,A);v.push("at",C-z,A-z,C+z,A+z,C+z*p,A+z*m,C+z*y,A+z*q,"x","e");v.isArc=!0;return v},circle:function(p,m,u,t,q){q&&(u=t=2*q.r);q&&q.isCircle&&(p-=u/2,m-=t/2);return["wa",p,m,p+u,m+t,p+u,m+t/2,p+u,m+t/2,"e"]},rect:function(p,m,u,t,q){return bs.prototype.symbols[!az(q)||!q.r?"square":"callout"].call(0,p,m,u,t,q)}}};a0.VMLRenderer=aU=function(){this.init.apply(this,arguments)};aU.prototype=av(bs.prototype,bC);bQ=aU}bs.prototype.measureSpanWidth=function(p,m){var t=at.createElement("span"),q;q=at.createTextNode(p);t.appendChild(q);bh(t,m);this.box.appendChild(t);q=t.offsetWidth;aQ(t);return q};var n;if(bT){a0.CanVGRenderer=aU=function(){b="http://www.w3.org/1999/xhtml"},aU.prototype.symbols={},n=function(){function p(){var q=m.length,t;for(t=0;t<q;t++){m[t]()}m=[]}var m=[];return{push:function(t,q){m.length===0&&an(q,p);m.push(t)}}}(),bQ=aU}c.prototype={addLabel:function(){var E=this.axis,D=E.options,C=E.chart,A=E.horiz,z=E.categories,y=E.names,w=this.pos,v=D.labels,u=E.tickPositions,A=A&&z&&!v.step&&!v.staggerLines&&!v.rotation&&C.plotWidth/u.length||!A&&(C.margin[3]||C.chartWidth*0.33),t=w===u[0],q=w===u[u.length-1],p,y=z?aE(z[w],y[w],w):w,z=this.label,m=u.info;E.isDatetimeAxis&&m&&(p=D.dateTimeLabelFormats[m.higherRanks[w]||m.unitName]);this.isFirst=t;this.isLast=q;D=E.labelFormatter.call({axis:E,chart:C,isFirst:t,isLast:q,dateTimeLabelFormat:p,value:E.isLog?ad(aH(y)):y});w=A&&{width:aw(1,ax(A-2*(v.padding||10)))+"px"};w=aA(w,v.style);if(az(z)){z&&z.attr({text:D}).css(w)}else{p={align:E.labelAlign};if(bd(v.rotation)){p.rotation=v.rotation}if(A&&v.ellipsis){p._clipHeight=E.len/u.length}this.label=az(D)&&v.enabled?C.renderer.text(D,0,0,v.useHTML).attr(p).css(w).add(E.labelGroup):null}},getLabelSize:function(){var p=this.label,m=this.axis;return p?p.getBBox()[m.horiz?"height":"width"]:0},getLabelSides:function(){var p=this.label.getBBox(),m=this.axis,t=m.horiz,q=m.options.labels,p=t?p.width:p.height,m=t?q.x-p*{left:0,center:0.5,right:1}[m.labelAlign]:0;return[m,t?p+m:p]},handleOverflow:function(F,E){var D=!0,C=this.axis,A=this.isFirst,z=this.isLast,y=C.horiz?E.x:E.y,w=C.reversed,v=C.tickPositions,u=this.getLabelSides(),t=u[0],u=u[1],q,m,p,G=this.label.line||0;q=C.labelEdge;m=C.justifyLabels&&(A||z);q[G]===ay||y+t>q[G]?q[G]=y+u:m||(D=!1);if(m){q=(m=C.justifyToPlot)?C.pos:0;m=m?q+C.len:C.chart.chartWidth;do{F+=A?1:-1,p=C.ticks[v[F]]}while(v[F]&&(!p||p.label.line!==G));C=p&&p.label.xy&&p.label.xy.x+p.getLabelSides()[A?0:1];A&&!w||z&&w?y+t<q&&(y=q-t,p&&y+u>C&&(D=!1)):y+u>m&&(y=m-u,p&&y+t<C&&(D=!1));E.x=y}return D},getPosition:function(p,m,w,v){var u=this.axis,t=u.chart,q=v&&t.oldChartHeight||t.chartHeight;return{x:p?u.translate(m+w,null,null,v)+u.transB:u.left+u.offset+(u.opposite?(v&&t.oldChartWidth||t.chartWidth)-u.right-u.left:0),y:p?q-u.bottom+u.offset-(u.opposite?u.height:0):q-u.translate(m+w,null,null,v)-u.transB}},getLabelPosition:function(F,E,D,C,A,z,y,w){var v=this.axis,u=v.transA,t=v.reversed,q=v.staggerLines,m=v.chart.renderer.fontMetrics(A.style.fontSize).b,p=A.rotation,F=F+A.x-(z&&C?z*u*(t?-1:1):0),E=E+A.y-(z&&!C?z*u*(t?1:-1):0);p&&v.side===2&&(E-=m-m*aS(p*bf));!az(A.y)&&!p&&(E+=m-D.getBBox().height/2);if(q){D.line=y/(w||1)%q,E+=D.line*(v.labelOffset/q)}return{x:F,y:E}},getMarkPath:function(p,m,v,u,t,q){return q.crispLine(["M",p,m,"L",p+(t?0:-v),m+(t?v:0)],u)},render:function(Z,Y,X){var W=this.axis,V=W.options,U=W.chart.renderer,T=W.horiz,S=this.type,R=this.label,Q=this.pos,P=V.labels,O=this.gridLine,M=S?S+"Grid":"grid",N=S?S+"Tick":"tick",F=V[M+"LineWidth"],K=V[M+"LineColor"],z=V[M+"LineDashStyle"],m=V[N+"Length"],M=V[N+"Width"]||0,A=V[N+"Color"],G=V[N+"Position"],N=this.mark,D=P.step,I=!0,E=W.tickmarkOffset,C=this.getPosition(T,Q,E,Y),t=C.x,C=C.y,H=T&&t===W.pos+W.len||!T&&C===W.pos?-1:1;this.isActive=!0;if(F){Q=W.getPlotLinePath(Q+E,F*H,Y,!0);if(O===ay){O={stroke:K,"stroke-width":F};if(z){O.dashstyle=z}if(!S){O.zIndex=1}if(Y){O.opacity=0}this.gridLine=O=F?U.path(Q).attr(O).add(W.gridGroup):null}if(!Y&&O&&Q){O[this.isNew?"attr":"animate"]({d:Q,opacity:X})}}if(M&&m){G==="inside"&&(m=-m),W.opposite&&(m=-m),S=this.getMarkPath(t,C,m,M*H,T,U),N?N.animate({d:S,opacity:X}):this.mark=U.path(S).attr({stroke:A,"stroke-width":M,opacity:X}).add(W.axisGroup)}if(R&&!isNaN(t)){R.xy=C=this.getLabelPosition(t,C,R,T,P,E,Z,D),this.isFirst&&!this.isLast&&!aE(V.showFirstLabel,1)||this.isLast&&!this.isFirst&&!aE(V.showLastLabel,1)?I=!1:!W.isRadial&&!P.step&&!P.rotation&&!Y&&X!==0&&(I=this.handleOverflow(Z,C)),D&&Z%D&&(I=!1),I&&!isNaN(C.y)?(C.opacity=X,R[this.isNew?"attr":"animate"](C),this.isNew=!1):R.attr("y",-9999)}},destroy:function(){bu(this,this.axis)}};a0.PlotLineOrBand=function(p,m){this.axis=p;if(m){this.options=m,this.id=m.id}};a0.PlotLineOrBand.prototype={render:function(){var R=this,Q=R.axis,P=Q.horiz,O=(Q.pointRange||0)/2,N=R.options,M=N.label,K=R.label,I=N.width,H=N.to,G=N.from,F=az(G)&&az(H),E=N.value,C=N.dashStyle,D=R.svgElem,y=[],A,u=N.color,m=N.zIndex,v=N.events,z={},w=Q.chart.renderer;Q.isLog&&(G=bx(G),H=bx(H),E=bx(E));if(I){if(y=Q.getPlotLinePath(E,I),z={stroke:u,"stroke-width":I},C){z.dashstyle=C}}else{if(F){G=aw(G,Q.min-O);H=bo(H,Q.max+O);y=Q.getPlotBandPath(G,H,N);if(u){z.fill=u}if(N.borderWidth){z.stroke=N.borderColor,z["stroke-width"]=N.borderWidth}}else{return}}if(az(m)){z.zIndex=m}if(D){if(y){D.animate({d:y},null,D.onGetPath)}else{if(D.hide(),D.onGetPath=function(){D.show()},K){R.label=K=K.destroy()}}}else{if(y&&y.length&&(R.svgElem=D=w.path(y).attr(z).add(),v)){for(A in O=function(p){D.on(p,function(q){v[p].apply(R,[q])})},v){O(A)}}}if(M&&az(M.text)&&y&&y.length&&Q.width>0&&Q.height>0){M=av({align:P&&F&&"center",x:P?!F&&4:10,verticalAlign:!P&&F&&"middle",y:P?F?16:10:F?6:-4,rotation:P&&!F&&90},M);if(!K){z={align:M.textAlign||M.align,rotation:M.rotation};if(az(m)){z.zIndex=m}R.label=K=w.text(M.text,0,0,M.useHTML).attr(z).css(M.style).add()}Q=[y[1],y[4],aE(y[6],y[1])];y=[y[2],y[5],aE(y[7],y[2])];P=bM(Q);F=bM(y);K.align(M,!1,{x:P,y:F,width:bE(Q)-P,height:bE(y)-F});K.show()}else{K&&K.hide()}return R},destroy:function(){ag(this.axis.plotLinesAndBands,this);delete this.axis;bu(this)}};bX.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:a6,lineColor:"#C0D0E0",lineWidth:1,minPadding:0.01,maxPadding:0.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:0.05,minPadding:0.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return bY(this.total,-1)},style:a6.style}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:20},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-15},title:{rotation:0}},init:function(p,m){var v=m.isX;this.horiz=p.inverted?!v:v;this.coll=(this.isXAxis=v)?"xAxis":"yAxis";this.opposite=m.opposite;this.side=m.side||(this.horiz?this.opposite?0:2:this.opposite?1:3);this.setOptions(m);var u=this.options,t=u.type;this.labelFormatter=u.labels.formatter||this.defaultLabelFormatter;this.userOptions=m;this.minPixelPadding=0;this.chart=p;this.reversed=u.reversed;this.zoomEnabled=u.zoomEnabled!==!1;this.categories=u.categories||t==="category";this.names=[];this.isLog=t==="logarithmic";this.isDatetimeAxis=t==="datetime";this.isLinked=az(u.linkedTo);this.tickmarkOffset=this.categories&&u.tickmarkPlacement==="between"?0.5:0;this.ticks={};this.labelEdge=[];this.minorTicks={};this.plotLinesAndBands=[];this.alternateBands={};this.len=0;this.minRange=this.userMinRange=u.minRange||u.maxZoom;this.range=u.range;this.offset=u.offset||0;this.stacks={};this.oldStacks={};this.min=this.max=null;this.crosshair=aE(u.crosshair,o(p.options.tooltip.crosshairs)[v?0:1],!1);var q,u=this.options.events;aI(this,p.axes)===-1&&(v&&!this.isColorAxis?p.axes.splice(p.xAxis.length,0,this):p.axes.push(this),p[this.coll].push(this));this.series=this.series||[];if(p.inverted&&v&&this.reversed===ay){this.reversed=!0}this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(q in u){a8(this,q,u[q])}if(this.isLog){this.val2lin=bx,this.lin2val=aH}},setOptions:function(m){this.options=av(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],av(bk[this.coll],m))},defaultLabelFormatter:function(){var p=this.axis,m=this.value,y=p.categories,w=this.dateTimeLabelFormat,v=bk.lang.numericSymbols,u=v&&v.length,t,q=p.options.labels.format,p=p.isLog?m:p.tickInterval;if(q){t=bn(q,this)}else{if(y){t=m}else{if(w){t=aC(w,m)}else{if(u&&p>=1000){for(;u--&&t===ay;){y=Math.pow(1000,u+1),p>=y&&v[u]!==null&&(t=bY(m/y,-1)+v[u])}}}}}t===ay&&(t=a7(m)>=10000?bY(m,0):bY(m,-1,ay,""));return t},getSeriesExtremes:function(){var p=this,m=p.chart;p.hasVisibleSeries=!1;p.dataMin=p.dataMax=null;p.buildStacks&&p.buildStacks();aB(p.series,function(u){if(u.visible||!m.options.chart.ignoreHiddenSeries){var t;t=u.options.threshold;var q;p.hasVisibleSeries=!0;p.isLog&&t<=0&&(t=null);if(p.isXAxis){if(t=u.xData,t.length){p.dataMin=bo(aE(p.dataMin,t[0]),bM(t)),p.dataMax=aw(aE(p.dataMax,t[0]),bE(t))}}else{u.getExtremes();q=u.dataMax;u=u.dataMin;if(az(u)&&az(q)){p.dataMin=bo(aE(p.dataMin,u),u),p.dataMax=aw(aE(p.dataMax,q),q)}if(az(t)){if(p.dataMin>=t){p.dataMin=t,p.ignoreMinPadding=!0}else{if(p.dataMax<t){p.dataMax=t,p.ignoreMaxPadding=!0}}}}}})},translate:function(A,z,y,w,v,u){var t=1,q=0,p=w?this.oldTransA:this.transA,w=w?this.oldMin:this.min,m=this.minPixelPadding,v=(this.options.ordinal||this.isLog&&v)&&this.lin2val;if(!p){p=this.transA}if(y){t*=-1,q=this.len}this.reversed&&(t*=-1,q-=t*(this.sector||this.len));z?(A=A*t+q,A-=m,A=A/p+w,v&&(A=this.lin2val(A))):(v&&(A=this.val2lin(A)),u==="between"&&(u=0.5),A=t*(A-w)*p+q+t*m+(bd(u)?p*u*this.pointRange:0));return A},toPixels:function(p,m){return this.translate(p,!1,!this.horiz,null,!0)+(m?0:this.pos)},toValue:function(p,m){return this.translate(p-(m?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(E,D,C,A,z){var y=this.chart,w=this.left,v=this.top,u,t,q=C&&y.oldChartHeight||y.chartHeight,p=C&&y.oldChartWidth||y.chartWidth,m;u=this.transB;z=aE(z,this.translate(E,null,null,C));E=C=ax(z+u);u=t=ax(q-z-u);if(isNaN(z)){m=!0}else{if(this.horiz){if(u=v,t=q-this.bottom,E<w||E>w+this.width){m=!0}}else{if(E=w,C=p-this.right,u<v||u>v+this.height){m=!0}}}return m&&!A?null:y.renderer.crispLine(["M",E,u,"L",C,t],D||1)},getLinearTickPositions:function(p,m,w){var v,u=ad(aY(m/p)*p),t=ad(al(w/p)*p),q=[];if(m===w&&bd(m)){return[m]}for(m=u;m<=t;){q.push(m);m=ad(m+p);if(m===v){break}v=m}return q},getMinorTickPositions:function(){var p=this.options,m=this.tickPositions,u=this.minorTickInterval,t=[],q;if(this.isLog){q=m.length;for(p=1;p<q;p++){t=t.concat(this.getLogTickPositions(u,m[p-1],m[p],!0))}}else{if(this.isDatetimeAxis&&p.minorTickInterval==="auto"){t=t.concat(this.getTimeTicks(this.normalizeTimeTickInterval(u),this.min,this.max,p.startOfWeek)),t[0]<this.min&&t.shift()}else{for(m=this.min+(m[0]-this.min)%u;m<=this.max;m+=u){t.push(m)}}}return t},adjustForMinRange:function(){var C=this.options,A=this.min,z=this.max,y,w=this.dataMax-this.dataMin>=this.minRange,v,u,t,q,p;if(this.isXAxis&&this.minRange===ay&&!this.isLog){az(C.min)||az(C.max)?this.minRange=null:(aB(this.series,function(D){q=D.xData;for(u=p=D.xIncrement?1:q.length-1;u>0;u--){if(t=q[u]-q[u-1],v===ay||t<v){v=t}}}),this.minRange=bo(v*5,this.dataMax-this.dataMin))}if(z-A<this.minRange){var m=this.minRange;y=(m-z+A)/2;y=[A-y,aE(C.min,A-y)];if(w){y[2]=this.dataMin}A=bE(y);z=[A+m,aE(C.max,A+m)];if(w){z[2]=this.dataMax}z=bM(z);z-A<m&&(y[0]=z-m,y[1]=aE(C.min,z-m),A=bE(y))}this.min=A;this.max=z},setAxisTranslation:function(A){var z=this,y=z.max-z.min,w=z.axisPointRange||0,v,u=0,t=0,q=z.linkedParent,p=!!z.categories,m=z.transA;if(z.isXAxis||p||w){q?(u=q.minPointOffset,t=q.pointRangePadding):aB(z.series,function(C){var E=p?1:z.isXAxis?C.pointRange:z.axisPointRange||0,D=C.options.pointPlacement,F=C.closestPointRange;E>y&&(E=0);w=aw(w,E);u=aw(u,k(D)?0:E/2);t=aw(t,D==="on"?0:E);!C.noSharedTooltip&&az(F)&&(v=az(v)?bo(v,F):F)}),q=z.ordinalSlope&&v?z.ordinalSlope/v:1,z.minPointOffset=u*=q,z.pointRangePadding=t*=q,z.pointRange=bo(w,y),z.closestPointRange=v}if(A){z.oldTransA=m}z.translationSlope=z.transA=m=z.len/(y+t||1);z.transB=z.horiz?z.left:z.bottom;z.minPixelPadding=m*u},setTickPositions:function(G){var F=this,E=F.chart,D=F.options,C=F.isLog,A=F.isDatetimeAxis,z=F.isXAxis,y=F.isLinked,w=F.options.tickPositioner,u=D.maxPadding,t=D.minPadding,q=D.tickInterval,m=D.minTickInterval,p=D.tickPixelInterval,H,v=F.categories;y?(F.linkedParent=E[F.coll][D.linkedTo],E=F.linkedParent.getExtremes(),F.min=aE(E.min,E.dataMin),F.max=aE(E.max,E.dataMax),D.type!==F.linkedParent.options.type&&b1(11,1)):(F.min=aE(F.userMin,D.min,F.dataMin),F.max=aE(F.userMax,D.max,F.dataMax));if(C){!G&&bo(F.min,aE(F.dataMin,F.min))<=0&&b1(10,1),F.min=ad(bx(F.min)),F.max=ad(bx(F.max))}if(F.range&&az(F.max)){F.userMin=F.min=aw(F.min,F.max-F.range),F.userMax=F.max,F.range=null}F.beforePadding&&F.beforePadding();F.adjustForMinRange();if(!v&&!F.axisPointRange&&!F.usePercentage&&!y&&az(F.min)&&az(F.max)&&(E=F.max-F.min)){if(!az(D.min)&&!az(F.userMin)&&t&&(F.dataMin<0||!F.ignoreMinPadding)){F.min-=E*t}if(!az(D.max)&&!az(F.userMax)&&u&&(F.dataMax>0||!F.ignoreMaxPadding)){F.max+=E*u}}if(bd(D.floor)){F.min=aw(F.min,D.floor)}if(bd(D.ceiling)){F.max=bo(F.max,D.ceiling)}F.min===F.max||F.min===void 0||F.max===void 0?F.tickInterval=1:y&&!q&&p===F.linkedParent.options.tickPixelInterval?F.tickInterval=F.linkedParent.tickInterval:(F.tickInterval=aE(q,v?1:(F.max-F.min)*p/aw(F.len,p)),!az(q)&&F.len<p&&!this.isRadial&&!this.isLog&&!v&&D.startOnTick&&D.endOnTick&&(H=!0,F.tickInterval/=4));z&&!G&&aB(F.series,function(I){I.processData(F.min!==F.oldMin||F.max!==F.oldMax)});F.setAxisTranslation(!0);F.beforeSetTickPositions&&F.beforeSetTickPositions();if(F.postProcessTickInterval){F.tickInterval=F.postProcessTickInterval(F.tickInterval)}if(F.pointRange){F.tickInterval=aw(F.pointRange,F.tickInterval)}if(!q&&F.tickInterval<m){F.tickInterval=m}if(!A&&!C&&!q){F.tickInterval=bj(F.tickInterval,null,bF(F.tickInterval),D)}F.minorTickInterval=D.minorTickInterval==="auto"&&F.tickInterval?F.tickInterval/5:D.minorTickInterval;F.tickPositions=G=D.tickPositions?[].concat(D.tickPositions):w&&w.apply(F,[F.min,F.max]);if(!G){!F.ordinalPositions&&(F.max-F.min)/F.tickInterval>aw(2*F.len,200)&&b1(19,!0),G=A?F.getTimeTicks(F.normalizeTimeTickInterval(F.tickInterval,D.units),F.min,F.max,D.startOfWeek,F.ordinalPositions,F.closestPointRange,!0):C?F.getLogTickPositions(F.tickInterval,F.min,F.max):F.getLinearTickPositions(F.tickInterval,F.min,F.max),H&&G.splice(1,G.length-2),F.tickPositions=G}if(!y){C=G[0],A=G[G.length-1],y=F.minPointOffset||0,D.startOnTick?F.min=C:F.min-y>C&&G.shift(),D.endOnTick?F.max=A:F.max+y<A&&G.pop(),G.length===1&&(D=a7(F.max)>10000000000000?1:0.001,F.min-=D,F.max+=D)}},setMaxTicks:function(){var p=this.chart,m=p.maxTicks||{},t=this.tickPositions,q=this._maxTicksKey=[this.coll,this.pos,this.len].join("-");if(!this.isLinked&&!this.isDatetimeAxis&&t&&t.length>(m[q]||0)&&this.options.alignTicks!==!1){m[q]=t.length}p.maxTicks=m},adjustTickAmount:function(){var p=this._maxTicksKey,m=this.tickPositions,u=this.chart.maxTicks;if(u&&u[p]&&!this.isDatetimeAxis&&!this.categories&&!this.isLinked&&this.options.alignTicks!==!1&&this.min!==ay){var t=this.tickAmount,q=m.length;this.tickAmount=p=u[p];if(q<p){for(;m.length<p;){m.push(ad(m[m.length-1]+this.tickInterval))}this.transA*=(q-1)/(p-1);this.max=m[m.length-1]}if(az(t)&&p!==t){this.isDirty=!0}}},setScale:function(){var p=this.stacks,m,u,t,q;this.oldMin=this.min;this.oldMax=this.max;this.oldAxisLength=this.len;this.setAxisSize();q=this.len!==this.oldAxisLength;aB(this.series,function(v){if(v.isDirtyData||v.isDirty||v.xAxis.isDirty){t=!0}});if(q||t||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(!this.isXAxis){for(m in p){for(u in p[m]){p[m][u].total=null,p[m][u].cum=0}}}this.forceRedraw=!1;this.getSeriesExtremes();this.setTickPositions();this.oldUserMin=this.userMin;this.oldUserMax=this.userMax;if(!this.isDirty){this.isDirty=q||this.min!==this.oldMin||this.max!==this.oldMax}}else{if(!this.isXAxis){if(this.oldStacks){p=this.stacks=this.oldStacks}for(m in p){for(u in p[m]){p[m][u].cum=p[m][u].total}}}}this.setMaxTicks()},setExtremes:function(p,m,w,v,u){var t=this,q=t.chart,w=aE(w,!0),u=aA(u,{min:p,max:m});bm(t,"setExtremes",u,function(){t.userMin=p;t.userMax=m;t.eventArgs=u;t.isDirtyExtremes=!0;w&&q.redraw(v)})},zoom:function(p,m){var u=this.dataMin,t=this.dataMax,q=this.options;this.allowZoomOutside||(az(u)&&p<=bo(u,aE(q.min,u))&&(p=ay),az(t)&&m>=aw(t,aE(q.max,t))&&(m=ay));this.displayBtn=p!==ay||m!==ay;this.setExtremes(p,m,!1,ay,{trigger:"zoom"});return !0},setAxisSize:function(){var p=this.chart,m=this.options,w=m.offsetLeft||0,v=this.horiz,u=aE(m.width,p.plotWidth-w+(m.offsetRight||0)),t=aE(m.height,p.plotHeight),q=aE(m.top,p.plotTop),m=aE(m.left,p.plotLeft+w),w=/%$/;w.test(t)&&(t=parseInt(t,10)/100*p.plotHeight);w.test(q)&&(q=parseInt(q,10)/100*p.plotHeight+p.plotTop);this.left=m;this.top=q;this.width=u;this.height=t;this.bottom=p.chartHeight-t-q;this.right=p.chartWidth-u-m;this.len=aw(v?u:t,0);this.pos=v?m:q},getExtremes:function(){var m=this.isLog;return{min:m?ad(aH(this.min)):this.min,max:m?ad(aH(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(p){var m=this.isLog,q=m?aH(this.min):this.min,m=m?aH(this.max):this.max;q>p||p===null?p=q:m<p&&(p=m);return this.translate(p,0,1,0,1)},autoLabelAlign:function(m){m=(aE(m,0)-this.side*90+720)%360;return m>15&&m<165?"right":m>195&&m<345?"left":"center"},getOffset:function(){var aa=this,Z=aa.chart,Y=Z.renderer,X=aa.options,W=aa.tickPositions,V=aa.ticks,U=aa.horiz,T=aa.side,S=Z.inverted?[1,0,3,2][T]:T,R,Q=0,P,N=0,O=X.title,H=X.labels,m=0,D=Z.axisOffset,t=Z.clipOffset,E=[-1,1,1,-1][T],K,G=1,F=aE(H.maxStaggerLines,5),C,v,M,I,p=T===2?Y.fontMetrics(H.style.fontSize).b:0;aa.hasData=R=aa.hasVisibleSeries||az(aa.min)&&az(aa.max)&&!!W;aa.showAxis=Z=R||aE(X.showEmpty,!0);aa.staggerLines=aa.horiz&&H.staggerLines;if(!aa.axisGroup){aa.gridGroup=Y.g("grid").attr({zIndex:X.gridZIndex||1}).add(),aa.axisGroup=Y.g("axis").attr({zIndex:X.zIndex||2}).add(),aa.labelGroup=Y.g("axis-labels").attr({zIndex:H.zIndex||7}).addClass("highcharts-"+aa.coll.toLowerCase()+"-labels").add()}if(R||aa.isLinked){aa.labelAlign=aE(H.align||aa.autoLabelAlign(H.rotation));aB(W,function(q){V[q]?V[q].addLabel():V[q]=new c(aa,q)});if(aa.horiz&&!aa.staggerLines&&F&&!H.rotation){for(K=aa.reversed?[].concat(W).reverse():W;G<F;){R=[];C=!1;for(H=0;H<K.length;H++){v=K[H],M=(M=V[v].label&&V[v].label.getBBox())?M.width:0,I=H%G,M&&(v=aa.translate(v),R[I]!==ay&&v<R[I]&&(C=!0),R[I]=v+M)}if(C){G++}else{break}}if(G>1){aa.staggerLines=G}}aB(W,function(q){if(T===0||T===2||{1:"left",3:"right"}[T]===aa.labelAlign){m=aw(V[q].getLabelSize(),m)}});if(aa.staggerLines){m*=aa.staggerLines,aa.labelOffset=m}}else{for(K in V){V[K].destroy(),delete V[K]}}if(O&&O.text&&O.enabled!==!1){if(!aa.axisTitle){aa.axisTitle=Y.text(O.text,0,0,O.useHTML).attr({zIndex:7,rotation:O.rotation||0,align:O.textAlign||{low:"left",middle:"center",high:"right"}[O.align]}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(O.style).add(aa.axisGroup),aa.axisTitle.isNew=!0}if(Z){Q=aa.axisTitle.getBBox()[U?"height":"width"],N=aE(O.margin,U?5:10),P=O.offset}aa.axisTitle[Z?"show":"hide"]()}aa.offset=E*aE(X.offset,D[T]);aa.axisTitleMargin=aE(P,m+N+(m&&E*X.labels[U?"y":"x"]-p));D[T]=aw(D[T],aa.axisTitleMargin+Q+E*aa.offset);t[S]=aw(t[S],aY(X.lineWidth/2)*2)},getLinePath:function(p){var m=this.chart,v=this.opposite,u=this.offset,t=this.horiz,q=this.left+(v?this.width:0)+u,u=m.chartHeight-this.bottom-(v?this.height:0)+u;v&&(p*=-1);return m.renderer.crispLine(["M",t?this.left:q,t?u:this.top,"L",t?m.chartWidth-this.right:q,t?u:m.chartHeight-this.bottom],p)},getTitlePosition:function(){var z=this.horiz,y=this.left,w=this.top,v=this.len,u=this.options.title,t=z?y:w,q=this.opposite,p=this.offset,m=aq(u.style.fontSize||12),v={low:t+(z?0:v),middle:t+v/2,high:t+(z?v:0)}[u.align],y=(z?w+this.height:y)+(z?1:-1)*(q?-1:1)*this.axisTitleMargin+(this.side===2?m:0);return{x:z?v:y+(q?this.width:0)+p+(u.x||0),y:z?y-(q?this.height:0)+p:v+(u.y||0)}},render:function(){var Z=this,Y=Z.horiz,X=Z.reversed,W=Z.chart,V=W.renderer,U=Z.options,T=Z.isLog,S=Z.isLinked,R=Z.tickPositions,Q,P=Z.axisTitle,O=Z.ticks,K=Z.minorTicks,M=Z.alternateBands,H=U.stackLabels,N=U.alternateGridColor,C=Z.tickmarkOffset,p=U.lineWidth,D=W.hasRendered&&az(Z.oldMin)&&!isNaN(Z.oldMin),I=Z.hasData,F=Z.showAxis,G,E=U.labels.overflow,A=Z.justifyLabels=Y&&E!==!1,t;Z.labelEdge.length=0;Z.justifyToPlot=E==="justify";aB([O,K,M],function(q){for(var m in q){q[m].isActive=!1}});if(I||S){if(Z.minorTickInterval&&!Z.categories&&aB(Z.getMinorTickPositions(),function(m){K[m]||(K[m]=new c(Z,m,"minor"));D&&K[m].isNew&&K[m].render(null,!0);K[m].render(null,!1,1)}),R.length&&(Q=R.slice(),(Y&&X||!Y&&!X)&&Q.reverse(),A&&(Q=Q.slice(1).concat([Q[0]])),aB(Q,function(m,q){A&&(q=q===Q.length-1?0:q+1);if(!S||m>=Z.min&&m<=Z.max){O[m]||(O[m]=new c(Z,m)),D&&O[m].isNew&&O[m].render(q,!0,0.1),O[m].render(q,!1,1)}}),C&&Z.min===0&&(O[-1]||(O[-1]=new c(Z,-1,null,!0)),O[-1].render(-1))),N&&aB(R,function(m,q){if(q%2===0&&m<Z.max){M[m]||(M[m]=new a0.PlotLineOrBand(Z)),G=m+C,t=R[q+1]!==ay?R[q+1]+C:Z.max,M[m].options={from:T?aH(G):G,to:T?aH(t):t,color:N},M[m].render(),M[m].isActive=!0}}),!Z._addedPlotLB){aB((U.plotLines||[]).concat(U.plotBands||[]),function(m){Z.addPlotBandOrLine(m)}),Z._addedPlotLB=!0}}aB([O,K,M],function(q){var m,y,w=[],v=ao?ao.duration||500:0,u=function(){for(y=w.length;y--;){q[w[y]]&&!q[w[y]].isActive&&(q[w[y]].destroy(),delete q[w[y]])}};for(m in q){if(!q[m].isActive){q[m].render(m,!1,0),q[m].isActive=!1,w.push(m)}}q===M||!W.hasRendered||!v?u():v&&setTimeout(u,v)});if(p){Y=Z.getLinePath(p),Z.axisLine?Z.axisLine.animate({d:Y}):Z.axisLine=V.path(Y).attr({stroke:U.lineColor,"stroke-width":p,zIndex:7}).add(Z.axisGroup),Z.axisLine[F?"show":"hide"]()}if(P&&F){P[P.isNew?"attr":"animate"](Z.getTitlePosition()),P.isNew=!1}H&&H.enabled&&Z.renderStackTotals();Z.isDirty=!1},redraw:function(){var m=this.chart.pointer;m&&m.reset(!0);this.render();aB(this.plotLinesAndBands,function(p){p.render()});aB(this.series,function(p){p.isDirty=!0})},destroy:function(p){var m=this,u=m.stacks,t,q=m.plotLinesAndBands;p||aV(m);for(t in u){bu(u[t]),u[t]=null}aB([m.ticks,m.minorTicks,m.alternateBands],function(v){bu(v)});for(p=q.length;p--;){q[p].destroy()}aB("stackTotalGroup,axisLine,axisTitle,axisGroup,cross,gridGroup,labelGroup".split(","),function(v){m[v]&&(m[v]=m[v].destroy())});this.cross&&this.cross.destroy()},drawCrosshair:function(p,m){if(this.crosshair){if((az(m)||!aE(this.crosshair.snap,!0))===!1){this.hideCrosshair()}else{var u,t=this.crosshair,q=t.animation;aE(t.snap,!0)?az(m)&&(u=this.chart.inverted!=this.horiz?m.plotX:this.len-m.plotY):u=this.horiz?p.chartX-this.pos:this.len-p.chartY+this.pos;u=this.isRadial?this.getPlotLinePath(this.isXAxis?m.x:aE(m.stackY,m.y)):this.getPlotLinePath(null,null,null,null,u);if(u===null){this.hideCrosshair()}else{if(this.cross){this.cross.attr({visibility:"visible"})[q?"animate":"attr"]({d:u},q)}else{q={"stroke-width":t.width||1,stroke:t.color||"#C0C0C0",zIndex:t.zIndex||2};if(t.dashStyle){q.dashstyle=t.dashStyle}this.cross=this.chart.renderer.path(u).attr(q).add()}}}}},hideCrosshair:function(){this.cross&&this.cross.hide()}};aA(bX.prototype,{getPlotBandPath:function(p,m){var t=this.getPlotLinePath(m),q=this.getPlotLinePath(p);q&&t?q.push(t[4],t[5],t[1],t[2]):q=null;return q},addPlotBand:function(m){this.addPlotBandOrLine(m,"plotBands")},addPlotLine:function(m){this.addPlotBandOrLine(m,"plotLines")},addPlotBandOrLine:function(p,m){var t=(new a0.PlotLineOrBand(this,p)).render(),q=this.userOptions;t&&(m&&(q[m]=q[m]||[],q[m].push(p)),this.plotLinesAndBands.push(t));return t},removePlotBandOrLine:function(p){for(var m=this.plotLinesAndBands,u=this.options,t=this.userOptions,q=m.length;q--;){m[q].id===p&&m[q].destroy()}aB([u.plotLines||[],t.plotLines||[],u.plotBands||[],t.plotBands||[]],function(v){for(q=v.length;q--;){v[q].id===p&&ag(v,v[q])}})}});bX.prototype.getTimeTicks=function(F,E,D,C){var A=[],z={},y=bk.global.useUTC,w,v=new Date(E-J),u=F.unitRange,t=F.count;if(az(E)){u>=bq.second&&(v.setMilliseconds(0),v.setSeconds(u>=bq.minute?0:t*aY(v.getSeconds()/t)));if(u>=bq.minute){v[aG](u>=bq.hour?0:t*aY(v[ai]()/t))}if(u>=bq.hour){v[af](u>=bq.day?0:t*aY(v[l]()/t))}if(u>=bq.day){v[bJ](u>=bq.month?1:t*aY(v[L]()/t))}u>=bq.month&&(v[h](u>=bq.year?0:t*aY(v[bR]()/t)),w=v[bB]());u>=bq.year&&(w-=w%t,v[bW](w));if(u===bq.week){v[bJ](v[L]()-v[bZ]()+aE(C,1))}E=1;J&&(v=new Date(v.getTime()+J));w=v[bB]();for(var C=v.getTime(),q=v[bR](),m=v[L](),p=y?J:(86400000+v.getTimezoneOffset()*60000)%86400000;C<D;){A.push(C),u===bq.year?C=e(w+E*t,0):u===bq.month?C=e(w,q+E*t):!y&&(u===bq.day||u===bq.week)?C=e(w,q,m+E*t*(u===bq.day?1:7)):C+=u*t,E++}A.push(C);aB(am(A,function(G){return u<=bq.hour&&G%bq.day===p}),function(G){z[G]="day"})}A.info=aA(F,{higherRanks:z,totalRange:u*t});return A};bX.prototype.normalizeTimeTickInterval=function(p,m){var w=m||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],v=w[w.length-1],u=bq[v[0]],t=v[1],q;for(q=0;q<w.length;q++){if(v=w[q],u=bq[v[0]],t=v[1],w[q+1]&&p<=(u*t[t.length-1]+bq[w[q+1][0]])/2){break}}u===bq.year&&p<5*u&&(t=[1,2,5]);w=bj(p/u,t,v[0]==="year"?aw(bF(p/u),1):1);return{unitRange:u,count:w,unitName:v[0]}};bX.prototype.getLogTickPositions=function(D,C,A,z){var y=this.options,w=this.len,v=[];if(!z){this._minorAutoInterval=null}if(D>=0.5){D=ax(D),v=this.getLinearTickPositions(D,C,A)}else{if(D>=0.08){for(var w=aY(C),u,t,q,p,m,y=D>0.3?[1,2,4]:D>0.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];w<A+1&&!m;w++){t=y.length;for(u=0;u<t&&!m;u++){q=bx(aH(w)*y[u]),q>C&&(!z||p<=A)&&v.push(p),p>A&&(m=!0),p=q}}}else{if(C=aH(C),A=aH(A),D=y[z?"minorTickInterval":"tickInterval"],D=aE(D==="auto"?null:D,this._minorAutoInterval,(A-C)*(y.tickPixelInterval/(z?5:1))/((z?w/this.tickPositions.length:w)||1)),D=bj(D,null,bF(D)),v=by(this.getLinearTickPositions(D,C,A),bx),!z){this._minorAutoInterval=D/5}}}if(!z){this.tickInterval=D}return v};var b0=a0.Tooltip=function(){this.init.apply(this,arguments)};b0.prototype={init:function(p,m){var u=m.borderWidth,t=m.style,q=aq(t.padding);this.chart=p;this.options=m;this.crosshairs=[];this.now={x:0,y:0};this.isHidden=!0;this.label=p.renderer.label("",0,0,m.shape||"callout",null,null,m.useHTML,null,"tooltip").attr({padding:q,fill:m.backgroundColor,"stroke-width":u,r:m.borderRadius,zIndex:8}).css(t).css({padding:0}).add().attr({y:-9999});bT||this.label.shadow(m.shadow);this.shared=m.shared},destroy:function(){if(this.label){this.label=this.label.destroy()}clearTimeout(this.hideTimer);clearTimeout(this.tooltipTimeout)},move:function(p,m,y,w){var v=this,u=v.now,t=v.options.animation!==!1&&!v.isHidden,q=v.followPointer||v.len>1;aA(u,{x:t?(2*u.x+p)/3:p,y:t?(u.y+m)/2:m,anchorX:q?ay:t?(2*u.anchorX+y)/3:y,anchorY:q?ay:t?(u.anchorY+w)/2:w});v.label.attr(u);if(t&&(a7(p-u.x)>1||a7(m-u.y)>1)){clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){v&&v.move(p,m,y,w)},32)}},hide:function(){var p=this,m;clearTimeout(this.hideTimer);if(!this.isHidden){m=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){p.label.fadeOut();p.isHidden=!0},aE(this.options.hideDelay,500)),m&&aB(m,function(q){q.setState()}),this.chart.hoverPoints=null}},getAnchor:function(z,y){var w,v=this.chart,u=v.inverted,t=v.plotTop,q=0,p=0,m,z=o(z);w=z[0].tooltipPos;this.followPointer&&y&&(y.chartX===ay&&(y=v.pointer.normalize(y)),w=[y.chartX-v.plotLeft,y.chartY-t]);w||(aB(z,function(A){m=A.series.yAxis;q+=A.plotX;p+=(A.plotLow?(A.plotLow+A.plotHigh)/2:A.plotY)+(!u&&m?m.top-t:0)}),q/=z.length,p/=z.length,w=[u?v.plotWidth-p:q,this.shared&&!u&&z.length>1&&y?y.chartY-t:u?v.plotHeight-q:p]);return by(w,ax)},getPosition:function(F,E,D){var C=this.chart,A=this.distance,z={},y,w=["y",C.chartHeight,E,D.plotY+C.plotTop],v=["x",C.chartWidth,F,D.plotX+C.plotLeft],u=D.ttBelow||C.inverted&&!D.negative||!C.inverted&&D.negative,t=function(H,G,M,K){var I=M<K-A,G=K+A+M<G,M=K-A-M;K+=A;if(u&&G){z[H]=K}else{if(!u&&I){z[H]=M}else{if(I){z[H]=M}else{if(G){z[H]=K}else{return !1}}}}},q=function(H,G,K,I){if(I<A||I>G-A){return !1}else{z[H]=I<K/2?1:I>G-K/2?G-K-2:I-K/2}},m=function(H){var G=w;w=v;v=G;y=H},p=function(){t.apply(0,w)!==!1?q.apply(0,v)===!1&&!y&&(m(!0),p()):y?z.x=z.y=0:(m(!0),p())};(C.inverted||this.len>1)&&m();p();return z},defaultFormatter:function(p){var m=this.points||o(this),t=m[0].series,q;q=[p.tooltipHeaderFormatter(m[0])];aB(m,function(u){t=u.series;q.push(t.tooltipFormatter&&t.tooltipFormatter(u)||u.point.tooltipFormatter(t.tooltipOptions.pointFormat))});q.push(p.options.footerFormat||"");return q.join("")},refresh:function(D,C){var A=this.chart,z=this.label,y=this.options,w,v,u={},t,q=[];t=y.formatter||this.defaultFormatter;var u=A.hoverPoints,p,m=this.shared;clearTimeout(this.hideTimer);this.followPointer=o(D)[0].series.tooltipOptions.followPointer;v=this.getAnchor(D,C);w=v[0];v=v[1];m&&(!D.series||!D.series.noSharedTooltip)?(A.hoverPoints=D,u&&aB(u,function(E){E.setState()}),aB(D,function(E){E.setState("hover");q.push(E.getLabelConfig())}),u={x:D[0].category,y:D[0].y},u.points=q,this.len=q.length,D=D[0]):u=D.getLabelConfig();t=t.call(u,this);u=D.series;this.distance=aE(u.tooltipOptions.distance,16);t===!1?this.hide():(this.isHidden&&(a2(z),z.attr("opacity",1).show()),z.attr({text:t}),p=y.borderColor||D.color||u.color||"#606060",z.attr({stroke:p}),this.updatePosition({plotX:w,plotY:v,negative:D.negative,ttBelow:D.ttBelow}),this.isHidden=!1);bm(A,"tooltipRefresh",{text:t,x:w+A.plotLeft,y:v+A.plotTop,borderColor:p})},updatePosition:function(p){var m=this.chart,q=this.label,q=(this.options.positioner||this.getPosition).call(this,q.width,q.height,p);this.move(ax(q.x),ax(q.y),p.plotX+m.plotLeft,p.plotY+m.plotTop)},tooltipHeaderFormatter:function(p){var m=p.series,y=m.tooltipOptions,w=y.dateTimeLabelFormats,v=y.xDateFormat,u=m.xAxis,t=u&&u.options.type==="datetime"&&bd(p.key),y=y.headerFormat,u=u&&u.closestPointRange,q;if(t&&!v){if(u){for(q in bq){if(bq[q]>=u||bq[q]<=bq.day&&p.key%bq[q]>0){v=w[q];break}}}else{v=w.day}v=v||w.year}t&&v&&(y=y.replace("{point.key}","{point.key:"+v+"}"));return bn(y,{point:p,series:m})}};var aK;bp=at.documentElement.ontouchstart!==ay;var au=a0.Pointer=function(p,m){this.init(p,m)};au.prototype={init:function(p,m){var v=m.chart,u=v.events,t=bT?"":v.zoomType,v=p.inverted,q;this.options=m;this.chart=p;this.zoomX=q=/x/.test(t);this.zoomY=t=/y/.test(t);this.zoomHor=q&&!v||t&&v;this.zoomVert=t&&!v||q&&v;this.hasZoom=q||t;this.runChartClick=u&&!!u.click;this.pinchDown=[];this.lastValidTouch={};if(a0.Tooltip&&m.tooltip.enabled){p.tooltip=new b0(p,m.tooltip),this.followTouchMove=m.tooltip.followTouchMove}this.setDOMEvents()},normalize:function(p,m){var t,q,p=p||window.event,p=a(p);if(!p.target){p.target=p.srcElement}q=p.touches?p.touches.length?p.touches.item(0):p.changedTouches[0]:p;if(!m){this.chartPosition=m=x(this.chart.container)}q.pageX===ay?(t=aw(p.x,p.clientX-m.left),q=p.y):(t=q.pageX-m.left,q=q.pageY-m.top);return aA(p,{chartX:ax(t),chartY:ax(q)})},getCoordinates:function(p){var m={xAxis:[],yAxis:[]};aB(this.chart.axes,function(q){m[q.isXAxis?"xAxis":"yAxis"].push({axis:q,value:q.toValue(p[q.horiz?"chartX":"chartY"])})});return m},getIndex:function(p){var m=this.chart;return m.inverted?m.plotHeight+m.plotTop-p.chartY:p.chartX-m.plotLeft},runPointActions:function(D){var C=this.chart,A=C.series,z=C.tooltip,y,w,v=C.hoverPoint,u=C.hoverSeries,t,q,p=C.chartWidth,m=this.getIndex(D);if(z&&this.options.tooltip.shared&&(!u||!u.noSharedTooltip)){w=[];t=A.length;for(q=0;q<t;q++){if(A[q].visible&&A[q].options.enableMouseTracking!==!1&&!A[q].noSharedTooltip&&A[q].singularTooltips!==!0&&A[q].tooltipPoints.length&&(y=A[q].tooltipPoints[m])&&y.series){y._dist=a7(m-y.clientX),p=bo(p,y._dist),w.push(y)}}for(t=w.length;t--;){w[t]._dist>p&&w.splice(t,1)}if(w.length&&w[0].clientX!==this.hoverX){z.refresh(w,D),this.hoverX=w[0].clientX}}A=u&&u.tooltipOptions.followPointer;if(u&&u.tracker&&!A){if((y=u.tooltipPoints[m])&&y!==v){y.onMouseOver(D)}}else{z&&A&&!z.isHidden&&(u=z.getAnchor([{}],D),z.updatePosition({plotX:u[0],plotY:u[1]}))}if(z&&!this._onDocumentMouseMove){this._onDocumentMouseMove=function(E){if(aW[aK]){aW[aK].pointer.onDocumentMouseMove(E)}},a8(at,"mousemove",this._onDocumentMouseMove)}aB(C.axes,function(E){E.drawCrosshair(D,aE(y,v))})},reset:function(p){var m=this.chart,v=m.hoverSeries,u=m.hoverPoint,t=m.tooltip,q=t&&t.shared?m.hoverPoints:u;(p=p&&t&&q)&&o(q)[0].plotX===ay&&(p=!1);if(p){t.refresh(q),u&&u.setState(u.state,!0)}else{if(u){u.onMouseOut()}if(v){v.onMouseOut()}t&&t.hide();if(this._onDocumentMouseMove){aV(at,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null}aB(m.axes,function(w){w.hideCrosshair()});this.hoverX=null}},scaleGroups:function(p,m){var t=this.chart,q;aB(t.series,function(u){q=p||u.getPlotBox();u.xAxis&&u.xAxis.zoomEnabled&&(u.group.attr(q),u.markerGroup&&(u.markerGroup.attr(q),u.markerGroup.clip(m?t.clipRect:null)),u.dataLabelsGroup&&u.dataLabelsGroup.attr(q))});t.clipRect.attr(m||t.clipBox)},dragStart:function(p){var m=this.chart;m.mouseIsDown=p.type;m.cancelClick=!1;m.mouseDownX=this.mouseDownX=p.chartX;m.mouseDownY=this.mouseDownY=p.chartY},drag:function(F){var E=this.chart,D=E.options.chart,C=F.chartX,A=F.chartY,z=this.zoomHor,y=this.zoomVert,w=E.plotLeft,v=E.plotTop,u=E.plotWidth,t=E.plotHeight,q,m=this.mouseDownX,p=this.mouseDownY;C<w?C=w:C>w+u&&(C=w+u);A<v?A=v:A>v+t&&(A=v+t);this.hasDragged=Math.sqrt(Math.pow(m-C,2)+Math.pow(p-A,2));if(this.hasDragged>10){q=E.isInsidePlot(m-w,p-v);if(E.hasCartesianSeries&&(this.zoomX||this.zoomY)&&q&&!this.selectionMarker){this.selectionMarker=E.renderer.rect(w,v,z?1:u,y?1:t,0).attr({fill:D.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()}this.selectionMarker&&z&&(C-=m,this.selectionMarker.attr({width:a7(C),x:(C>0?0:C)+m}));this.selectionMarker&&y&&(C=A-p,this.selectionMarker.attr({height:a7(C),y:(C>0?0:C)+p}));q&&!this.selectionMarker&&D.panning&&E.pan(F,D.panning)}},drop:function(z){var y=this.chart,w=this.hasPinched;if(this.selectionMarker){var v={xAxis:[],yAxis:[],originalEvent:z.originalEvent||z},z=this.selectionMarker,u=z.attr?z.attr("x"):z.x,t=z.attr?z.attr("y"):z.y,q=z.attr?z.attr("width"):z.width,p=z.attr?z.attr("height"):z.height,m;if(this.hasDragged||w){aB(y.axes,function(C){if(C.zoomEnabled){var A=C.horiz,D=C.toValue(A?u:t),A=C.toValue(A?u+q:t+p);!isNaN(D)&&!isNaN(A)&&(v[C.coll].push({axis:C,min:bo(D,A),max:aw(D,A)}),m=!0)}}),m&&bm(y,"selection",v,function(A){y.zoom(aA(A,w?{animation:!1}:null))})}this.selectionMarker=this.selectionMarker.destroy();w&&this.scaleGroups()}if(y){bh(y.container,{cursor:y._cursor}),y.cancelClick=this.hasDragged>10,y.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[]}},onContainerMouseDown:function(m){m=this.normalize(m);m.preventDefault&&m.preventDefault();this.dragStart(m)},onDocumentMouseUp:function(m){aW[aK]&&aW[aK].pointer.drop(m)},onDocumentMouseMove:function(p){var m=this.chart,t=this.chartPosition,q=m.hoverSeries,p=this.normalize(p,t);t&&q&&!this.inClass(p.target,"highcharts-tracker")&&!m.isInsidePlot(p.chartX-m.plotLeft,p.chartY-m.plotTop)&&this.reset()},onContainerMouseLeave:function(){var m=aW[aK];if(m){m.pointer.reset(),m.pointer.chartPosition=null}},onContainerMouseMove:function(p){var m=this.chart;aK=m.index;p=this.normalize(p);m.mouseIsDown==="mousedown"&&this.drag(p);(this.inClass(p.target,"highcharts-tracker")||m.isInsidePlot(p.chartX-m.plotLeft,p.chartY-m.plotTop))&&!m.openMenu&&this.runPointActions(p)},inClass:function(p,m){for(var q;p;){if(q=bg(p,"class")){if(q.indexOf(m)!==-1){return !0}else{if(q.indexOf("highcharts-container")!==-1){return !1}}}p=p.parentNode}},onTrackerMouseOut:function(p){var m=this.chart.hoverSeries,q=(p=p.relatedTarget||p.toElement)&&p.point&&p.point.series;if(m&&!m.options.stickyTracking&&!this.inClass(p,"highcharts-tooltip")&&q!==m){m.onMouseOut()}},onContainerClick:function(p){var m=this.chart,u=m.hoverPoint,t=m.plotLeft,q=m.plotTop,p=this.normalize(p);p.cancelBubble=!0;m.cancelClick||(u&&this.inClass(p.target,"highcharts-tracker")?(bm(u.series,"click",aA(p,{point:u})),m.hoverPoint&&u.firePointEvent("click",p)):(aA(p,this.getCoordinates(p)),m.isInsidePlot(p.chartX-t,p.chartY-q)&&bm(m,"click",p)))},setDOMEvents:function(){var p=this,m=p.chart.container;m.onmousedown=function(q){p.onContainerMouseDown(q)};m.onmousemove=function(q){p.onContainerMouseMove(q)};m.onclick=function(q){p.onContainerClick(q)};a8(m,"mouseleave",p.onContainerMouseLeave);bz===1&&a8(at,"mouseup",p.onDocumentMouseUp);if(bp){m.ontouchstart=function(q){p.onContainerTouchStart(q)},m.ontouchmove=function(q){p.onContainerTouchMove(q)},bz===1&&a8(at,"touchend",p.onDocumentTouchEnd)}},destroy:function(){var m;aV(this.chart.container,"mouseleave",this.onContainerMouseLeave);bz||(aV(at,"mouseup",this.onDocumentMouseUp),aV(at,"touchend",this.onDocumentTouchEnd));clearInterval(this.tooltipTimeout);for(m in this){this[m]=null}}};aA(a0.Pointer.prototype,{pinchTranslate:function(p,m,v,u,t,q){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,p,m,v,u,t,q);(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,p,m,v,u,t,q)},pinchTranslateDirection:function(aa,Z,Y,X,W,V,U,T){var S=this.chart,R=aa?"x":"y",Q=aa?"X":"Y",P="chart"+Q,M=aa?"width":"height",N=S["plot"+(aa?"Left":"Top")],G,O,K=T||1,I=S.inverted,A=S.bounds[aa?"h":"v"],H=Z.length===1,D=Z[0][P],E=Y[0][P],F=!H&&Z[1][P],C=!H&&Y[1][P],z,Y=function(){!H&&a7(D-F)>20&&(K=T||a7(E-C)/a7(D-F));O=(N-E)/K+D;G=S["plot"+(aa?"Width":"Height")]/K};Y();Z=O;Z<A.min?(Z=A.min,z=!0):Z+G>A.max&&(Z=A.max-G,z=!0);z?(E-=0.8*(E-U[R][0]),H||(C-=0.8*(C-U[R][1])),Y()):U[R]=[E,C];I||(V[R]=O-N,V[M]=G);V=I?1/K:K;W[M]=G;W[R]=Z;X[I?aa?"scaleY":"scaleX":"scale"+Q]=K;X["translate"+Q]=V*N+(E-V*D)},pinch:function(E){var D=this,C=D.chart,A=D.pinchDown,z=D.followTouchMove,y=E.touches,w=y.length,v=D.lastValidTouch,u=D.hasZoom,t=D.selectionMarker,q={},p=w===1&&(D.inClass(E.target,"highcharts-tracker")&&C.runTrackerClick||C.runChartClick),m={};(u||z)&&!p&&E.preventDefault();by(y,function(F){return D.normalize(F)});if(E.type==="touchstart"){aB(y,function(G,F){A[F]={chartX:G.chartX,chartY:G.chartY}}),v.x=[A[0].chartX,A[1]&&A[1].chartX],v.y=[A[0].chartY,A[1]&&A[1].chartY],aB(C.axes,function(G){if(G.zoomEnabled){var F=C.bounds[G.horiz?"h":"v"],M=G.minPixelPadding,K=G.toPixels(G.dataMin),I=G.toPixels(G.dataMax),H=bo(K,I),K=aw(K,I);F.min=bo(G.pos,H-M);F.max=aw(G.pos+G.len,K+M)}})}else{if(A.length){if(!t){D.selectionMarker=t=aA({destroy:bK},C.plotBox)}D.pinchTranslate(A,y,q,t,m,v);D.hasPinched=u;D.scaleGroups(q,m);!u&&z&&w===1&&this.runPointActions(D.normalize(E))}}},onContainerTouchStart:function(p){var m=this.chart;aK=m.index;p.touches.length===1?(p=this.normalize(p),m.isInsidePlot(p.chartX-m.plotLeft,p.chartY-m.plotTop)?(this.runPointActions(p),this.pinch(p)):this.reset()):p.touches.length===2&&this.pinch(p)},onContainerTouchMove:function(m){(m.touches.length===1||m.touches.length===2)&&this.pinch(m)},onDocumentTouchEnd:function(m){aW[aK]&&aW[aK].pointer.drop(m)}});if(be.PointerEvent||be.MSPointerEvent){var aO={},bv=!!be.PointerEvent,ar=function(){var p,m=[];m.item=function(q){return this[q]};for(p in aO){aO.hasOwnProperty(p)&&m.push({pageX:aO[p].pageX,pageY:aO[p].pageY,target:aO[p].target})}return m},bS=function(p,m,t,q){p=p.originalEvent||p;if((p.pointerType==="touch"||p.pointerType===p.MSPOINTER_TYPE_TOUCH)&&aW[aK]){q(p),q=aW[aK].pointer,q[m]({type:t,target:p.currentTarget,preventDefault:bK,touches:ar()})}};aA(au.prototype,{onContainerPointerDown:function(m){bS(m,"onContainerTouchStart","touchstart",function(p){aO[p.pointerId]={pageX:p.pageX,pageY:p.pageY,target:p.currentTarget}})},onContainerPointerMove:function(m){bS(m,"onContainerTouchMove","touchmove",function(p){aO[p.pointerId]={pageX:p.pageX,pageY:p.pageY};if(!aO[p.pointerId].target){aO[p.pointerId].target=p.currentTarget}})},onDocumentPointerUp:function(m){bS(m,"onContainerTouchEnd","touchend",function(p){delete aO[p.pointerId]})},batchMSEvents:function(m){m(this.chart.container,bv?"pointerdown":"MSPointerDown",this.onContainerPointerDown);m(this.chart.container,bv?"pointermove":"MSPointerMove",this.onContainerPointerMove);m(at,bv?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}});b2(au.prototype,"init",function(p,m,q){p.call(this,m,q);(this.hasZoom||this.followTouchMove)&&bh(m.container,{"-ms-touch-action":a1,"touch-action":a1})});b2(au.prototype,"setDOMEvents",function(m){m.apply(this);(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(a8)});b2(au.prototype,"destroy",function(m){this.batchMSEvents(aV);m.call(this)})}var bV=a0.Legend=function(p,m){this.init(p,m)};bV.prototype={init:function(p,m){var v=this,u=m.itemStyle,t=aE(m.padding,8),q=m.itemMarginTop||0;this.options=m;if(m.enabled){v.baseline=aq(u.fontSize)+3+q,v.itemStyle=u,v.itemHiddenStyle=av(u,m.itemHiddenStyle),v.itemMarginTop=q,v.padding=t,v.initialItemX=t,v.initialItemY=t-5,v.maxItemWidth=0,v.chart=p,v.itemHeight=0,v.lastLineHeight=0,v.symbolWidth=aE(m.symbolWidth,16),v.pages=[],v.render(),a8(v.chart,"endResize",function(){v.positionCheckboxes()})}},colorizeItem:function(A,z){var y=this.options,w=A.legendItem,v=A.legendLine,u=A.legendSymbol,t=this.itemHiddenStyle.color,y=z?y.itemStyle.color:t,q=z?A.legendColor||A.color||"#CCC":t,t=A.options&&A.options.marker,p={fill:q},m;w&&w.css({fill:y,color:y});v&&v.attr({stroke:q});if(u){if(t&&u.isMarker){for(m in p.stroke=q,t=A.convertAttribs(t),t){w=t[m],w!==ay&&(p[m]=w)}}u.attr(p)}},positionItem:function(p){var m=this.options,v=m.symbolPadding,m=!m.rtl,u=p._legendItemPos,t=u[0],u=u[1],q=p.checkbox;p.legendGroup&&p.legendGroup.translate(m?t:this.legendWidth-t-2*v-4,u);if(q){q.x=t,q.y=u}},destroyItem:function(p){var m=p.checkbox;aB(["legendItem","legendLine","legendSymbol","legendGroup"],function(q){p[q]&&(p[q]=p[q].destroy())});m&&aQ(p.checkbox)},destroy:function(){var p=this.group,m=this.box;if(m){this.box=m.destroy()}if(p){this.group=p.destroy()}},positionCheckboxes:function(p){var m=this.group.alignAttr,t,q=this.clipHeight||this.legendHeight;if(m){t=m.translateY,aB(this.allItems,function(w){var v=w.checkbox,u;v&&(u=t+v.y+(p||0)+3,bh(v,{left:m.translateX+w.checkboxOffset+v.x-20+"px",top:u+"px",display:u>t-6&&u<t+q-6?"":a1}))})}},renderTitle:function(){var p=this.padding,m=this.options.title,q=0;if(m.text){if(!this.title){this.title=this.chart.renderer.label(m.text,p-3,p-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(m.style).add(this.group)}p=this.title.getBBox();q=p.height;this.offsetWidth=p.width;this.contentGroup.attr({translateY:q})}this.titleHeight=q},renderItem:function(Q){var P=this.chart,O=P.renderer,N=this.options,M=N.layout==="horizontal",K=this.symbolWidth,I=N.symbolPadding,H=this.itemStyle,G=this.itemHiddenStyle,F=this.padding,E=M?aE(N.itemDistance,20):0,D=!N.rtl,A=N.width,C=N.itemMarginBottom||0,v=this.itemMarginTop,z=this.initialItemX,y=Q.legendItem,w=Q.series&&Q.series.drawLegendSymbol?Q.series:Q,m=w.options,m=this.createCheckboxForItem&&m&&m.showCheckbox,u=N.useHTML;if(!y){Q.legendGroup=O.g("legend-item").attr({zIndex:1}).add(this.scrollGroup),w.drawLegendSymbol(this,Q),Q.legendItem=y=O.text(N.labelFormat?bn(N.labelFormat,Q):N.labelFormatter.call(Q),D?K+I:-I,this.baseline,u).css(av(Q.visible?H:G)).attr({align:D?"left":"right",zIndex:2}).add(Q.legendGroup),this.setItemEvents&&this.setItemEvents(Q,y,u,H,G),this.colorizeItem(Q,Q.visible),m&&this.createCheckboxForItem(Q)}O=y.getBBox();K=Q.checkboxOffset=N.itemWidth||Q.legendItemWidth||K+I+O.width+E+(m?20:0);this.itemHeight=I=ax(Q.legendItemHeight||O.height);if(M&&this.itemX-z+K>(A||P.chartWidth-2*F-z-N.x)){this.itemX=z,this.itemY+=v+this.lastLineHeight+C,this.lastLineHeight=0}this.maxItemWidth=aw(this.maxItemWidth,K);this.lastItemY=v+this.itemY+C;this.lastLineHeight=aw(I,this.lastLineHeight);Q._legendItemPos=[this.itemX,this.itemY];M?this.itemX+=K:(this.itemY+=v+I+C,this.lastLineHeight=I);this.offsetWidth=A||aw((M?this.itemX-z-E:K)+F,this.offsetWidth)},getAllItems:function(){var m=[];aB(this.chart.series,function(p){var q=p.options;if(aE(q.showInLegend,!az(q.linkedTo)?ay:!1,!0)){m=m.concat(p.legendItems||(q.legendType==="point"?p.data:p))}});return m},render:function(){var E=this,D=E.chart,C=D.renderer,A=E.group,z,y,w,v,u=E.box,t=E.options,q=E.padding,p=t.borderWidth,m=t.backgroundColor;E.itemX=E.initialItemX;E.itemY=E.initialItemY;E.offsetWidth=0;E.lastItemY=0;if(!A){E.group=A=C.g("legend").attr({zIndex:7}).add(),E.contentGroup=C.g().attr({zIndex:1}).add(A),E.scrollGroup=C.g().add(E.contentGroup)}E.renderTitle();z=E.getAllItems();aJ(z,function(G,F){return(G.options&&G.options.legendIndex||0)-(F.options&&F.options.legendIndex||0)});t.reversed&&z.reverse();E.allItems=z;E.display=y=!!z.length;aB(z,function(F){E.renderItem(F)});w=t.width||E.offsetWidth;v=E.lastItemY+E.lastLineHeight+E.titleHeight;v=E.handleOverflow(v);if(p||m){w+=q;v+=q;if(u){if(w>0&&v>0){u[u.isNew?"attr":"animate"](u.crisp({width:w,height:v})),u.isNew=!1}}else{E.box=u=C.rect(0,0,w,v,t.borderRadius,p||0).attr({stroke:t.borderColor,"stroke-width":p||0,fill:m||a1}).add(A).shadow(t.shadow),u.isNew=!0}u[y?"show":"hide"]()}E.legendWidth=w;E.legendHeight=v;aB(z,function(F){E.positionItem(F)});y&&A.align(aA({width:w,height:v},t),!0,"spacingBox");D.isResizing||this.positionCheckboxes()},handleOverflow:function(H){var G=this,F=this.chart,E=F.renderer,D=this.options,C=D.y,C=F.spacingBox.height+(D.verticalAlign==="top"?-C:C)-this.padding,A=D.maxHeight,z,y=this.clipRect,w=D.navigation,v=aE(w.animation,!0),u=w.arrowSize||12,p=this.nav,t=this.pages,I,m=this.allItems;D.layout==="horizontal"&&(C/=2);A&&(C=bo(C,A));t.length=0;if(H>C&&!D.useHTML){this.clipHeight=z=C-20-this.titleHeight-this.padding;this.currentPage=aE(this.currentPage,1);this.fullHeight=H;aB(m,function(K,q){var O=K._legendItemPos[1],N=ax(K.legendItem.getBBox().height),M=t.length;if(!M||O-t[M-1]>z&&(I||O)!==t[M-1]){t.push(I||O),M++}q===m.length-1&&O+N-t[M-1]>z&&t.push(O);O!==I&&(I=O)});if(!y){y=G.clipRect=E.clipRect(0,this.padding,9999,0),G.contentGroup.clip(y)}y.attr({height:z});if(!p){this.nav=p=E.g().attr({zIndex:1}).add(this.group),this.up=E.symbol("triangle",0,0,u,u).on("click",function(){G.scroll(-1,v)}).add(p),this.pager=E.text("",15,10).css(w.style).add(p),this.down=E.symbol("triangle-down",0,0,u,u).on("click",function(){G.scroll(1,v)}).add(p)}G.scroll(0);H=C}else{if(p){y.attr({height:F.chartHeight}),p.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0}}return H},scroll:function(A,z){var y=this.pages,w=y.length,v=this.currentPage+A,u=this.clipHeight,t=this.options.navigation,q=t.activeColor,t=t.inactiveColor,p=this.pager,m=this.padding;v>w&&(v=w);if(v>0){z!==ay&&ap(z,this.chart),this.nav.attr({translateX:m,translateY:u+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:v===1?t:q}).css({cursor:v===1?"default":"pointer"}),p.attr({text:v+"/"+w}),this.down.attr({x:18+this.pager.getBBox().width,fill:v===w?t:q}).css({cursor:v===w?"default":"pointer"}),y=-y[v-1]+this.initialItemY,this.scrollGroup.animate({translateY:y}),this.currentPage=v,this.positionCheckboxes(y)}}};a6=a0.LegendSymbolMixin={drawRectangle:function(p,m){var q=p.options.symbolHeight||12;m.legendSymbol=this.chart.renderer.rect(0,p.baseline-5-q/2,p.symbolWidth,q,p.options.symbolRadius||0).attr({zIndex:3}).add(m.legendGroup)},drawLineMarker:function(p){var m=this.options,w=m.marker,v;v=p.symbolWidth;var u=this.chart.renderer,t=this.legendGroup,p=p.baseline-ax(u.fontMetrics(p.options.itemStyle.fontSize).b*0.3),q;if(m.lineWidth){q={"stroke-width":m.lineWidth};if(m.dashStyle){q.dashstyle=m.dashStyle}this.legendLine=u.path(["M",0,p,"L",v,p]).attr(q).add(t)}if(w&&w.enabled!==!1){m=w.radius,this.legendSymbol=v=u.symbol(this.symbol,v/2-m,p-m,2*m,2*m).add(t),v.isMarker=!0}}};(/Trident\/7\.0/.test(B)||bP)&&b2(bV.prototype,"positionItem",function(p,m){var t=this,q=function(){m._legendItemPos&&p.call(t,m)};q();setTimeout(q)});d.prototype={init:function(p,m){var w,v=p.series;p.series=null;w=av(bk,p);w.series=p.series=v;this.userOptions=p;v=w.chart;this.margin=this.splashArray("margin",v);this.spacing=this.splashArray("spacing",v);var u=v.events;this.bounds={h:{},v:{}};this.callback=m;this.isResizing=0;this.options=w;this.axes=[];this.series=[];this.hasCartesianSeries=v.showAxes;var t=this,q;t.index=aW.length;aW.push(t);bz++;v.reflow!==!1&&a8(t,"load",function(){t.initReflow()});if(u){for(q in u){a8(t,q,u[q])}}t.xAxis=[];t.yAxis=[];t.animation=bT?!1:aE(v.animation,!0);t.pointCount=0;t.counters=new bD;t.firstRender()},initSeries:function(p){var m=this.options.chart;(m=bi[p.type||m.type||m.defaultSeriesType])||b1(17,!0);m=new m;m.init(this,p);return m},isInsidePlot:function(p,m,t){var q=t?m:p,p=t?p:m;return q>=0&&q<=this.plotWidth&&p>=0&&p<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&aB(this.axes,function(m){m.adjustTickAmount()});this.maxTicks=null},redraw:function(F){var E=this.axes,D=this.series,C=this.pointer,A=this.legend,z=this.isDirtyLegend,y,w,v=this.isDirtyBox,u=D.length,t=u,q=this.renderer,m=q.isHidden(),p=[];ap(F,this);m&&this.cloneRenderTo();for(this.layOutTitles();t--;){if(F=D[t],F.options.stacking&&(y=!0,F.isDirty)){w=!0;break}}if(w){for(t=u;t--;){if(F=D[t],F.options.stacking){F.isDirty=!0}}}aB(D,function(G){G.isDirty&&G.options.legendType==="point"&&(z=!0)});if(z&&A.options.enabled){A.render(),this.isDirtyLegend=!1}y&&this.getStacks();if(this.hasCartesianSeries){if(!this.isResizing){this.maxTicks=null,aB(E,function(G){G.setScale()})}this.adjustTickAmounts();this.getMargins();aB(E,function(G){G.isDirty&&(v=!0)});aB(E,function(G){if(G.isDirtyExtremes){G.isDirtyExtremes=!1,p.push(function(){bm(G,"afterSetExtremes",aA(G.eventArgs,G.getExtremes()));delete G.eventArgs})}(v||y)&&G.redraw()})}v&&this.drawChartBox();aB(D,function(G){G.isDirty&&G.visible&&(!G.isCartesian||G.xAxis)&&G.redraw()});C&&C.reset(!0);q.draw();bm(this,"redraw");m&&this.cloneRenderTo(!0);aB(p,function(G){G.call()})},get:function(p){var m=this.axes,u=this.series,t,q;for(t=0;t<m.length;t++){if(m[t].options.id===p){return m[t]}}for(t=0;t<u.length;t++){if(u[t].options.id===p){return u[t]}}for(t=0;t<u.length;t++){q=u[t].points||[];for(m=0;m<q.length;m++){if(q[m].id===p){return q[m]}}}return null},getAxes:function(){var p=this,m=this.options,q=m.xAxis=o(m.xAxis||{}),m=m.yAxis=o(m.yAxis||{});aB(q,function(u,t){u.index=t;u.isX=!0});aB(m,function(u,t){u.index=t});q=q.concat(m);aB(q,function(t){new bX(p,t)});p.adjustTickAmounts()},getSelectedPoints:function(){var m=[];aB(this.series,function(p){m=m.concat(am(p.points||[],function(q){return q.selected}))});return m},getSelectedSeries:function(){return am(this.series,function(m){return m.selected})},getStacks:function(){var m=this;aB(m.yAxis,function(p){if(p.stacks&&p.hasVisibleSeries){p.oldStacks=p.stacks}});aB(m.series,function(p){if(p.options.stacking&&(p.visible===!0||m.options.chart.ignoreHiddenSeries===!1)){p.stackKey=p.type+aE(p.options.stack,"")}})},setTitle:function(p,m,w){var q;var v=this,u=v.options,t;t=u.title=av(u.title,p);q=u.subtitle=av(u.subtitle,m),u=q;aB([["title",p,t],["subtitle",m,u]],function(z){var y=z[0],C=v[y],A=z[1],z=z[2];C&&A&&(v[y]=C=C.destroy());z&&z.text&&!C&&(v[y]=v.renderer.text(z.text,0,0,z.useHTML).attr({align:z.align,"class":"highcharts-"+y,zIndex:z.zIndex||4}).css(z.style).add())});v.layOutTitles(w)},layOutTitles:function(p){var m=0,w=this.title,v=this.subtitle,u=this.options,t=u.title,u=u.subtitle,q=this.spacingBox.width-44;if(w&&(w.css({width:(t.width||q)+"px"}).align(aA({y:15},t),!1,"spacingBox"),!t.floating&&!t.verticalAlign)){m=w.getBBox().height}v&&(v.css({width:(u.width||q)+"px"}).align(aA({y:m+t.margin},u),!1,"spacingBox"),!u.floating&&!u.verticalAlign&&(m=al(m+v.getBBox().height)));w=this.titleOffset!==m;this.titleOffset=m;if(!this.isDirtyBox&&w){this.isDirtyBox=w,this.hasRendered&&aE(p,!0)&&this.isDirtyBox&&this.redraw()}},getChartSize:function(){var p=this.options.chart,m=p.width,p=p.height,q=this.renderToClone||this.renderTo;if(!az(m)){this.containerWidth=ae(q,"width")}if(!az(p)){this.containerHeight=ae(q,"height")}this.chartWidth=aw(0,m||this.containerWidth||600);this.chartHeight=aw(0,aE(p,this.containerHeight>19?this.containerHeight:400))},cloneRenderTo:function(p){var m=this.renderToClone,q=this.container;p?m&&(this.renderTo.appendChild(q),aQ(m),delete this.renderToClone):(q&&q.parentNode===this.renderTo&&this.renderTo.removeChild(q),this.renderToClone=m=this.renderTo.cloneNode(0),bh(m,{position:"absolute",top:"-9999px",display:"block"}),m.style.setProperty&&m.style.setProperty("display","block","important"),at.body.appendChild(m),q&&m.appendChild(q))},getContainer:function(){var p,m=this.options.chart,u,t,q;this.renderTo=p=m.renderTo;q="highcharts-"+br++;if(k(p)){this.renderTo=p=at.getElementById(p)}p||b1(13,!0);u=aq(bg(p,"data-highcharts-chart"));!isNaN(u)&&aW[u]&&aW[u].hasRendered&&aW[u].destroy();bg(p,"data-highcharts-chart",this.index);p.innerHTML="";!m.skipClone&&!p.offsetWidth&&this.cloneRenderTo();this.getChartSize();u=this.chartWidth;t=this.chartHeight;this.container=p=aT(aM,{className:"highcharts-container"+(m.className?" "+m.className:""),id:q},aA({position:"relative",overflow:"hidden",width:u+"px",height:t+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},m.style),this.renderToClone||p);this._cursor=p.style.cursor;this.renderer=m.forExport?new bs(p,u,t,m.style,!0):new bQ(p,u,t,m.style);bT&&this.renderer.create(this,p,u,t)},getMargins:function(){var C=this.spacing,A,z=this.legend,y=this.margin,w=this.options.legend,v=aE(w.margin,20),u=w.x,t=w.y,q=w.align,p=w.verticalAlign,m=this.titleOffset;this.resetMargins();A=this.axisOffset;if(m&&!az(y[0])){this.plotTop=aw(this.plotTop,m+this.options.title.margin+C[0])}if(z.display&&!w.floating){if(q==="right"){if(!az(y[1])){this.marginRight=aw(this.marginRight,z.legendWidth-u+v+C[1])}}else{if(q==="left"){if(!az(y[3])){this.plotLeft=aw(this.plotLeft,z.legendWidth+u+v+C[3])}}else{if(p==="top"){if(!az(y[0])){this.plotTop=aw(this.plotTop,z.legendHeight+t+v+C[0])}}else{if(p==="bottom"&&!az(y[2])){this.marginBottom=aw(this.marginBottom,z.legendHeight-t+v+C[2])}}}}}this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin);this.extraTopMargin&&(this.plotTop+=this.extraTopMargin);this.hasCartesianSeries&&aB(this.axes,function(D){D.getOffset()});az(y[3])||(this.plotLeft+=A[3]);az(y[0])||(this.plotTop+=A[0]);az(y[2])||(this.marginBottom+=A[2]);az(y[1])||(this.marginRight+=A[1]);this.setChartSize()},reflow:function(p){var m=this,v=m.options.chart,u=m.renderTo,t=v.width||ae(u,"width"),q=v.height||ae(u,"height"),v=p?p.target:be,u=function(){if(m.container){m.setSize(t,q,!1),m.hasUserSize=null}};if(!m.hasUserSize&&t&&q&&(v===be||v===at)){if(t!==m.containerWidth||q!==m.containerHeight){clearTimeout(m.reflowTimeout),p?m.reflowTimeout=setTimeout(u,100):u()}m.containerWidth=t;m.containerHeight=q}},initReflow:function(){var p=this,m=function(q){p.reflow(q)};a8(be,"resize",m);a8(p,"destroy",function(){aV(be,"resize",m)})},setSize:function(p,m,w){var v=this,u,t,q;v.isResizing+=1;q=function(){v&&bm(v,"endResize",null,function(){v.isResizing-=1})};ap(w,v);v.oldChartHeight=v.chartHeight;v.oldChartWidth=v.chartWidth;if(az(p)){v.chartWidth=u=aw(0,ax(p)),v.hasUserSize=!!u}if(az(m)){v.chartHeight=t=aw(0,ax(m))}(ao?g:bh)(v.container,{width:u+"px",height:t+"px"},ao);v.setChartSize(!0);v.renderer.setSize(u,t,w);v.maxTicks=null;aB(v.axes,function(y){y.isDirty=!0;y.setScale()});aB(v.series,function(y){y.isDirty=!0});v.isDirtyLegend=!0;v.isDirtyBox=!0;v.layOutTitles();v.getMargins();v.redraw(w);v.oldChartHeight=null;bm(v,"resize");ao===!1?q():setTimeout(q,ao&&ao.duration||500)},setChartSize:function(D){var C=this.inverted,A=this.renderer,z=this.chartWidth,y=this.chartHeight,w=this.options.chart,v=this.spacing,u=this.clipOffset,t,q,p,m;this.plotLeft=t=ax(this.plotLeft);this.plotTop=q=ax(this.plotTop);this.plotWidth=p=aw(0,ax(z-t-this.marginRight));this.plotHeight=m=aw(0,ax(y-q-this.marginBottom));this.plotSizeX=C?m:p;this.plotSizeY=C?p:m;this.plotBorderWidth=w.plotBorderWidth||0;this.spacingBox=A.spacingBox={x:v[3],y:v[0],width:z-v[3]-v[1],height:y-v[0]-v[2]};this.plotBox=A.plotBox={x:t,y:q,width:p,height:m};z=2*aY(this.plotBorderWidth/2);C=al(aw(z,u[3])/2);A=al(aw(z,u[0])/2);this.clipBox={x:C,y:A,width:aY(this.plotSizeX-aw(z,u[1])/2-C),height:aY(this.plotSizeY-aw(z,u[2])/2-A)};D||aB(this.axes,function(E){E.setAxisSize();E.setAxisTranslation()})},resetMargins:function(){var p=this.spacing,m=this.margin;this.plotTop=aE(m[0],p[0]);this.marginRight=aE(m[1],p[1]);this.marginBottom=aE(m[2],p[2]);this.plotLeft=aE(m[3],p[3]);this.axisOffset=[0,0,0,0];this.clipOffset=[0,0,0,0]},drawChartBox:function(){var T=this.options.chart,S=this.renderer,R=this.chartWidth,Q=this.chartHeight,P=this.chartBackground,O=this.plotBackground,N=this.plotBorder,M=this.plotBGImage,K=T.borderWidth||0,I=T.backgroundColor,H=T.plotBackgroundColor,G=T.plotBackgroundImage,D=T.plotBorderWidth||0,E,y=this.plotLeft,F=this.plotTop,C=this.plotWidth,A=this.plotHeight,z=this.plotBox,t=this.clipRect,w=this.clipBox;E=K+(T.shadow?8:0);if(K||I){if(P){P.animate(P.crisp({width:R-E,height:Q-E}))}else{P={fill:I||a1};if(K){P.stroke=T.borderColor,P["stroke-width"]=K}this.chartBackground=S.rect(E/2,E/2,R-E,Q-E,T.borderRadius,K).attr(P).addClass("highcharts-background").add().shadow(T.shadow)}}if(H){O?O.animate(z):this.plotBackground=S.rect(y,F,C,A,0).attr({fill:H}).add().shadow(T.plotShadow)}if(G){M?M.animate(z):this.plotBGImage=S.image(G,y,F,C,A).add()}t?t.animate({width:w.width,height:w.height}):this.clipRect=S.clipRect(w);if(D){N?N.animate(N.crisp({x:y,y:F,width:C,height:A})):this.plotBorder=S.rect(y,F,C,A,0,-D).attr({stroke:T.plotBorderColor,"stroke-width":D,fill:a1,zIndex:1}).add()}this.isDirtyBox=!1},propFromSeries:function(){var p=this,m=p.options.chart,v,u=p.options.series,t,q;aB(["inverted","angular","polar"],function(w){v=bi[m.type||m.defaultSeriesType];q=p[w]||m[w]||v&&v.prototype[w];for(t=u&&u.length;!q&&t--;){(v=bi[u[t].type])&&v.prototype[w]&&(q=!0)}p[w]=q})},linkSeries:function(){var p=this,m=p.series;aB(m,function(q){q.linkedSeries.length=0});aB(m,function(q){var t=q.options.linkedTo;if(k(t)&&(t=t===":previous"?p.series[q.index-1]:p.get(t))){t.linkedSeries.push(q),q.linkedParent=t}})},renderSeries:function(){aB(this.series,function(m){m.translate();m.setTooltipPoints&&m.setTooltipPoints();m.render()})},render:function(){var p=this,m=p.axes,w=p.renderer,v=p.options,u=v.labels,t=v.credits,q;p.setTitle();p.legend=new bV(p,v.legend);p.getStacks();aB(m,function(y){y.setScale()});p.getMargins();p.maxTicks=null;aB(m,function(y){y.setTickPositions(!0);y.setMaxTicks()});p.adjustTickAmounts();p.getMargins();p.drawChartBox();p.hasCartesianSeries&&aB(m,function(y){y.render()});if(!p.seriesGroup){p.seriesGroup=w.g("series-group").attr({zIndex:3}).add()}p.renderSeries();u.items&&aB(u.items,function(y){var C=aA(u.style,y.style),A=aq(C.left)+p.plotLeft,z=aq(C.top)+p.plotTop+12;delete C.left;delete C.top;w.text(y.html,A,z).attr({zIndex:2}).css(C).add()});if(t.enabled&&!p.credits){q=t.href,p.credits=w.text(t.text,0,0).on("click",function(){if(q){location.href=q}}).attr({align:t.position.align,zIndex:8}).css(t.style).add().align(t.position)}p.hasRendered=!0},destroy:function(){var p=this,m=p.axes,v=p.series,u=p.container,t,q=u&&u.parentNode;bm(p,"destroy");aW[p.index]=ay;bz--;p.renderTo.removeAttribute("data-highcharts-chart");aV(p);for(t=m.length;t--;){m[t]=m[t].destroy()}for(t=v.length;t--;){v[t]=v[t].destroy()}aB("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,pointer,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(w){var y=p[w];y&&y.destroy&&(p[w]=y.destroy())});if(u){u.innerHTML="",aV(u),q&&aQ(u)}for(t in p){delete p[t]}},isReadyToRender:function(){var m=this;return !bA&&be==be.top&&at.readyState!=="complete"||bT&&!be.canvg?(bT?n.push(function(){m.firstRender()},m.options.global.canvasToolsURL):at.attachEvent("onreadystatechange",function(){at.detachEvent("onreadystatechange",m.firstRender);at.readyState==="complete"&&m.firstRender()}),!1):!0},firstRender:function(){var p=this,m=p.options,q=p.callback;if(p.isReadyToRender()){p.getContainer();bm(p,"init");p.resetMargins();p.setChartSize();p.propFromSeries();p.getAxes();aB(m.series||[],function(t){p.initSeries(t)});p.linkSeries();bm(p,"beforeRender");if(a0.Pointer){p.pointer=new au(p,m)}p.render();p.renderer.draw();q&&q.apply(p,[p]);aB(p.callbacks,function(t){t.apply(p,[p])});p.cloneRenderTo(!0);bm(p,"load")}},splashArray:function(p,m){var q=m[p],q=aD(q)?q:[q,q,q,q];return[aE(m[p+"Top"],q[0]),aE(m[p+"Right"],q[1]),aE(m[p+"Bottom"],q[2]),aE(m[p+"Left"],q[3])]}};d.prototype.callbacks=[];aU=a0.CenteredSeriesMixin={getCenter:function(){var p=this.options,m=this.chart,y=2*(p.slicedOffset||0),w,v=m.plotWidth-2*y,u=m.plotHeight-2*y,m=p.center,p=[aE(m[0],"50%"),aE(m[1],"50%"),p.size||"100%",p.innerSize||0],t=bo(v,u),q;return by(p,function(A,z){q=/%$/.test(A);w=z<2||z===2&&q;return(q?[v,u,t,t][z]*aq(A)/100:A)+(w?y:0)})}};var ah=function(){};ah.prototype={init:function(p,m,q){this.series=p;this.applyOptions(m,q);this.pointAttr={};if(p.options.colorByPoint&&(m=p.options.colors||p.chart.options.colors,this.color=this.color||m[p.colorCounter++],p.colorCounter===m.length)){p.colorCounter=0}p.chart.pointCount++;return this},applyOptions:function(p,m){var t=this.series,q=t.pointValKey,p=ah.prototype.optionsToObject.call(this,p);aA(this,p);this.options=this.options?aA(this.options,p):p;if(q){this.y=this[q]}if(this.x===ay&&t){this.x=m===ay?t.autoIncrement():m}return this},optionsToObject:function(p){var m={},w=this.series,v=w.pointArrayMap||["y"],u=v.length,t=0,q=0;if(typeof p==="number"||p===null){m[v[0]]=p}else{if(s(p)){if(p.length>u){w=typeof p[0];if(w==="string"){m.name=p[0]}else{if(w==="number"){m.x=p[0]}}t++}for(;q<u;){m[v[q++]]=p[t++]}}else{if(typeof p==="object"){m=p;if(p.dataLabels){w._hasPointLabels=!0}if(p.marker){w._hasPointMarkers=!0}}}}return m},destroy:function(){var p=this.series.chart,m=p.hoverPoints,q;p.pointCount--;if(m&&(this.setState(),ag(m,this),!m.length)){p.hoverPoints=null}if(this===p.hoverPoint){this.onMouseOut()}if(this.graphic||this.dataLabel){aV(this),this.destroyElements()}this.legendItem&&p.legend.destroyItem(this);for(q in this){this[q]=null}},destroyElements:function(){for(var p="graphic,dataLabel,dataLabelUpper,group,connector,shadowGroup".split(","),m,q=6;q--;){m=p[q],this[m]&&(this[m]=this[m].destroy())}},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(p){var m=this.series,v=m.tooltipOptions,u=aE(v.valueDecimals,""),t=v.valuePrefix||"",q=v.valueSuffix||"";aB(m.pointArrayMap||["y"],function(w){w="{point."+w;if(t||q){p=p.replace(w+"}",t+w+"}"+q)}p=p.replace(w+"}",w+":,."+u+"f}")});return bn(p,{point:this,series:this.series})},firePointEvent:function(p,m,u){var t=this,q=this.series.options;(q.point.events[p]||t.options&&t.options.events&&t.options.events[p])&&this.importEvents();p==="click"&&q.allowPointSelect&&(u=function(v){t.select(null,v.ctrlKey||v.metaKey||v.shiftKey)});bm(this,p,m,u)}};var a4=function(){};a4.prototype={isCartesian:!0,type:"line",pointClass:ah,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(p,m){var w=this,v,u,t=p.series,q=function(z,y){return aE(z.options.index,z._i)-aE(y.options.index,y._i)};w.chart=p;w.options=m=w.setOptions(m);w.linkedSeries=[];w.bindAxes();aA(w,{name:m.name,state:"",pointAttr:{},visible:m.visible!==!1,selected:m.selected===!0});if(bT){m.animation=!1}u=m.events;for(v in u){a8(w,v,u[v])}if(u&&u.click||m.point&&m.point.events&&m.point.events.click||m.allowPointSelect){p.runTrackerClick=!0}w.getColor();w.getSymbol();aB(w.parallelArrays,function(y){w[y+"Data"]=[]});w.setData(m.data,!1);if(w.isCartesian){p.hasCartesianSeries=!0}t.push(w);w._i=t.length-1;aJ(t,q);this.yAxis&&aJ(this.yAxis.series,q);aB(t,function(z,y){z.index=y;z.name=z.name||"Series "+(y+1)})},bindAxes:function(){var p=this,m=p.options,t=p.chart,q;aB(p.axisTypes||[],function(u){aB(t[u],function(v){q=v.options;if(m[u]===q.index||m[u]!==ay&&m[u]===q.id||m[u]===ay&&q.index===0){v.series.push(p),p[u]=v,v.isDirty=!0}});!p[u]&&p.optionalAxis!==u&&b1(18,!0)})},updateParallelArrays:function(p,m){var t=p.series,q=arguments;aB(t.parallelArrays,typeof m==="number"?function(v){var u=v==="y"&&t.toYData?t.toYData(p):p[v];t[v+"Data"][m]=u}:function(u){Array.prototype[m].apply(t[u+"Data"],Array.prototype.slice.call(q,2))})},autoIncrement:function(){var p=this.options,m=this.xIncrement,m=aE(m,p.pointStart,0);this.pointInterval=aE(this.pointInterval,p.pointInterval,1);this.xIncrement=m+this.pointInterval;return m},getSegments:function(){var p=-1,m=[],u,t=this.points,q=t.length;if(q){if(this.options.connectNulls){for(u=q;u--;){t[u].y===null&&t.splice(u,1)}t.length&&(m=[t])}else{aB(t,function(w,v){w.y===null?(v>p+1&&m.push(t.slice(p+1,v)),p=v):v===q-1&&m.push(t.slice(p+1,v+1))})}}this.segments=m},setOptions:function(p){var m=this.chart,u=m.options.plotOptions,m=m.userOptions||{},t=m.plotOptions||{},q=u[this.type];this.userOptions=p;u=av(q,u.series,p);this.tooltipOptions=av(bk.tooltip,bk.plotOptions[this.type].tooltip,m.tooltip,t.series&&t.series.tooltip,t[this.type]&&t[this.type].tooltip,p.tooltip);q.marker===null&&delete u.marker;return u},getColor:function(){var p=this.options,m=this.userOptions,u=this.chart.options.colors,t=this.chart.counters,q;q=p.color||a5[this.type].color;if(!q&&!p.colorByPoint){az(m._colorIndex)?p=m._colorIndex:(m._colorIndex=t.color,p=t.color++),q=u[p]}this.color=q;t.wrapColor(u.length)},getSymbol:function(){var p=this.userOptions,m=this.options.marker,t=this.chart,q=t.options.symbols,t=t.counters;this.symbol=m.symbol;if(!this.symbol){az(p._symbolIndex)?p=p._symbolIndex:(p._symbolIndex=t.symbol,p=t.symbol++),this.symbol=q[p]}if(/^url/.test(this.symbol)){m.radius=0}t.wrapSymbol(q.length)},drawLegendSymbol:a6.drawLineMarker,setData:function(N,M,K,I){var H=this,G=H.points,F=G&&G.length||0,E,D=H.options,C=H.chart,A=null,z=H.xAxis,w=z&&!!z.categories,y=H.tooltipPoints,p=D.turboThreshold,u=this.xData,t=this.yData,m=(E=H.pointArrayMap)&&E.length,N=N||[];E=N.length;M=aE(M,!0);if(I!==!1&&E&&F===E&&!H.cropped&&!H.hasGroupedData){aB(N,function(v,q){G[q].update(v,!1)})}else{H.xIncrement=null;H.pointRange=w?1:D.pointRange;H.colorCounter=0;aB(this.parallelArrays,function(q){H[q+"Data"].length=0});if(p&&E>p){for(K=0;A===null&&K<E;){A=N[K],K++}if(bd(A)){w=aE(D.pointStart,0);D=aE(D.pointInterval,1);for(K=0;K<E;K++){u[K]=w,t[K]=N[K],w+=D}H.xIncrement=w}else{if(s(A)){if(m){for(K=0;K<E;K++){D=N[K],u[K]=D[0],t[K]=D.slice(1,m+1)}}else{for(K=0;K<E;K++){D=N[K],u[K]=D[0],t[K]=D[1]}}}else{b1(12)}}}else{for(K=0;K<E;K++){if(N[K]!==ay&&(D={series:H},H.pointClass.prototype.applyOptions.apply(D,[N[K]]),H.updateParallelArrays(D,K),w&&D.name)){z.names[D.x]=D.name}}}k(t[0])&&b1(14,!0);H.data=[];H.options.data=N;for(K=F;K--;){G[K]&&G[K].destroy&&G[K].destroy()}if(y){y.length=0}if(z){z.minRange=z.userMinRange}H.isDirty=H.isDirtyData=C.isDirtyBox=!0;K=!1}M&&C.redraw(K)},processData:function(F){var E=this.xData,D=this.yData,C=E.length,A;A=0;var z,y,w=this.xAxis,v=this.options,u=v.cropThreshold,t=0,q=this.isCartesian,m,p;if(q&&!this.isDirty&&!w.isDirty&&!this.yAxis.isDirty&&!F){return !1}if(q&&this.sorted&&(!u||C>u||this.forceCrop)){if(m=w.min,p=w.max,E[C-1]<m||E[0]>p){E=[],D=[]}else{if(E[0]<m||E[C-1]>p){A=this.cropData(this.xData,this.yData,m,p),E=A.xData,D=A.yData,A=A.start,z=!0,t=E.length}}}for(C=E.length-1;C>=0;C--){F=E[C]-E[C-1],!z&&E[C]>m&&E[C]<p&&t++,F>0&&(y===ay||F<y)?y=F:F<0&&this.requireSorting&&b1(15)}this.cropped=z;this.cropStart=A;this.processedXData=E;this.processedYData=D;this.activePointCount=t;if(v.pointRange===null){this.pointRange=y||1}this.closestPointRange=y},cropData:function(z,y,w,v){var u=z.length,t=0,q=u,p=aE(this.cropShoulder,1),m;for(m=0;m<u;m++){if(z[m]>=w){t=aw(0,m-p);break}}for(;m<u;m++){if(z[m]>v){q=m+p;break}}return{xData:z.slice(t,q),yData:y.slice(t,q),start:t,end:q}},generatePoints:function(){var E=this.options.data,D=this.data,C,A=this.processedXData,z=this.processedYData,y=this.pointClass,w=A.length,v=this.cropStart||0,u,t=this.hasGroupedData,q,p=[],m;if(!D&&!t){D=[],D.length=E.length,D=this.data=D}for(m=0;m<w;m++){u=v+m,t?p[m]=(new y).init(this,[A[m]].concat(o(z[m]))):(D[u]?q=D[u]:E[u]!==ay&&(D[u]=q=(new y).init(this,E[u],A[m])),p[m]=q)}if(D&&(w!==(C=D.length)||t)){for(m=0;m<C;m++){if(m===v&&!t&&(m+=w),D[m]){D[m].destroyElements(),D[m].plotX=ay}}}this.data=D;this.points=p},getExtremes:function(D){var C=this.yAxis,A=this.processedXData,z,y=[],w=0;z=this.xAxis.getExtremes();var v=z.min,u=z.max,t,q,p,m,D=D||this.stackedYData||this.processedYData;z=D.length;for(m=0;m<z;m++){if(q=A[m],p=D[m],t=p!==null&&p!==ay&&(!C.isLog||p.length||p>0),q=this.getExtremesFromAll||this.cropped||(A[m+1]||q)>=v&&(A[m-1]||q)<=u,t&&q){if(t=p.length){for(;t--;){p[t]!==null&&(y[w++]=p[t])}}else{y[w++]=p}}}this.dataMin=aE(void 0,bM(y));this.dataMax=aE(void 0,bE(y))},translate:function(){this.processedXData||this.processData();this.generatePoints();for(var H=this.options,G=H.stacking,F=this.xAxis,E=F.categories,D=this.yAxis,C=this.points,A=C.length,z=!!this.modifyValue,y=H.pointPlacement,w=y==="between"||bd(y),v=H.threshold,H=0;H<A;H++){var u=C[H],q=u.x,t=u.y,I=u.low,m=G&&D.stacks[(this.negStacks&&t<v?"-":"")+this.stackKey];if(D.isLog&&t<=0){u.y=t=null}u.plotX=F.translate(q,0,0,0,1,y,this.type==="flags");if(G&&this.visible&&m&&m[q]){m=m[q],t=m.points[this.index+","+H],I=t[0],t=t[1],I===0&&(I=aE(v,D.min)),D.isLog&&I<=0&&(I=null),u.total=u.stackTotal=m.total,u.percentage=m.total&&u.y/m.total*100,u.stackY=t,m.setOffset(this.pointXOffset||0,this.barW||0)}u.yBottom=az(I)?D.translate(I,0,1,0,1):null;z&&(t=this.modifyValue(t,u));u.plotY=typeof t==="number"&&t!==Infinity?D.translate(t,0,1,0,1):ay;u.clientX=w?F.translate(q,0,0,0,1):u.plotX;u.negative=u.y<(v||0);u.category=E&&E[u.x]!==ay?E[u.x]:u.x}this.getSegments()},animate:function(p){var m=this.chart,w=m.renderer,v;v=this.options.animation;var u=this.clipBox||m.clipBox,t=m.inverted,q;if(v&&!aD(v)){v=a5[this.type].animation}q=["_sharedClip",v.duration,v.easing,u.height].join(",");p?(p=m[q],v=m[q+"m"],p||(m[q]=p=w.clipRect(aA(u,{width:0})),m[q+"m"]=v=w.clipRect(-99,t?-m.plotLeft:-m.plotTop,99,t?m.chartWidth:m.chartHeight)),this.group.clip(p),this.markerGroup.clip(v),this.sharedClipKey=q):((p=m[q])&&p.animate({width:m.plotSizeX},v),m[q+"m"]&&m[q+"m"].animate({width:m.plotSizeX+99},v),this.animate=null)},afterAnimate:function(){var p=this.chart,m=this.sharedClipKey,t=this.group,q=this.clipBox;if(t&&this.options.clip!==!1){if(!m||!q){t.clip(q?p.renderer.clipRect(q):p.clipRect)}this.markerGroup.clip()}bm(this,"afterAnimate");setTimeout(function(){m&&p[m]&&(q||(p[m]=p[m].destroy()),p[m+"m"]&&(p[m+"m"]=p[m+"m"].destroy()))},100)},drawPoints:function(){var F,E=this.points,D=this.chart,C,A,z,y,w,v,u,t;C=this.options.marker;var q=this.pointAttr[""],m,p=this.markerGroup,G=aE(C.enabled,this.activePointCount<0.5*this.xAxis.len/C.radius);if(C.enabled!==!1||this._hasPointMarkers){for(z=E.length;z--;){if(y=E[z],C=aY(y.plotX),A=y.plotY,t=y.graphic,v=y.marker||{},F=G&&v.enabled===ay||v.enabled,m=D.isInsidePlot(ax(C),A,D.inverted),F&&A!==ay&&!isNaN(A)&&y.y!==null){if(F=y.pointAttr[y.selected?"select":""]||q,w=F.r,v=aE(v.symbol,this.symbol),u=v.indexOf("url")===0,t){t[m?"show":"hide"](!0).animate(aA({x:C-w,y:A-w},t.symbolName?{width:2*w,height:2*w}:{}))}else{if(m&&(w>0||u)){y.graphic=D.renderer.symbol(v,C-w,A-w,2*w,2*w).attr(F).add(p)}}}else{if(t){y.graphic=t.destroy()}}}}},convertAttribs:function(p,m,y,w){var v=this.pointAttrToOptions,u,t,q={},p=p||{},m=m||{},y=y||{},w=w||{};for(u in v){t=v[u],q[u]=aE(p[t],m[u],y[u],w[u])}return q},getAttribs:function(){var H=this,G=H.options,F=a5[H.type].marker?G.marker:G,E=F.states,D=E.hover,C,A=H.color;C={stroke:A,fill:A};var z=H.points||[],y,w=[],v,u=H.pointAttrToOptions;v=H.hasPointSpecificOptions;var p=G.negativeColor,q=F.lineColor,I=F.fillColor;y=G.turboThreshold;var t;G.marker?(D.radius=D.radius||F.radius+2,D.lineWidth=D.lineWidth||F.lineWidth+1):D.color=D.color||bN(D.color||A).brighten(D.brightness).get();w[""]=H.convertAttribs(F,C);aB(["hover","select"],function(m){w[m]=H.convertAttribs(E[m],w[""])});H.pointAttr=w;A=z.length;if(!y||A<y||v){for(;A--;){y=z[A];if((F=y.options&&y.options.marker||y.options)&&F.enabled===!1){F.radius=0}if(y.negative&&p){y.color=y.fillColor=p}v=G.colorByPoint||y.color;if(y.options){for(t in u){az(F[u[t]])&&(v=!0)}}if(v){F=F||{};v=[];E=F.states||{};C=E.hover=E.hover||{};if(!G.marker){C.color=C.color||!y.options.color&&D.color||bN(y.color).brighten(C.brightness||D.brightness).get()}C={color:y.color};if(!I){C.fillColor=y.color}if(!q){C.lineColor=y.color}v[""]=H.convertAttribs(aA(C,F),w[""]);v.hover=H.convertAttribs(E.hover,w.hover,v[""]);v.select=H.convertAttribs(E.select,w.select,v[""])}else{v=w}y.pointAttr=v}}},destroy:function(){var z=this,y=z.chart,w=/AppleWebKit\/533/.test(B),v,u,t=z.data||[],q,p,m;bm(z,"destroy");aV(z);aB(z.axisTypes||[],function(A){if(m=z[A]){ag(m.series,z),m.isDirty=m.forceRedraw=!0}});z.legendItem&&z.chart.legend.destroyItem(z);for(u=t.length;u--;){(q=t[u])&&q.destroy&&q.destroy()}z.points=null;clearTimeout(z.animationTimeout);aB("area,graph,dataLabelsGroup,group,markerGroup,tracker,graphNeg,areaNeg,posClip,negClip".split(","),function(A){z[A]&&(v=w&&A==="group"?"hide":"destroy",z[A][v]())});if(y.hoverSeries===z){y.hoverSeries=null}ag(y.series,z);for(p in z){delete z[p]}},getSegmentPath:function(p){var m=this,t=[],q=m.options.step;aB(p,function(z,y){var w=z.plotX,v=z.plotY,u;m.getPointSpline?t.push.apply(t,m.getPointSpline(p,z,y)):(t.push(y?"L":"M"),q&&y&&(u=p[y-1],q==="right"?t.push(u.plotX,v):q==="center"?t.push((u.plotX+w)/2,u.plotY,(u.plotX+w)/2,v):t.push(w,u.plotY)),t.push(z.plotX,z.plotY))});return t},getGraphPath:function(){var p=this,m=[],t,q=[];aB(p.segments,function(u){t=p.getSegmentPath(u);u.length>1?m=m.concat(t):q.push(u[0])});p.singlePoints=q;return p.graphPath=m},drawGraph:function(){var p=this,m=this.options,y=[["graph",m.lineColor||this.color]],w=m.lineWidth,v=m.dashStyle,u=m.linecap!=="square",t=this.getGraphPath(),q=m.negativeColor;q&&y.push(["graphNeg",q]);aB(y,function(D,C){var A=D[0],z=p[A];if(z){a2(z),z.animate({d:t})}else{if(w&&t.length){z={stroke:D[1],"stroke-width":w,fill:a1,zIndex:1},v?z.dashstyle=v:u&&(z["stroke-linecap"]=z["stroke-linejoin"]="round"),p[A]=p.chart.renderer.path(t).attr(z).add(p.group).shadow(!C&&m.shadow)}}})},clipNeg:function(){var D=this.options,C=this.chart,A=C.renderer,z=D.negativeColor||D.negativeFillColor,y,w=this.graph,v=this.area,u=this.posClip,t=this.negClip;y=C.chartWidth;var q=C.chartHeight,p=aw(y,q),m=this.yAxis;if(z&&(w||v)){z=ax(m.toPixels(D.threshold||0,!0));z<0&&(p-=z);D={x:0,y:0,width:p,height:z};p={x:0,y:z,width:p,height:p};if(C.inverted){D.height=p.y=C.plotWidth-z,A.isVML&&(D={x:C.plotWidth-z-C.plotLeft,y:0,width:y,height:q},p={x:z+C.plotLeft-y,y:0,width:C.plotLeft+z,height:y})}m.reversed?(C=p,y=D):(C=D,y=p);u?(u.animate(C),t.animate(y)):(this.posClip=u=A.clipRect(C),this.negClip=t=A.clipRect(y),w&&this.graphNeg&&(w.clip(u),this.graphNeg.clip(t)),v&&(v.clip(u),this.areaNeg.clip(t)))}},invertGroups:function(){function p(){var t={width:m.yAxis.len,height:m.xAxis.len};aB(["group","markerGroup"],function(u){m[u]&&m[u].attr(t).invert()})}var m=this,q=m.chart;if(m.xAxis){a8(q,"resize",p),a8(m,"destroy",function(){aV(q,"resize",p)}),p(),m.invertGroups=p}},plotGroup:function(p,m,w,v,u){var t=this[p],q=!t;q&&(this[p]=t=this.chart.renderer.g(m).attr({visibility:w,zIndex:v||0.1}).add(u));t[q?"attr":"animate"](this.getPlotBox());return t},getPlotBox:function(){var p=this.chart,m=this.xAxis,q=this.yAxis;if(p.inverted){m=q,q=this.xAxis}return{translateX:m?m.left:p.plotLeft,translateY:q?q.top:p.plotTop,scaleX:1,scaleY:1}},render:function(){var z=this,y=z.chart,w,v=z.options,u=(w=v.animation)&&!!z.animate&&y.renderer.isSVG&&aE(w.duration,500)||0,t=z.visible?"visible":"hidden",q=v.zIndex,p=z.hasRendered,m=y.seriesGroup;w=z.plotGroup("group","series",t,q,m);z.markerGroup=z.plotGroup("markerGroup","markers",t,q,m);u&&z.animate(!0);z.getAttribs();w.inverted=z.isCartesian?y.inverted:!1;z.drawGraph&&(z.drawGraph(),z.clipNeg());z.drawDataLabels&&z.drawDataLabels();z.visible&&z.drawPoints();z.drawTracker&&z.options.enableMouseTracking!==!1&&z.drawTracker();y.inverted&&z.invertGroups();v.clip!==!1&&!z.sharedClipKey&&!p&&w.clip(y.clipRect);u&&z.animate();if(!p){u?z.animationTimeout=setTimeout(function(){z.afterAnimate()},u):z.afterAnimate()}z.isDirty=z.isDirtyData=!1;z.hasRendered=!0},redraw:function(){var p=this.chart,m=this.isDirtyData,u=this.group,t=this.xAxis,q=this.yAxis;u&&(p.inverted&&u.attr({width:p.plotWidth,height:p.plotHeight}),u.animate({translateX:aE(t&&t.left,p.plotLeft),translateY:aE(q&&q.top,p.plotTop)}));this.translate();this.setTooltipPoints&&this.setTooltipPoints(!0);this.render();m&&bm(this,"updatedData")}};bG.prototype={destroy:function(){bu(this,this.axis)},render:function(p){var m=this.options,q=m.format,q=q?bn(q,this):m.formatter.call(this);this.label?this.label.attr({text:q,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(q,null,null,m.useHTML).css(m.style).attr({align:this.textAlign,rotation:m.rotation,visibility:"hidden"}).add(p)},setOffset:function(z,y){var w=this.axis,v=w.chart,u=v.inverted,t=this.isNegative,q=w.translate(w.usePercentage?100:this.total,0,0,0,1),w=w.translate(0),w=a7(q-w),p=v.xAxis[0].translate(this.x)+z,m=v.plotHeight,t={x:u?t?q:q-w:p,y:u?m-p-y:t?m-q-w:m-q,width:u?w:y,height:u?y:w};if(u=this.label){u.align(this.alignOptions,null,t),t=u.alignAttr,u[this.options.crop===!1||v.isInsidePlot(t.x,t.y)?"show":"hide"](!0)}}};bX.prototype.buildStacks=function(){var p=this.series,m=aE(this.options.reversedStacks,!0),q=p.length;if(!this.isXAxis){for(this.usePercentage=!1;q--;){p[m?q:p.length-q-1].setStackedPoints()}if(this.usePercentage){for(q=0;q<p.length;q++){p[q].setPercentStacks()}}}};bX.prototype.renderStackTotals=function(){var p=this.chart,m=p.renderer,v=this.stacks,u,t,q=this.stackTotalGroup;if(!q){this.stackTotalGroup=q=m.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()}q.translate(p.plotLeft,p.plotTop);for(u in v){for(t in p=v[u],p){p[t].render(q)}}};a4.prototype.setStackedPoints=function(){if(this.options.stacking&&!(this.visible!==!0&&this.chart.options.chart.ignoreHiddenSeries!==!1)){var Q=this.processedXData,P=this.processedYData,O=[],N=P.length,M=this.options,K=M.threshold,I=M.stack,M=M.stacking,H=this.stackKey,G="-"+H,F=this.negStacks,E=this.yAxis,D=E.stacks,z=E.oldStacks,A,C,y,w,v,t;for(w=0;w<N;w++){v=Q[w];t=P[w];y=this.index+","+w;C=(A=F&&t<K)?G:H;D[C]||(D[C]={});if(!D[C][v]){z[C]&&z[C][v]?(D[C][v]=z[C][v],D[C][v].total=null):D[C][v]=new bG(E,E.options.stackLabels,A,v,I)}C=D[C][v];C.points[y]=[C.cum||0];M==="percent"?(A=A?H:G,F&&D[A]&&D[A][v]?(A=D[A][v],C.total=A.total=aw(A.total,C.total)+a7(t)||0):C.total=ad(C.total+(a7(t)||0))):C.total=ad(C.total+(t||0));C.cum=(C.cum||0)+(t||0);C.points[y].push(C.cum);O[w]=C.cum}if(M==="percent"){E.usePercentage=!0}this.stackedYData=O;E.oldStacks={}}};a4.prototype.setPercentStacks=function(){var p=this,m=p.stackKey,t=p.yAxis.stacks,q=p.processedXData;aB([m,"-"+m],function(u){var z;for(var y=q.length,w,v;y--;){if(w=q[y],z=(v=t[u]&&t[u][w])&&v.points[p.index+","+y],w=z){v=v.total?100/v.total:0,w[0]=ad(w[0]*v),w[1]=ad(w[1]*v),p.stackedYData[y]=w[1]}}})};aA(d.prototype,{addSeries:function(p,m,u){var t,q=this;p&&(m=aE(m,!0),bm(q,"addSeries",{options:p},function(){t=q.initSeries(p);q.isDirtyLegend=!0;q.linkSeries();m&&q.redraw(u)}));return t},addAxis:function(p,m,v,u){var t=m?"xAxis":"yAxis",q=this.options;new bX(this,av(p,{index:this[t].length,isX:m}));q[t]=o(q[t]||{});q[t].push(p);aE(v,!0)&&this.redraw(u)},showLoading:function(p){var m=this.options,t=this.loadingDiv,q=m.loading;if(!t){this.loadingDiv=t=aT(aM,{className:"highcharts-loading"},aA(q.style,{zIndex:10,display:a1}),this.container),this.loadingSpan=aT("span",null,q.labelStyle,t)}this.loadingSpan.innerHTML=p||m.lang.loading;if(!this.loadingShown){bh(t,{opacity:0,display:"",left:this.plotLeft+"px",top:this.plotTop+"px",width:this.plotWidth+"px",height:this.plotHeight+"px"}),g(t,{opacity:q.style.opacity},{duration:q.showDuration||0}),this.loadingShown=!0}},hideLoading:function(){var p=this.options,m=this.loadingDiv;m&&g(m,{opacity:0},{duration:p.loading.hideDuration||100,complete:function(){bh(m,{display:a1})}});this.loadingShown=!1}});aA(ah.prototype,{update:function(A,z,y){var w=this,v=w.series,u=w.graphic,t,q=v.data,p=v.chart,m=v.options,z=aE(z,!0);w.firePointEvent("update",{options:A},function(){w.applyOptions(A);if(aD(A)){v.getAttribs();if(u){A&&A.marker&&A.marker.symbol?w.graphic=u.destroy():u.attr(w.pointAttr[w.state||""])}if(A&&A.dataLabels&&w.dataLabel){w.dataLabel=w.dataLabel.destroy()}}t=aI(w,q);v.updateParallelArrays(w,t);m.data[t]=w.options;v.isDirty=v.isDirtyData=!0;if(!v.fixedBox&&v.hasCartesianSeries){p.isDirtyBox=!0}m.legendType==="point"&&p.legend.destroyItem(w);z&&p.redraw(y)})},remove:function(p,m){var y=this,w=y.series,v=w.points,u=w.chart,t,q=w.data;ap(m,u);p=aE(p,!0);y.firePointEvent("remove",null,function(){t=aI(y,q);q.length===v.length&&v.splice(t,1);q.splice(t,1);w.options.data.splice(t,1);w.updateParallelArrays(y,"splice",t,1);y.destroy();w.isDirty=!0;w.isDirtyData=!0;p&&u.redraw()})}});aA(a4.prototype,{addPoint:function(F,E,D,C){var A=this.options,z=this.data,y=this.graph,w=this.area,v=this.chart,u=this.xAxis&&this.xAxis.names,t=y&&y.shift||0,q=A.data,m,p=this.xData;ap(C,v);D&&aB([y,w,this.graphNeg,this.areaNeg],function(G){if(G){G.shift=t+1}});if(w){w.isArea=!0}E=aE(E,!0);C={series:this};this.pointClass.prototype.applyOptions.apply(C,[F]);y=C.x;w=p.length;if(this.requireSorting&&y<p[w-1]){for(m=!0;w&&p[w-1]>y;){w--}}this.updateParallelArrays(C,"splice",w,0,0);this.updateParallelArrays(C,w);if(u){u[y]=C.name}q.splice(w,0,F);m&&(this.data.splice(w,0,null),this.processData());A.legendType==="point"&&this.generatePoints();D&&(z[0]&&z[0].remove?z[0].remove(!1):(z.shift(),this.updateParallelArrays(C,"shift"),q.shift()));this.isDirtyData=this.isDirty=!0;E&&(this.getAttribs(),v.redraw())},remove:function(p,m){var t=this,q=t.chart,p=aE(p,!0);if(!t.isRemoving){t.isRemoving=!0,bm(t,"remove",null,function(){t.destroy();q.isDirtyLegend=q.isDirtyBox=!0;q.linkSeries();p&&q.redraw(m)})}t.isRemoving=!1},update:function(p,m){var v=this.chart,u=this.type,t=bi[u].prototype,q,p=av(this.userOptions,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},p);this.remove(!1);for(q in t){t.hasOwnProperty(q)&&(this[q]=ay)}aA(this,bi[p.type||u].prototype);this.init(v,p);aE(m,!0)&&v.redraw(!1)}});aA(bX.prototype,{update:function(p,m){var q=this.chart,p=q.options[this.coll][this.options.index]=av(this.userOptions,p);this.destroy(!0);this._addedPlotLB=ay;this.init(q,aA(p,{events:ay}));q.isDirtyBox=!0;aE(m,!0)&&q.redraw()},remove:function(p){for(var m=this.chart,u=this.coll,t=this.series,q=t.length;q--;){t[q]&&t[q].remove(!1)}ag(m.axes,this);ag(m[u],this);m.options[u].splice(this.options.index,1);aB(m[u],function(w,v){w.options.index=v});this.destroy();m.isDirtyBox=!0;aE(p,!0)&&m.redraw()},setTitle:function(p,m){this.update({title:p},m)},setCategories:function(p,m){this.update({categories:p},m)}});bC=j(a4);bi.line=bC;a5.area=av(aZ,{threshold:0});var aj=j(a4,{type:"area",getSegments:function(){var F=[],E=[],D=[],C=this.xAxis,A=this.yAxis,z=A.stacks[this.stackKey],y={},w,v,u=this.points,t=this.options.connectNulls,q,m,p;if(this.options.stacking&&!this.cropped){for(m=0;m<u.length;m++){y[u[m].x]=u[m]}for(p in z){z[p].total!==null&&D.push(+p)}D.sort(function(H,G){return H-G});aB(D,function(G){if(!t||y[G]&&y[G].y!==null){y[G]?E.push(y[G]):(w=C.translate(G),q=z[G].percent?z[G].total?z[G].cum*100/z[G].total:0:z[G].cum,v=A.toPixels(q,!0),E.push({y:null,plotX:w,clientX:w,plotY:v,yBottom:v,onMouseOver:bK}))}});E.length&&F.push(E)}else{a4.prototype.getSegments.call(this),F=this.segments}this.segments=F},getSegmentPath:function(p){var m=a4.prototype.getSegmentPath.call(this,p),w=[].concat(m),v,u=this.options;v=m.length;var t=this.yAxis.getThreshold(u.threshold),q;v===3&&w.push("L",m[1],m[2]);if(u.stacking&&!this.closedStacks){for(v=p.length-1;v>=0;v--){q=aE(p[v].yBottom,t),v<p.length-1&&u.step&&w.push(p[v+1].plotX,q),w.push(p[v].plotX,q)}}else{this.closeSegment(w,p,t)}this.areaPath=this.areaPath.concat(w);return m},closeSegment:function(p,m,q){p.push("L",m[m.length-1].plotX,q,"L",m[0].plotX,q)},drawGraph:function(){this.areaPath=[];a4.prototype.drawGraph.apply(this);var p=this,m=this.areaPath,v=this.options,u=v.negativeColor,t=v.negativeFillColor,q=[["area",this.color,v.fillColor]];(u||t)&&q.push(["areaNeg",u,t]);aB(q,function(z){var y=z[0],w=p[y];w?w.animate({d:m}):p[y]=p.chart.renderer.path(m).attr({fill:aE(z[2],bN(z[1]).setOpacity(aE(v.fillOpacity,0.75)).get()),zIndex:0}).add(p.group)})},drawLegendSymbol:a6.drawRectangle});bi.area=aj;a5.spline=av(aZ);bC=j(a4,{type:"spline",getPointSpline:function(D,C,A){var z=C.plotX,y=C.plotY,w=D[A-1],v=D[A+1],u,t,q,p;if(w&&v){D=w.plotY;q=v.plotX;var v=v.plotY,m;u=(1.5*z+w.plotX)/2.5;t=(1.5*y+D)/2.5;q=(1.5*z+q)/2.5;p=(1.5*y+v)/2.5;m=(p-t)*(q-z)/(q-u)+y-p;t+=m;p+=m;t>D&&t>y?(t=aw(D,y),p=2*y-t):t<D&&t<y&&(t=bo(D,y),p=2*y-t);p>v&&p>y?(p=aw(v,y),t=2*y-p):p<v&&p<y&&(p=bo(v,y),t=2*y-p);C.rightContX=q;C.rightContY=p}A?(C=["C",w.rightContX||w.plotX,w.rightContY||w.plotY,u||z,t||y,z,y],w.rightContX=w.rightContY=null):C=["M",z,y];return C}});bi.spline=bC;a5.areaspline=av(a5.area);aj=aj.prototype;bC=j(bC,{type:"areaspline",closedStacks:!0,getSegmentPath:aj.getSegmentPath,closeSegment:aj.closeSegment,drawGraph:aj.drawGraph,drawLegendSymbol:a6.drawRectangle});bi.areaspline=bC;a5.column=av(aZ,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:0.2,marker:null,pointPadding:0.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:0.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,tooltip:{distance:6},threshold:0});bC=j(a4,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){a4.prototype.init.apply(this,arguments);var p=this,m=p.chart;m.hasRendered&&aB(m.series,function(q){if(q.type===p.type){q.isDirty=!0}})},getColumnMetrics:function(){var D=this,C=D.options,A=D.xAxis,z=D.yAxis,y=A.reversed,w,v={},u,t=0;C.grouping===!1?t=1:aB(D.chart.series,function(E){var G=E.options,F=E.yAxis;if(E.type===D.type&&E.visible&&z.len===F.len&&z.pos===F.pos){G.stacking?(w=E.stackKey,v[w]===ay&&(v[w]=t++),u=v[w]):G.grouping!==!1&&(u=t++),E.columnIndex=u}});var A=bo(a7(A.transA)*(A.ordinalSlope||C.pointRange||A.closestPointRange||A.tickInterval||1),A.len),q=A*C.groupPadding,p=(A-2*q)/t,m=C.pointWidth,C=az(m)?(p-m)/2:p*C.pointPadding,m=aE(m,p-2*C);return D.columnMetrics={width:m,offset:C+(q+((y?t-(D.columnIndex||0):D.columnIndex)||0)*p-A/2)*(y?-1:1)}},translate:function(){var D=this,C=D.chart,A=D.options,z=D.borderWidth=aE(A.borderWidth,D.activePointCount>0.5*D.xAxis.len?0:1),y=D.yAxis,w=D.translatedThreshold=y.getThreshold(A.threshold),v=aE(A.minPointLength,5),A=D.getColumnMetrics(),u=A.width,t=D.barW=al(aw(u,1+2*z)),q=D.pointXOffset=A.offset,p=-(z%2?0.5:0),m=z%2?0.5:1;C.renderer.isVML&&C.inverted&&(m+=1);a4.prototype.translate.apply(D);aB(D.points,function(M){var K=aE(M.yBottom,w),I=bo(aw(-999-K,M.plotY),y.len+999+K),H=M.plotX+q,G=t,F=bo(I,K),E;E=aw(I,K)-F;a7(E)<v&&v&&(E=v,F=ax(a7(F-w)>v?K-v:w-(y.translate(M.y,0,1,0,1)<=w?v:0)));M.barX=H;M.pointWidth=u;M.tooltipPos=C.inverted?[y.len-I,D.xAxis.len-H-G/2]:[H+G/2,I];K=a7(H)<0.5;G=ax(H+G)+p;H=ax(H)+p;G-=H;I=a7(F)<0.5;E=ax(F+E)+m;F=ax(F)+m;E-=F;K&&(H+=1,G-=1);I&&(F-=1,E+=1);M.shapeType="rect";M.shapeArgs={x:H,y:F,width:G,height:E}})},getSymbol:bK,drawLegendSymbol:a6.drawRectangle,drawGraph:bK,drawPoints:function(){var p=this,m=this.chart,y=p.options,w=m.renderer,v=y.animationLimit||250,u,t,q;aB(p.points,function(C){var A=C.plotY,z=C.graphic;if(A!==ay&&!isNaN(A)&&C.y!==null){u=C.shapeArgs,q=az(p.borderWidth)?{"stroke-width":p.borderWidth}:{},t=C.pointAttr[C.selected?"select":""]||p.pointAttr[""],z?(a2(z),z.attr(q)[m.pointCount<v?"animate":"attr"](av(u))):C.graphic=w[C.shapeType](u).attr(t).attr(q).add(p.group).shadow(y.shadow,null,y.stacking&&!y.borderRadius)}else{if(z){C.graphic=z.destroy()}}})},animate:function(p){var m=this.yAxis,u=this.options,t=this.chart.inverted,q={};if(bA){p?(q.scaleY=0.001,p=bo(m.pos+m.len,aw(m.pos,m.toPixels(u.threshold))),t?q.translateX=p-m.len:q.translateY=p,this.group.attr(q)):(q.scaleY=1,q[t?"translateX":"translateY"]=m.pos,this.group.animate(q,this.options.animation),this.animate=null)}},remove:function(){var p=this,m=p.chart;m.hasRendered&&aB(m.series,function(q){if(q.type===p.type){q.isDirty=!0}});a4.prototype.remove.apply(p,arguments)}});bi.column=bC;a5.bar=av(a5.column);aj=j(bC,{type:"bar",inverted:!0});bi.bar=aj;a5.scatter=av(aZ,{lineWidth:0,tooltip:{headerFormat:'<span style="color:{series.color}"></span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"},stickyTracking:!1});aj=j(a4,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup"],takeOrdinalPosition:!1,singularTooltips:!0,drawGraph:function(){this.options.lineWidth&&a4.prototype.drawGraph.call(this)}});bi.scatter=aj;a5.pie=av(aZ,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:0.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});aZ={type:"pie",isCartesian:!1,pointClass:j(ah,{init:function(){ah.prototype.init.apply(this,arguments);var p=this,m;if(p.y<0){p.y=null}aA(p,{visible:p.visible!==!1,name:aE(p.name,"Slice")});m=function(q){p.slice(q.type==="select")};a8(p,"select",m);a8(p,"unselect",m);return p},setVisible:function(p){var m=this,t=m.series,q=t.chart;m.visible=m.options.visible=p=p===ay?!m.visible:p;t.options.data[aI(m,t.data)]=m.options;aB(["graphic","dataLabel","connector","shadowGroup"],function(u){if(m[u]){m[u][p?"show":"hide"](!0)}});m.legendItem&&q.legend.colorizeItem(m,p);if(!t.isDirty&&t.options.ignoreHiddenPoint){t.isDirty=!0,q.redraw()}},slice:function(p,m,t){var q=this.series;ap(t,q.chart);aE(m,!0);this.sliced=this.options.sliced=p=az(p)?p:!this.sliced;q.options.data[aI(this,q.data)]=this.options;p=p?this.slicedTranslation:{translateX:0,translateY:0};this.graphic.animate(p);this.shadowGroup&&this.shadowGroup.animate(p)},haloPath:function(p){var m=this.shapeArgs,q=this.series.chart;return this.series.chart.renderer.symbols.arc(q.plotLeft+m.x,q.plotTop+m.y,m.r+p,m.r+p,{innerR:this.shapeArgs.r,start:m.start,end:m.end})}}),requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},singularTooltips:!0,getColor:bK,animate:function(p){var m=this,t=m.points,q=m.startAngleRad;if(!p){aB(t,function(u){var v=u.graphic,u=u.shapeArgs;v&&(v.attr({r:m.center[3]/2,start:q,end:q}),v.animate({r:u.r,start:u.start,end:u.end},m.options.animation))}),m.animate=null}},setData:function(p,m,t,q){a4.prototype.setData.call(this,p,!1,t,q);this.processData();this.generatePoints();aE(m,!0)&&this.chart.redraw(t)},generatePoints:function(){var p,m=0,v,u,t,q=this.options.ignoreHiddenPoint;a4.prototype.generatePoints.call(this);v=this.points;u=v.length;for(p=0;p<u;p++){t=v[p],m+=q&&!t.visible?0:t.y}this.total=m;for(p=0;p<u;p++){t=v[p],t.percentage=m>0?t.y/m*100:0,t.total=m}},translate:function(H){this.generatePoints();var G=0,F=this.options,E=F.slicedOffset,D=E+F.borderWidth,C,A,z,y=F.startAngle||0,w=this.startAngleRad=bH/180*(y-90),y=(this.endAngleRad=bH/180*(aE(F.endAngle,y+360)-90))-w,v=this.points,u=F.dataLabels.distance,F=F.ignoreHiddenPoint,q,t=v.length,m;if(!H){this.center=H=this.getCenter()}this.getX=function(p,I){z=aX.asin(bo((p-H[1])/(H[2]/2+u),1));return H[0]+(I?-1:1)*aS(z)*(H[2]/2+u)};for(q=0;q<t;q++){m=v[q];C=w+G*y;if(!F||m.visible){G+=m.percentage/100}A=w+G*y;m.shapeType="arc";m.shapeArgs={x:H[0],y:H[1],r:H[2]/2,innerR:H[3]/2,start:ax(C*1000)/1000,end:ax(A*1000)/1000};z=(A+C)/2;z>1.5*bH?z-=2*bH:z<-bH/2&&(z+=2*bH);m.slicedTranslation={translateX:ax(aS(z)*E),translateY:ax(f(z)*E)};C=aS(z)*H[2]/2;A=f(z)*H[2]/2;m.tooltipPos=[H[0]+C*0.7,H[1]+A*0.7];m.half=z<-bH/2||z>bH/2?1:0;m.angle=z;D=bo(D,u/2);m.labelPos=[H[0]+C+aS(z)*u,H[1]+A+f(z)*u,H[0]+C+aS(z)*D,H[1]+A+f(z)*D,H[0]+C,H[1]+A,u<0?"center":m.half?"right":"left",z]}},drawGraph:null,drawPoints:function(){var p=this,m=p.chart.renderer,w,v,u=p.options.shadow,t,q;if(u&&!p.shadowGroup){p.shadowGroup=m.g("shadow").add(p.group)}aB(p.points,function(y){v=y.graphic;q=y.shapeArgs;t=y.shadowGroup;if(u&&!t){t=y.shadowGroup=m.g("shadow").add(p.shadowGroup)}w=y.sliced?y.slicedTranslation:{translateX:0,translateY:0};t&&t.attr(w);v?v.animate(aA(q,w)):y.graphic=v=m[y.shapeType](q).setRadialReference(p.center).attr(y.pointAttr[y.selected?"select":""]).attr({"stroke-linejoin":"round"}).attr(w).add(p.group).shadow(u,t);y.visible!==void 0&&y.setVisible(y.visible)})},sortByAngle:function(p,m){p.sort(function(q,t){return q.angle!==void 0&&(t.angle-q.angle)*m})},drawLegendSymbol:a6.drawRectangle,getCenter:aU.getCenter,getSymbol:bK};aZ=j(a4,aZ);bi.pie=aZ;a4.prototype.drawDataLabels=function(){var z=this,y=z.options,w=y.cursor,v=y.dataLabels,u=z.points,t,q,p,m;if(v.enabled||z._hasPointLabels){z.dlProcessOptions&&z.dlProcessOptions(v),m=z.plotGroup("dataLabelsGroup","data-labels","hidden",v.zIndex||6),!z.hasRendered&&aE(v.defer,!0)&&(m.attr({opacity:0}),a8(z,"afterAnimate",function(){z.dataLabelsGroup.show()[y.animation?"animate":"attr"]({opacity:1},{duration:200})})),q=v,aB(u,function(A){var F,C=A.dataLabel,G,H,E=A.connector,D=!0;t=A.options&&A.options.dataLabels;F=aE(t&&t.enabled,q.enabled);if(C&&!F){A.dataLabel=C.destroy()}else{if(F){v=av(q,t);F=v.rotation;G=A.getLabelConfig();p=v.format?bn(v.format,G):v.formatter.call(G,v);v.style.color=aE(v.color,v.style.color,z.color,"black");if(C){if(az(p)){C.attr({text:p}),D=!1}else{if(A.dataLabel=C=C.destroy(),E){A.connector=E.destroy()}}}else{if(az(p)){C={fill:v.backgroundColor,stroke:v.borderColor,"stroke-width":v.borderWidth,r:v.borderRadius||0,rotation:F,padding:v.padding,zIndex:1};for(H in C){C[H]===ay&&delete C[H]}C=A.dataLabel=z.chart.renderer[F?"text":"label"](p,0,-999,null,null,null,v.useHTML).attr(C).css(aA(v.style,w&&{cursor:w})).add(m).shadow(v.shadow)}}C&&z.alignDataLabel(A,C,v,null,D)}}})}};a4.prototype.alignDataLabel=function(A,z,y,w,v){var u=this.chart,t=u.inverted,q=aE(A.plotX,-999),p=aE(A.plotY,-999),m=z.getBBox();if(A=this.visible&&(A.series.forceDL||u.isInsidePlot(q,ax(p),t)||w&&u.isInsidePlot(q,t?w.x+1:w.y+w.height-1,t))){w=aA({x:t?u.plotWidth-p:q,y:ax(t?u.plotHeight-q:p),width:0,height:0},w),aA(y,{width:m.width,height:m.height}),y.rotation?(t={align:y.align,x:w.x+y.x+w.width/2,y:w.y+y.y+w.height/2},z[v?"attr":"animate"](t)):(z.align(y,null,w),t=z.alignAttr,aE(y.overflow,"justify")==="justify"?this.justifyDataLabel(z,y,t,m,w,v):aE(y.crop,!0)&&(A=u.isInsidePlot(t.x,t.y)&&u.isInsidePlot(t.x+m.width,t.y+m.height)))}if(!A){z.attr({y:-999}),z.placed=!1}};a4.prototype.justifyDataLabel=function(C,A,z,y,w,v){var u=this.chart,t=A.align,q=A.verticalAlign,p,m;p=z.x;if(p<0){t==="right"?A.align="left":A.x=-p,m=!0}p=z.x+y.width;if(p>u.plotWidth){t==="left"?A.align="right":A.x=u.plotWidth-p,m=!0}p=z.y;if(p<0){q==="bottom"?A.verticalAlign="top":A.y=-p,m=!0}p=z.y+y.height;if(p>u.plotHeight){q==="top"?A.verticalAlign="bottom":A.y=u.plotHeight-p,m=!0}if(m){C.placed=!v,C.align(A,null,w)}};if(bi.pie){bi.pie.prototype.drawDataLabels=function(){var ch=this,cg=ch.data,cf,ce=ch.chart,cd=ch.options.dataLabels,cc=aE(cd.connectorPadding,10),cb=aE(cd.connectorWidth,1),ca=ce.plotWidth,ce=ce.plotHeight,b9,b8,b7=aE(cd.softConnector,!0),b6=cd.distance,b4=ch.center,b5=b4[2]/2,bb=b4[1],ab=b6>0,Y,U,S,O,M=[[],[]],b3,aa,V,Z,ba,W=[0,0,0,0],u=function(t,q){return q.y-t.y};if(ch.visible&&(cd.enabled||ch._hasPointLabels)){a4.prototype.drawDataLabels.apply(ch);aB(cg,function(q){q.dataLabel&&q.visible&&M[q.half].push(q)});for(Z=0;!O&&cg[Z];){O=cg[Z]&&cg[Z].dataLabel&&(cg[Z].dataLabel.getBBox().height||21),Z++}for(Z=2;Z--;){var cg=[],v=[],T=M[Z],R=T.length,X;ch.sortByAngle(T,Z-0.5);if(b6>0){for(ba=bb-b5-b6;ba<=bb+b5+b6;ba+=O){cg.push(ba)}U=cg.length;if(R>U){cf=[].concat(T);cf.sort(u);for(ba=R;ba--;){cf[ba].rank=ba}for(ba=R;ba--;){T[ba].rank>=U&&T.splice(ba,1)}R=T.length}for(ba=0;ba<R;ba++){cf=T[ba];S=cf.labelPos;cf=9999;var m,p;for(p=0;p<U;p++){m=a7(cg[p]-S[1]),m<cf&&(cf=m,X=p)}if(X<ba&&cg[ba]!==null){X=ba}else{for(U<R-ba+X&&cg[ba]!==null&&(X=U-R+ba);cg[X]===null;){X++}}v.push({i:X,y:cg[X]});cg[X]=null}v.sort(u)}for(ba=0;ba<R;ba++){cf=T[ba];S=cf.labelPos;Y=cf.dataLabel;V=cf.visible===!1?"hidden":"visible";cf=S[1];if(b6>0){if(U=v.pop(),X=U.i,aa=U.y,cf>aa&&cg[X+1]!==null||cf<aa&&cg[X-1]!==null){aa=cf}}else{aa=cf}b3=cd.justify?b4[0]+(Z?-1:1)*(b5+b6):ch.getX(X===0||X===cg.length-1?cf:aa,Z);Y._attr={visibility:V,align:S[6]};Y._pos={x:b3+cd.x+({left:cc,right:-cc}[S[6]]||0),y:aa+cd.y-10};Y.connX=b3;Y.connY=aa;if(this.options.size===null){U=Y.width,b3-U<cc?W[3]=aw(ax(U-b3+cc),W[3]):b3+U>ca-cc&&(W[1]=aw(ax(b3+U-ca+cc),W[1])),aa-O/2<0?W[0]=aw(ax(-aa+O/2),W[0]):aa+O/2>ce&&(W[2]=aw(ax(aa+O/2-ce),W[2]))}}}if(bE(W)===0||this.verifyDataLabelOverflow(W)){this.placeDataLabels(),ab&&cb&&aB(this.points,function(q){b9=q.connector;S=q.labelPos;if((Y=q.dataLabel)&&Y._pos){V=Y._attr.visibility,b3=Y.connX,aa=Y.connY,b8=b7?["M",b3+(S[6]==="left"?5:-5),aa,"C",b3,aa,2*S[2]-S[4],2*S[3]-S[5],S[2],S[3],"L",S[4],S[5]]:["M",b3+(S[6]==="left"?5:-5),aa,"L",S[2],S[3],"L",S[4],S[5]],b9?(b9.animate({d:b8}),b9.attr("visibility",V)):q.connector=b9=ch.chart.renderer.path(b8).attr({"stroke-width":cb,stroke:cd.connectorColor||q.color||"#606060",visibility:V}).add(ch.dataLabelsGroup)}else{if(b9){q.connector=b9.destroy()}}})}}},bi.pie.prototype.placeDataLabels=function(){aB(this.points,function(p){var p=p.dataLabel,m;if(p){(m=p._pos)?(p.attr(p._attr),p[p.moved?"animate":"attr"](m),p.moved=!0):p&&p.attr({y:-999})}})},bi.pie.prototype.alignDataLabel=bK,bi.pie.prototype.verifyDataLabelOverflow=function(p){var m=this.center,v=this.options,u=v.center,t=v=v.minSize||80,q;u[0]!==null?t=aw(m[2]-aw(p[1],p[3]),v):(t=aw(m[2]-p[1]-p[3],v),m[0]+=(p[3]-p[1])/2);u[1]!==null?t=aw(bo(t,m[2]-aw(p[0],p[2])),v):(t=aw(bo(t,m[2]-p[0]-p[2]),v),m[1]+=(p[0]-p[2])/2);t<m[2]?(m[2]=t,this.translate(m),aB(this.points,function(w){if(w.dataLabel){w.dataLabel._pos=null}}),this.drawDataLabels&&this.drawDataLabels()):q=!0;return q}}if(bi.column){bi.column.prototype.alignDataLabel=function(A,z,y,w,v){var u=this.chart,t=u.inverted,q=A.dlBox||A.shapeArgs,p=A.below||A.plotY>aE(this.translatedThreshold,u.plotSizeY),m=aE(y.inside,!!this.options.stacking);if(q&&(w=av(q),t&&(w={x:u.plotWidth-w.y-w.height,y:u.plotHeight-w.x-w.width,width:w.height,height:w.width}),!m)){t?(w.x+=p?0:w.width,w.width=0):(w.y+=p?w.height:0,w.height=0)}y.align=aE(y.align,!t||m?"center":p?"right":"left");y.verticalAlign=aE(y.verticalAlign,t||m?"middle":p?"top":"bottom");a4.prototype.alignDataLabel.call(this,A,z,y,w,v)}}aZ=a0.TrackerMixin={drawTrackerPoint:function(){var p=this,m=p.chart,v=m.pointer,u=p.options.cursor,t=u&&{cursor:u},q=function(z){var y=z.target,w;if(m.hoverSeries!==p){p.onMouseOver()}for(;y&&!w;){w=y.point,y=y.parentNode}if(w!==ay&&w!==m.hoverPoint){w.onMouseOver(z)}};aB(p.points,function(w){if(w.graphic){w.graphic.element.point=w}if(w.dataLabel){w.dataLabel.element.point=w}});if(!p._hasTracking){aB(p.trackerGroups,function(w){if(p[w]&&(p[w].addClass("highcharts-tracker").on("mouseover",q).on("mouseout",function(y){v.onTrackerMouseOut(y)}).css(t),bp)){p[w].on("touchstart",q)}}),p._hasTracking=!0}},drawTrackerGraph:function(){var I=this,H=I.options,G=H.trackByArea,F=[].concat(G?I.areaPath:I.graphPath),E=F.length,D=I.chart,C=D.pointer,A=D.renderer,z=D.options.tooltip.snap,y=I.tracker,w=H.cursor,v=w&&{cursor:w},w=I.singlePoints,u,t=function(){if(D.hoverSeries!==I){I.onMouseOver()}},p="rgba(192,192,192,"+(bA?0.0001:0.002)+")";if(E&&!G){for(u=E+1;u--;){F[u]==="M"&&F.splice(u+1,0,F[u+1]-z,F[u+2],"L"),(u&&F[u]==="M"||u===E)&&F.splice(u,0,"L",F[u-2]+z,F[u-1])}}for(u=0;u<w.length;u++){E=w[u],F.push("M",E.plotX-z,E.plotY,"L",E.plotX+z,E.plotY)}y?y.attr({d:F}):(I.tracker=A.path(F).attr({"stroke-linejoin":"round",visibility:I.visible?"visible":"hidden",stroke:p,fill:G?p:a1,"stroke-width":H.lineWidth+(G?0:2*z),zIndex:2}).add(I.group),aB([I.tracker,I.markerGroup],function(m){m.addClass("highcharts-tracker").on("mouseover",t).on("mouseout",function(q){C.onTrackerMouseOut(q)}).css(v);if(bp){m.on("touchstart",t)}}))}};if(bi.column){bC.prototype.drawTracker=aZ.drawTrackerPoint}if(bi.pie){bi.pie.prototype.drawTracker=aZ.drawTrackerPoint}if(bi.scatter){aj.prototype.drawTracker=aZ.drawTrackerPoint}aA(bV.prototype,{setItemEvents:function(p,m,v,u,t){var q=this;(v?m:p.legendGroup).on("mouseover",function(){p.setState("hover");m.css(q.options.itemHoverStyle)}).on("mouseout",function(){m.css(p.visible?u:t);p.setState()}).on("click",function(w){var y=function(){p.setVisible()},w={browserEvent:w};p.firePointEvent?p.firePointEvent("legendItemClick",w,y):bm(p,"legendItemClick",w,y)})},createCheckboxForItem:function(m){m.checkbox=aT("input",{type:"checkbox",checked:m.selected,defaultChecked:m.selected},this.options.itemCheckboxStyle,this.chart.container);a8(m.checkbox,"click",function(p){bm(m,"checkboxClick",{checked:p.target.checked},function(){m.select()})})}});bk.legend.itemStyle.cursor="pointer";aA(d.prototype,{showResetZoom:function(){var p=this,m=bk.lang,v=p.options.chart.resetZoomButton,u=v.theme,t=u.states,q=v.relativeTo==="chart"?null:"plotBox";this.resetZoomButton=p.renderer.button(m.resetZoom,null,null,function(){p.zoomOut()},u,t&&t.hover).attr({align:v.position.align,title:m.resetZoomTitle}).add().align(v.position,!1,q)},zoomOut:function(){var m=this;bm(m,"selection",{resetSelection:!0},function(){m.zoom()})},zoom:function(p){var m,u=this.pointer,t=!1,q;!p||p.resetSelection?aB(this.axes,function(v){m=v.zoom()}):aB(p.xAxis.concat(p.yAxis),function(v){var y=v.axis,w=y.isXAxis;if(u[w?"zoomX":"zoomY"]||u[w?"pinchX":"pinchY"]){m=y.zoom(v.min,v.max),y.displayBtn&&(t=!0)}});q=this.resetZoomButton;if(t&&!q){this.showResetZoom()}else{if(!t&&aD(q)){this.resetZoomButton=q.destroy()}}m&&this.redraw(aE(this.options.chart.animation,p&&p.animation,this.pointCount<100))},pan:function(p,m){var u=this,t=u.hoverPoints,q;t&&aB(t,function(v){v.setState()});aB(m==="xy"?[1,0]:[1],function(v){var D=p[v?"chartX":"chartY"],C=u[v?"xAxis":"yAxis"][0],A=u[v?"mouseDownX":"mouseDownY"],z=(C.pointRange||0)/2,y=C.getExtremes(),w=C.toValue(A-D,!0)+z,A=C.toValue(A+u[v?"plotWidth":"plotHeight"]-D,!0)-z;C.series.length&&w>bo(y.dataMin,y.min)&&A<aw(y.dataMax,y.max)&&(C.setExtremes(w,A,!1,!1,{trigger:"pan"}),q=!0);u[v?"mouseDownX":"mouseDownY"]=D});q&&u.redraw(!1);bh(u.container,{cursor:"move"})}});aA(ah.prototype,{select:function(p,m){var u=this,t=u.series,q=t.chart,p=aE(p,!u.selected);u.firePointEvent(p?"select":"unselect",{accumulate:m},function(){u.selected=u.options.selected=p;t.options.data[aI(u,t.data)]=u.options;u.setState(p&&"select");m||aB(q.getSelectedPoints(),function(v){if(v.selected&&v!==u){v.selected=v.options.selected=!1,t.options.data[aI(v,t.data)]=v.options,v.setState(""),v.firePointEvent("unselect")}})})},onMouseOver:function(p){var m=this.series,u=m.chart,t=u.tooltip,q=u.hoverPoint;if(q&&q!==this){q.onMouseOut()}this.firePointEvent("mouseOver");t&&(!t.shared||m.noSharedTooltip)&&t.refresh(this,p);this.setState("hover");u.hoverPoint=this},onMouseOut:function(){var p=this.series.chart,m=p.hoverPoints;if(!m||aI(this,m)===-1){this.firePointEvent("mouseOut"),this.setState(),p.hoverPoint=null}},importEvents:function(){if(!this.hasImportedEvents){var p=av(this.series.options.point,this.options).events,m;this.events=p;for(m in p){a8(this,m,p[m])}this.hasImportedEvents=!0}},setState:function(I,H){var G=this.plotX,F=this.plotY,E=this.series,D=E.options.states,C=a5[E.type].marker&&E.options.marker,A=C&&!C.enabled,z=C&&C.states[I],y=z&&z.enabled===!1,w=E.stateMarkerGraphic,v=this.marker||{},u=E.chart,t=E.halo,q,I=I||"";q=this.pointAttr[I]||E.pointAttr[I];if(!(I===this.state&&!H||this.selected&&I!=="select"||D[I]&&D[I].enabled===!1||I&&(y||A&&z.enabled===!1)||I&&v.states&&v.states[I]&&v.states[I].enabled===!1)){if(this.graphic){C=C&&this.graphic.symbolName&&q.r,this.graphic.attr(av(q,C?{x:G-C,y:F-C,width:2*C,height:2*C}:{})),w&&w.hide()}else{if(I&&z){if(C=z.radius,v=v.symbol||E.symbol,w&&w.currentSymbol!==v&&(w=w.destroy()),w){w[H?"animate":"attr"]({x:G-C,y:F-C})}else{if(v){E.stateMarkerGraphic=w=u.renderer.symbol(v,G-C,F-C,2*C,2*C).attr(q).add(E.markerGroup),w.currentSymbol=v}}}if(w){w[I&&u.isInsidePlot(G,F,u.inverted)?"show":"hide"]()}}if((G=D[I]&&D[I].halo)&&G.size){if(!t){E.halo=t=u.renderer.path().add(E.seriesGroup)}t.attr(aA({fill:bN(this.color||E.color).setOpacity(G.opacity).get()},G.attributes))[H?"animate":"attr"]({d:this.haloPath(G.size)})}else{t&&t.attr({d:[]})}this.state=I}},haloPath:function(p){var m=this.series,u=m.chart,t=m.getPlotBox(),q=u.inverted;return u.renderer.symbols.circle(t.translateX+(q?m.yAxis.len-this.plotY:this.plotX)-p,t.translateY+(q?m.xAxis.len-this.plotX:this.plotY)-p,p*2,p*2)}});aA(a4.prototype,{onMouseOver:function(){var p=this.chart,m=p.hoverSeries;if(m&&m!==this){m.onMouseOut()}this.options.events.mouseOver&&bm(this,"mouseOver");this.setState("hover");p.hoverSeries=this},onMouseOut:function(){var p=this.options,m=this.chart,t=m.tooltip,q=m.hoverPoint;if(q){q.onMouseOut()}this&&p.events.mouseOut&&bm(this,"mouseOut");t&&!p.stickyTracking&&(!t.shared||this.noSharedTooltip)&&t.hide();this.setState();m.hoverSeries=null},setState:function(p){var m=this.options,u=this.graph,t=this.graphNeg,q=m.states,m=m.lineWidth,p=p||"";if(this.state!==p){this.state=p,q[p]&&q[p].enabled===!1||(p&&(m=q[p].lineWidth||m+1),u&&!u.dashstyle&&(p={"stroke-width":m},u.attr(p),t&&t.attr(p)))}},setVisible:function(p,m){var y=this,w=y.chart,v=y.legendItem,u,t=w.options.chart.ignoreHiddenSeries,q=y.visible;u=(y.visible=p=y.userOptions.visible=p===ay?!q:p)?"show":"hide";aB(["group","dataLabelsGroup","markerGroup","tracker"],function(z){if(y[z]){y[z][u]()}});if(w.hoverSeries===y){y.onMouseOut()}v&&w.legend.colorizeItem(y,p);y.isDirty=!0;y.options.stacking&&aB(w.series,function(z){if(z.options.stacking&&z.visible){z.isDirty=!0}});aB(y.linkedSeries,function(z){z.setVisible(p,!1)});if(t){w.isDirtyBox=!0}m!==!1&&w.redraw();bm(y,u)},setTooltipPoints:function(A){var z=[],y,w,v=this.xAxis,u=v&&v.getExtremes(),t=v?v.tooltipLen||v.len:this.chart.plotSizeX,q,p,m=[];if(!(this.options.enableMouseTracking===!1||this.singularTooltips)){if(A){this.tooltipPoints=null}aB(this.segments||this.points,function(C){z=z.concat(C)});v&&v.reversed&&(z=z.reverse());this.orderTooltipPoints&&this.orderTooltipPoints(z);A=z.length;for(p=0;p<A;p++){if(v=z[p],y=v.x,y>=u.min&&y<=u.max){q=z[p+1];y=w===ay?0:w+1;for(w=z[p+1]?bo(aw(0,aY((v.clientX+(q?q.wrappedClientX||q.clientX:t))/2)),t):t;y>=0&&y<=w;){m[y++]=v}}}this.tooltipPoints=m}},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(m){this.selected=m=m===ay?!this.selected:m;if(this.checkbox){this.checkbox.checked=m}bm(this,m?"select":"unselect")},drawTracker:aZ.drawTrackerGraph});aA(a0,{Axis:bX,Chart:d,Color:bN,Point:ah,Tick:c,Renderer:bQ,Series:a4,SVGElement:a3,SVGRenderer:bs,arrayMin:bM,arrayMax:bE,charts:aW,dateFormat:aC,format:bn,pathAnim:aN,getOptions:function(){return bk},hasBidiBug:bL,isTouchDevice:aL,numberFormat:bY,seriesTypes:bi,setOptions:function(m){bk=av(!0,bk,m);bc();return bk},addEvent:a8,removeEvent:aV,createElement:aT,discardElement:aQ,css:bh,each:aB,extend:aA,map:by,merge:av,pick:aE,splat:o,extendClass:j,pInt:aq,wrap:b2,svg:bA,canvas:bT,vml:!bA&&!bT,product:"Highcharts",version:"4.0.1"})})();var chartArgs={chart:{animation:false,alignTicks:false,renderTo:"bpmChart",type:"line",marginRight:10},colors:["#61658E","#7798BF","#55BF3B","#DF5353","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],title:null,xAxis:{title:{text:"Showing last 5 minutes"},lineWidth:0,minorGridLineWidth:0,lineColor:"transparent",labels:{enabled:false},minorTickLength:0,tickLength:0},yAxis:{title:null},tooltip:{formatter:function(){return"<b>"+this.series.name+"<br/>"+Highcharts.numberFormat(this.y,2)+"</b><br/>Time: "+Highcharts.numberFormat(Math.round(10*60*this.x)/10,2)+" seconds<br/>"}},legend:{enabled:false},exporting:{enabled:false},series:[{name:"Heart Rate (BPM)",data:[],shadow:false,lineWidth:4,marker:{radius:5}}]};Highcharts.setOptions({global:{useUTC:false},chart:{backgroundColor:{linearGradient:[0,0,0,400],stops:[[0,"rgb(80, 80, 80)"],[1,"rgb(40, 40, 40)"]]},borderWidth:0,borderRadius:15,plotBackgroundColor:null,plotShadow:false,plotBorderWidth:0},title:{style:{color:"#000",font:"16px Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif"}},subtitle:{style:{color:"#DDD",font:"12px Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif"}},xAxis:{gridLineWidth:0,lineColor:"#777",tickColor:"#777",labels:{style:{color:"#aaa",fontWeight:"bold"}},title:{style:{color:"#888",font:"bold 12px Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif"}}},yAxis:{alternateGridColor:null,minorTickInterval:null,gridLineColor:"rgba(128, 128, 128, .2)",lineWidth:0,tickWidth:0,labels:{style:{color:"#aaa",fontWeight:"bold"}},title:{style:{color:"#888",font:"bold 12px Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif"}}},legend:{itemStyle:{color:"#CCC"},itemHoverStyle:{color:"#FFF"},itemHiddenStyle:{color:"#333"}},credits:{style:{right:"50px"}},labels:{style:{color:"#CCC"}},tooltip:{backgroundColor:{linearGradient:[0,0,0,50],stops:[[0,"rgba(96, 96, 96, .8)"],[1,"rgba(48, 48, 48, .8)"]]},borderWidth:0,style:{color:"#FFF"}},plotOptions:{line:{dataLabels:{color:"#CCC"},marker:{lineColor:"#333"}},areaspline:{marker:{enabled:false}},scatter:{marker:{lineColor:"#333"}}},toolbar:{itemStyle:{color:"#CCC"}}});$(function(){$.fx.speeds._default=300;$(document).ready(function(){var n;var p;var f;var h;var c;var e=0;var o=0;var q=0;var b=function(){$(HELP_LABEL_SELECTOR).animate({opacity:1});$(BPM_LABEL_SELECTOR).animate({opacity:FADED_LABEL_OPACITY});model.fullHeartCount(0)};var a=function(){$(BPM_LABEL_SELECTOR).animate({opacity:1});$(HELP_LABEL_SELECTOR).animate({opacity:FADED_LABEL_OPACITY})};var s=function(){var v="averageBpmLine";var x=n.series[0].data;var u=0;var A=0;for(i in x){if(x[i].x>p&&x[i].x<f){A+=x[i].y;u++}}var t=Math.round(A/u);n.yAxis[0].removePlotLine(v);n.yAxis[0].addPlotLine({value:t,color:"white",width:3,id:v,label:{text:t+" BPM",align:"center",y:-5,style:{color:"white","font-size":"16pt"}},dashStyle:"LongDash",zIndex:5});if(t){var z;var w=Date.now().getTime();var y=model.historyItems.shift();if(y&&w-y.timestamp<MAX_CHART_RANGE*60*1000){z=y.timestamp}else{if(y){model.historyItems.unshift(y)}z=w}model.historyItems.unshift({timestamp:z,bpm:t});saveHistory()}};var g=function(u){var t=(Date.now()-c)/(60*1000);k();s();n.series[0].addPoint([t,u])};var m=function(){$(BPM_LABEL_SELECTOR).css({"font-size":FONT_SIZE_BEAT});setTimeout(l,BEAT_EFFECT_DURATION)};var l=function(){$(BPM_LABEL_SELECTOR).css({"font-size":FONT_SIZE_BPM})};var k=function(){var t=(Date.now()-c)/(60*1000);p=Math.max(t-MAX_CHART_RANGE,0);f=t;n.xAxis[0].setExtremes(p,f,false,false)};var d=function(){if(!$("#container-"+TAB_NAMES[0]).is(":visible")){return}e++;m();a();if(h){clearTimeout(h)}h=setTimeout(b,TAP_COUNT_TIMEOUT);if(Date.now()-q>TAP_COUNT_TIMEOUT){e=0}q=Date.now();model.fullHeartCount(1+e%TAPS_PER_MEASUREMENT);if(e==0){o=Date.now()}else{if(e%TAPS_PER_MEASUREMENT==0){var t=(Date.now()-o)/1000;var u=TAPS_PER_MEASUREMENT*60/t;o=Date.now();if(!c){c=o}$(BPM_LABEL_SELECTOR).text(Highcharts.numberFormat(u,0));setTimeout(function(){g(u)},PLOT_POINT_DELAY)}}};var j=function(t){var u=$(t.container);$(CHART_CLICK_SHIELD_SELECTOR).css({top:u.offset().top,left:u.offset().left,width:u.width(),height:u.height()})};$("#container-Measure").on("touchstart",function(){d()});if(!isIos){$("#container-Measure").mousedown(function(){d()})}$(document).keypress(function(){d()});$(document).on("tabChanged",function(){j(n)});n=new Highcharts.Chart(chartArgs,j);h=setTimeout(b,INITIAL_SHOW_HELP_DELAY);loadHistory();$(".noselect").on("onselectstart",function(){return false})})});