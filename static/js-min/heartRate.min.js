(function(f,g,h,d){function e(m){throw m}var c=void 0,a=!0,l=null,j=!1;function b(m){return function(){return m}}function k(o){function s(t,v,u){u&&v!==n.k.r(t)&&n.k.S(t,v);v!==n.k.r(t)&&n.a.va(t,"change")}var n="undefined"!==typeof o?o:{};n.b=function(t,x){for(var w=t.split("."),v=n,u=0;u<w.length-1;u++){v=v[w[u]]}v[w[w.length-1]]=x};n.B=function(t,v,u){t[v]=u};n.version="2.1.0";n.b("version",n.version);n.a=new function(){function C(D,F){if("input"!==n.a.o(D)||!D.type||"click"!=F.toLowerCase()){return j}var E=D.type;return"checkbox"==E||"radio"==E}var B=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,A={},y={};A[/Firefox\/2/i.test(h.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"];A.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" ");for(var x in A){var z=A[x];if(z.length){for(var w=0,u=z.length;w<u;w++){y[z[w]]=x}}}var t={propertychange:a},v=function(){for(var E=3,D=g.createElement("div"),F=D.getElementsByTagName("i");D.innerHTML="<!--[if gt IE "+ ++E+"]><i></i><![endif]-->",F[0];){}return 4<E?E:c}();return{Ca:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],v:function(E,D){for(var G=0,F=E.length;G<F;G++){D(E[G])}},j:function(E,D){if("function"==typeof Array.prototype.indexOf){return Array.prototype.indexOf.call(E,D)}for(var G=0,F=E.length;G<F;G++){if(E[G]===D){return G}}return -1},ab:function(E,D,H){for(var G=0,F=E.length;G<F;G++){if(D.call(H,E[G])){return E[G]}}return l},ba:function(D,F){var E=n.a.j(D,F);0<=E&&D.splice(E,1)},za:function(D){for(var D=D||[],G=[],F=0,E=D.length;F<E;F++){0>n.a.j(G,D[F])&&G.push(D[F])}return G},T:function(E,D){for(var E=E||[],H=[],G=0,F=E.length;G<F;G++){H.push(D(E[G]))}return H},aa:function(E,D){for(var E=E||[],H=[],G=0,F=E.length;G<F;G++){D(E[G])&&H.push(E[G])}return H},N:function(E,D){if(D instanceof Array){E.push.apply(E,D)}else{for(var G=0,F=D.length;G<F;G++){E.push(D[G])}}return E},extend:function(E,D){if(D){for(var F in D){D.hasOwnProperty(F)&&(E[F]=D[F])}}return E},ga:function(D){for(;D.firstChild;){n.removeNode(D.firstChild)}},Ab:function(D){for(var D=n.a.L(D),G=g.createElement("div"),F=0,E=D.length;F<E;F++){n.F(D[F]),G.appendChild(D[F])}return G},X:function(D,G){n.a.ga(D);if(G){for(var F=0,E=G.length;F<E;F++){D.appendChild(G[F])}}},Na:function(D,J){var H=D.nodeType?[D]:D;if(0<H.length){for(var G=H[0],I=G.parentNode,F=0,E=J.length;F<E;F++){I.insertBefore(J[F],G)}F=0;for(E=H.length;F<E;F++){n.removeNode(H[F])}}},Pa:function(E,D){0<=h.userAgent.indexOf("MSIE 6")?E.setAttribute("selected",D):E.selected=D},w:function(D){return(D||"").replace(B,"")},Ib:function(D,J){for(var H=[],G=(D||"").split(J),F=0,I=G.length;F<I;F++){var E=n.a.w(G[F]);""!==E&&H.push(E)}return H},Hb:function(E,D){E=E||"";return D.length>E.length?j:E.substring(0,D.length)===D},eb:function(E,D){for(var G="return ("+E+")",F=0;F<D;F++){G="with(sc["+F+"]) { "+G+" } "}return new Function("sc",G)},kb:function(E,D){if(D.compareDocumentPosition){return 16==(D.compareDocumentPosition(E)&16)}for(;E!=l;){if(E==D){return a}E=E.parentNode}return j},fa:function(D){return n.a.kb(D,D.ownerDocument)},o:function(D){return D&&D.tagName&&D.tagName.toLowerCase()},n:function(D,H,G){var F=v&&t[H];if(!F&&"undefined"!=typeof jQuery){if(C(D,H)){var E=G,G=function(J,I){var K=this.checked;I&&(this.checked=I.fb!==a);E.call(this,J);this.checked=K}}jQuery(D).bind(H,G)}else{!F&&"function"==typeof D.addEventListener?D.addEventListener(H,G,j):"undefined"!=typeof D.attachEvent?D.attachEvent("on"+H,function(I){G.call(D,I)}):e(Error("Browser doesn't support addEventListener or attachEvent"))}},va:function(D,F){(!D||!D.nodeType)&&e(Error("element must be a DOM node when calling triggerEvent"));if("undefined"!=typeof jQuery){var E=[];C(D,F)&&E.push({fb:D.checked});jQuery(D).trigger(F,E)}else{"function"==typeof g.createEvent?"function"==typeof D.dispatchEvent?(E=g.createEvent(y[F]||"HTMLEvents"),E.initEvent(F,a,a,f,0,0,0,0,0,j,j,j,j,0,D),D.dispatchEvent(E)):e(Error("The supplied element doesn't support dispatchEvent")):"undefined"!=typeof D.fireEvent?(C(D,F)&&(D.checked=D.checked!==a),D.fireEvent("on"+F)):e(Error("Browser doesn't support triggering events"))}},d:function(D){return n.la(D)?D():D},Ua:function(D,H,G){var F=(D.className||"").split(/\s+/),E=0<=n.a.j(F,H);if(G&&!E){D.className+=(F[0]?" ":"")+H}else{if(E&&!G){G="";for(E=0;E<F.length;E++){F[E]!=H&&(G+=F[E]+" ")}D.className=n.a.w(G)}}},Qa:function(D,F){var E=n.a.d(F);if(E===l||E===c){E=""}"innerText" in D?D.innerText=E:D.textContent=E;9<=v&&(D.style.display=D.style.display)},lb:function(E){if(9<=v){var D=E.style.width;E.style.width=0;E.style.width=D}},Eb:function(D,F){for(var D=n.a.d(D),F=n.a.d(F),G=[],E=D;E<=F;E++){G.push(E)}return G},L:function(E){for(var D=[],F=0,G=E.length;F<G;F++){D.push(E[F])}return D},tb:6===v,ub:7===v,ja:v,Da:function(D,G){for(var I=n.a.L(D.getElementsByTagName("input")).concat(n.a.L(D.getElementsByTagName("textarea"))),F="string"==typeof G?function(J){return J.name===G}:function(J){return G.test(J.name)},E=[],H=I.length-1;0<=H;H--){F(I[H])&&E.push(I[H])}return E},Bb:function(D){return"string"==typeof D&&(D=n.a.w(D))?f.JSON&&f.JSON.parse?f.JSON.parse(D):(new Function("return "+D))():l},sa:function(D,E,F){("undefined"==typeof JSON||"undefined"==typeof JSON.stringify)&&e(Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js"));return JSON.stringify(n.a.d(D),E,F)},Cb:function(N,J,M){var M=M||{},I=M.params||{},H=M.includeFields||this.Ca,K=N;if("object"==typeof N&&"form"===n.a.o(N)){for(var K=N.action,G=H.length-1;0<=G;G--){for(var D=n.a.Da(N,H[G]),E=D.length-1;0<=E;E--){I[D[E].name]=D[E].value}}}var J=n.a.d(J),F=g.createElement("form");F.style.display="none";F.action=K;F.method="post";for(var L in J){N=g.createElement("input"),N.name=L,N.value=n.a.sa(n.a.d(J[L])),F.appendChild(N)}for(L in I){N=g.createElement("input"),N.name=L,N.value=I[L],F.appendChild(N)}g.body.appendChild(F);M.submitter?M.submitter(F):F.submit();setTimeout(function(){F.parentNode.removeChild(F)},0)}}};n.b("utils",n.a);n.b("utils.arrayForEach",n.a.v);n.b("utils.arrayFirst",n.a.ab);n.b("utils.arrayFilter",n.a.aa);n.b("utils.arrayGetDistinctValues",n.a.za);n.b("utils.arrayIndexOf",n.a.j);n.b("utils.arrayMap",n.a.T);n.b("utils.arrayPushAll",n.a.N);n.b("utils.arrayRemoveItem",n.a.ba);n.b("utils.extend",n.a.extend);n.b("utils.fieldsIncludedWithJsonPost",n.a.Ca);n.b("utils.getFormFields",n.a.Da);n.b("utils.postJson",n.a.Cb);n.b("utils.parseJson",n.a.Bb);n.b("utils.registerEventHandler",n.a.n);n.b("utils.stringifyJson",n.a.sa);n.b("utils.range",n.a.Eb);n.b("utils.toggleDomNodeCssClass",n.a.Ua);n.b("utils.triggerEvent",n.a.va);n.b("utils.unwrapObservable",n.a.d);Function.prototype.bind||(Function.prototype.bind=function(t){var v=this,u=Array.prototype.slice.call(arguments),t=u.shift();return function(){return v.apply(t,u.concat(Array.prototype.slice.call(arguments)))}});n.a.f=new function(){var t=0,v="__ko__"+(new Date).getTime(),u={};return{get:function(w,y){var x=n.a.f.getAll(w,j);return x===c?c:x[y]},set:function(w,y,x){x===c&&n.a.f.getAll(w,j)===c||(n.a.f.getAll(w,a)[y]=x)},getAll:function(w,x){var y=w[v];if(!(y&&"null"!==y)){if(!x){return}y=w[v]="ko"+t++;u[y]={}}return u[y]},clear:function(x){var w=x[v];w&&(delete u[w],x[v]=l)}}};n.b("utils.domData",n.a.f);n.b("utils.domData.clear",n.a.f.clear);n.a.G=new function(){function t(y,A){var z=n.a.f.get(y,w);z===c&&A&&(z=[],n.a.f.set(y,w,z));return z}function x(z){var y=t(z,j);if(y){for(var y=y.slice(0),A=0;A<y.length;A++){y[A](z)}}n.a.f.clear(z);"function"==typeof jQuery&&"function"==typeof jQuery.cleanData&&jQuery.cleanData([z]);if(u[z.nodeType]){for(y=z.firstChild;z=y;){y=z.nextSibling,8===z.nodeType&&x(z)}}}var w="__ko_domNodeDisposal__"+(new Date).getTime(),v={1:a,8:a,9:a},u={1:a,9:a};return{wa:function(y,z){"function"!=typeof z&&e(Error("Callback must be a function"));t(y,a).push(z)},Ma:function(A,z){var y=t(A,j);y&&(n.a.ba(y,z),0==y.length&&n.a.f.set(A,w,c))},F:function(y){if(v[y.nodeType]&&(x(y),u[y.nodeType])){var A=[];n.a.N(A,y.getElementsByTagName("*"));for(var y=0,z=A.length;y<z;y++){x(A[y])}}},removeNode:function(y){n.F(y);y.parentNode&&y.parentNode.removeChild(y)}}};n.F=n.a.G.F;n.removeNode=n.a.G.removeNode;n.b("cleanNode",n.F);n.b("removeNode",n.removeNode);n.b("utils.domNodeDisposal",n.a.G);n.b("utils.domNodeDisposal.addDisposeCallback",n.a.G.wa);n.b("utils.domNodeDisposal.removeDisposeCallback",n.a.G.Ma);(function(){n.a.pa=function(t){var v;if("undefined"!=typeof jQuery){if((v=jQuery.clean([t]))&&v[0]){for(t=v[0];t.parentNode&&11!==t.parentNode.nodeType;){t=t.parentNode}t.parentNode&&t.parentNode.removeChild(t)}}else{var u=n.a.w(t).toLowerCase();v=g.createElement("div");u=u.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!u.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!u.indexOf("<td")||!u.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""];t="ignored<div>"+u[1]+t+u[2]+"</div>";for("function"==typeof f.innerShiv?v.appendChild(f.innerShiv(t)):v.innerHTML=t;u[0]--;){v=v.lastChild}v=n.a.L(v.lastChild.childNodes)}return v};n.a.Y=function(t,w){n.a.ga(t);if(w!==l&&w!==c){if("string"!=typeof w&&(w=w.toString()),"undefined"!=typeof jQuery){jQuery(t).html(w)}else{for(var v=n.a.pa(w),u=0;u<v.length;u++){t.appendChild(v[u])}}}}})();n.b("utils.parseHtmlFragment",n.a.pa);n.b("utils.setHtml",n.a.Y);n.s=function(){function t(){return(4294967296*(1+Math.random())|0).toString(16).substring(1)}function v(w,y){if(w){if(8==w.nodeType){var z=n.s.Ja(w.nodeValue);z!=l&&y.push({jb:w,yb:z})}else{if(1==w.nodeType){for(var z=0,A=w.childNodes,x=A.length;z<x;z++){v(A[z],y)}}}}}var u={};return{na:function(w){"function"!=typeof w&&e(Error("You can only pass a function to ko.memoization.memoize()"));var x=t()+t();u[x]=w;return"<!--[ko_memo:"+x+"]-->"},Va:function(x,w){var y=u[x];y===c&&e(Error("Couldn't find any memo with ID "+x+". Perhaps it's already been unmemoized."));try{return y.apply(l,w||[]),a}finally{delete u[x]}},Wa:function(w,C){var B=[];v(w,B);for(var A=0,y=B.length;A<y;A++){var x=B[A].jb,z=[x];C&&n.a.N(z,C);n.s.Va(B[A].yb,z);x.nodeValue="";x.parentNode&&x.parentNode.removeChild(x)}},Ja:function(w){return(w=w.match(/^\[ko_memo\:(.*?)\]$/))?w[1]:l}}}();n.b("memoization",n.s);n.b("memoization.memoize",n.s.na);n.b("memoization.unmemoize",n.s.Va);n.b("memoization.parseMemoText",n.s.Ja);n.b("memoization.unmemoizeDomNodeAndDescendants",n.s.Wa);n.Ba={throttle:function(t,v){t.throttleEvaluation=v;var u=l;return n.h({read:t,write:function(w){clearTimeout(u);u=setTimeout(function(){t(w)},v)}})},notify:function(t,u){t.equalityComparer="always"==u?b(j):n.m.fn.equalityComparer;return t}};n.b("extenders",n.Ba);n.Sa=function(t,v,u){this.target=t;this.ca=v;this.ib=u;n.B(this,"dispose",this.A)};n.Sa.prototype.A=function(){this.sb=a;this.ib()};n.R=function(){this.u={};n.a.extend(this,n.R.fn);n.B(this,"subscribe",this.ta);n.B(this,"extend",this.extend);n.B(this,"getSubscriptionsCount",this.ob)};n.R.fn={ta:function(t,w,v){var v=v||"change",t=w?t.bind(w):t,u=new n.Sa(this,t,function(){n.a.ba(this.u[v],u)}.bind(this));this.u[v]||(this.u[v]=[]);this.u[v].push(u);return u},notifySubscribers:function(t,u){u=u||"change";this.u[u]&&n.a.v(this.u[u].slice(0),function(v){v&&v.sb!==a&&v.ca(t)})},ob:function(){var t=0,u;for(u in this.u){this.u.hasOwnProperty(u)&&(t+=this.u[u].length)}return t},extend:function(t){var w=this;if(t){for(var v in t){var u=n.Ba[v];"function"==typeof u&&(w=u(w,t[v]))}}return w}};n.Ga=function(t){return"function"==typeof t.ta&&"function"==typeof t.notifySubscribers};n.b("subscribable",n.R);n.b("isSubscribable",n.Ga);n.U=function(){var t=[];return{bb:function(u){t.push({ca:u,Aa:[]})},end:function(){t.pop()},La:function(v){n.Ga(v)||e(Error("Only subscribable things can act as dependencies"));if(0<t.length){var u=t[t.length-1];0<=n.a.j(u.Aa,v)||(u.Aa.push(v),u.ca(v))}}}}();var p={undefined:a,"boolean":a,number:a,string:a};n.m=function(t){function v(){if(0<arguments.length){if(!v.equalityComparer||!v.equalityComparer(u,arguments[0])){v.I(),u=arguments[0],v.H()}return this}n.U.La(v);return u}var u=t;n.R.call(v);v.H=function(){v.notifySubscribers(u)};v.I=function(){v.notifySubscribers(u,"beforeChange")};n.a.extend(v,n.m.fn);n.B(v,"valueHasMutated",v.H);n.B(v,"valueWillMutate",v.I);return v};n.m.fn={equalityComparer:function(t,u){return t===l||typeof t in p?t===u:j}};var m=n.m.Db="__ko_proto__";n.m.fn[m]=n.m;n.ia=function(t,u){return t===l||t===c||t[m]===c?j:t[m]===u?a:n.ia(t[m],u)};n.la=function(t){return n.ia(t,n.m)};n.Ha=function(t){return"function"==typeof t&&t[m]===n.m||"function"==typeof t&&t[m]===n.h&&t.pb?a:j};n.b("observable",n.m);n.b("isObservable",n.la);n.b("isWriteableObservable",n.Ha);n.Q=function(t){0==arguments.length&&(t=[]);t!==l&&(t!==c&&!("length" in t))&&e(Error("The argument passed when initializing an observable array must be an array, or null, or undefined."));var u=n.m(t);n.a.extend(u,n.Q.fn);return u};n.Q.fn={remove:function(t){for(var y=this(),x=[],v="function"==typeof t?t:function(z){return z===t},u=0;u<y.length;u++){var w=y[u];v(w)&&(0===x.length&&this.I(),x.push(w),y.splice(u,1),u--)}x.length&&this.H();return x},removeAll:function(t){if(t===c){var v=this(),u=v.slice(0);this.I();v.splice(0,v.length);this.H();return u}return !t?[]:this.remove(function(w){return 0<=n.a.j(t,w)})},destroy:function(t){var w=this(),v="function"==typeof t?t:function(x){return x===t};this.I();for(var u=w.length-1;0<=u;u--){v(w[u])&&(w[u]._destroy=a)}this.H()},destroyAll:function(t){return t===c?this.destroy(b(a)):!t?[]:this.destroy(function(u){return 0<=n.a.j(t,u)})},indexOf:function(t){var u=this();return n.a.j(u,t)},replace:function(t,v){var u=this.indexOf(t);0<=u&&(this.I(),this()[u]=v,this.H())}};n.a.v("pop push reverse shift sort splice unshift".split(" "),function(t){n.Q.fn[t]=function(){var u=this();this.I();u=u[t].apply(u,arguments);this.H();return u}});n.a.v(["slice"],function(t){n.Q.fn[t]=function(){var u=this();return u[t].apply(u,arguments)}});n.b("observableArray",n.Q);n.h=function(Q,P,O){function M(){n.a.v(B,function(u){u.A()});B=[]}function L(){var u=K.throttleEvaluation;u&&0<=u?(clearTimeout(z),z=setTimeout(N,u)):N()}function N(){if(!G){if(J&&A()){C()}else{G=a;try{var u=n.a.T(B,function(x){return x.target});n.U.bb(function(y){var x;0<=(x=n.a.j(u,y))?u[x]=c:B.push(y.ta(L))});for(var w=E.call(P),v=u.length-1;0<=v;v--){u[v]&&B.splice(v,1)[0].A()}J=a;K.notifySubscribers(H,"beforeChange");H=w}finally{n.U.end()}K.notifySubscribers(H);G=j}}}function K(){if(0<arguments.length){I.apply(K,arguments)}else{return J||N(),n.U.La(K),H}}function I(){"function"===typeof F?F.apply(P,arguments):e(Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters."))}var H,J=j,G=j,E=Q;E&&"object"==typeof E?(O=E,E=O.read):(O=O||{},E||(E=O.read));"function"!=typeof E&&e(Error("Pass a function that returns the value of the ko.computed"));var F=O.write;P||(P=O.owner);var B=[],C=M,D="object"==typeof O.disposeWhenNodeIsRemoved?O.disposeWhenNodeIsRemoved:l,A=O.disposeWhen||b(j);if(D){C=function(){n.a.G.Ma(D,arguments.callee);M()};n.a.G.wa(D,C);var t=A,A=function(){return !n.a.fa(D)||t()}}var z=l;K.nb=function(){return B.length};K.pb="function"===typeof O.write;K.A=function(){C()};n.R.call(K);n.a.extend(K,n.h.fn);O.deferEvaluation!==a&&N();n.B(K,"dispose",K.A);n.B(K,"getDependenciesCount",K.nb);return K};n.rb=function(t){return n.ia(t,n.h)};o=n.m.Db;n.h[o]=n.m;n.h.fn={};n.h.fn[o]=n.h;n.b("dependentObservable",n.h);n.b("computed",n.h);n.b("isComputed",n.rb);(function(){function t(w,y,z){z=z||new u;w=y(w);if(!("object"==typeof w&&w!==l&&w!==c&&!(w instanceof Date))){return w}var x=w instanceof Array?[]:{};z.save(w,x);v(w,function(C){var B=y(w[C]);switch(typeof B){case"boolean":case"number":case"string":case"function":x[C]=B;break;case"object":case"undefined":var A=z.get(B);x[C]=A!==c?A:t(B,y,z)}});return x}function v(x,w){if(x instanceof Array){for(var y=0;y<x.length;y++){w(y)}"function"==typeof x.toJSON&&w("toJSON")}else{for(y in x){w(y)}}}function u(){var w=[],x=[];this.save=function(z,A){var y=n.a.j(w,z);0<=y?x[y]=A:(w.push(z),x.push(A))};this.get=function(y){y=n.a.j(w,y);return 0<=y?x[y]:c}}n.Ta=function(w){0==arguments.length&&e(Error("When calling ko.toJS, pass the object you want to convert."));return t(w,function(x){for(var y=0;n.la(x)&&10>y;y++){x=x()}return x})};n.toJSON=function(w,y,x){w=n.Ta(w);return n.a.sa(w,y,x)}})();n.b("toJS",n.Ta);n.b("toJSON",n.toJSON);(function(){n.k={r:function(t){switch(n.a.o(t)){case"option":return t.__ko__hasDomDataOptionValue__===a?n.a.f.get(t,n.c.options.oa):t.getAttribute("value");case"select":return 0<=t.selectedIndex?n.k.r(t.options[t.selectedIndex]):c;default:return t.value}},S:function(t,v){switch(n.a.o(t)){case"option":switch(typeof v){case"string":n.a.f.set(t,n.c.options.oa,c);"__ko__hasDomDataOptionValue__" in t&&delete t.__ko__hasDomDataOptionValue__;t.value=v;break;default:n.a.f.set(t,n.c.options.oa,v),t.__ko__hasDomDataOptionValue__=a,t.value="number"===typeof v?v:""}break;case"select":for(var u=t.options.length-1;0<=u;u--){if(n.k.r(t.options[u])==v){t.selectedIndex=u;break}}break;default:if(v===l||v===c){v=""}t.value=v}}}})();n.b("selectExtensions",n.k);n.b("selectExtensions.readValue",n.k.r);n.b("selectExtensions.writeValue",n.k.S);n.g=function(){function t(y,x){for(var z=l;y!=z;){z=y,y=y.replace(w,function(A,B){return x[B]})}return y}var w=/\@ko_token_(\d+)\@/g,v=/^[\_$a-z][\_$a-z0-9]*(\[.*?\])*(\.[\_$a-z][\_$a-z0-9]*(\[.*?\])*)*$/i,u=["true","false"];return{D:[],W:function(F){var D=n.a.w(F);if(3>D.length){return[]}"{"===D.charAt(0)&&(D=D.substring(1,D.length-1));for(var F=[],E=l,C,A=0;A<D.length;A++){var B=D.charAt(A);if(E===l){switch(B){case'"':case"'":case"/":E=A,C=B}}else{if(B==C&&"\\"!==D.charAt(A-1)){B=D.substring(E,A+1);F.push(B);var z="@ko_token_"+(F.length-1)+"@",D=D.substring(0,E)+z+D.substring(A+1),A=A-(B.length-z.length),E=l}}}C=E=l;for(var x=0,y=l,A=0;A<D.length;A++){B=D.charAt(A);if(E===l){switch(B){case"{":E=A;y=B;C="}";break;case"(":E=A;y=B;C=")";break;case"[":E=A,y=B,C="]"}}B===y?x++:B===C&&(x--,0===x&&(B=D.substring(E,A+1),F.push(B),z="@ko_token_"+(F.length-1)+"@",D=D.substring(0,E)+z+D.substring(A+1),A-=B.length-z.length,E=l))}C=[];D=D.split(",");E=0;for(A=D.length;E<A;E++){x=D[E],y=x.indexOf(":"),0<y&&y<x.length-1?(B=x.substring(y+1),C.push({key:t(x.substring(0,y),F),value:t(B,F)})):C.push({unknown:t(x,F)})}return C},ka:function(x){for(var D="string"===typeof x?n.g.W(x):x,C=[],x=[],A,z=0;A=D[z];z++){if(0<C.length&&C.push(","),A.key){var B;n:{B=A.key;var y=n.a.w(B);switch(y.length&&y.charAt(0)){case"'":case'"':break n;default:B="'"+y+"'"}}A=A.value;C.push(B);C.push(":");C.push(A);y=n.a.w(A);if(0<=n.a.j(u,n.a.w(y).toLowerCase())?0:y.match(v)!==l){0<x.length&&x.push(", "),x.push(B+" : function(__ko_value) { "+A+" = __ko_value; }")}}else{A.unknown&&C.push(A.unknown)}}D=C.join("");0<x.length&&(D=D+", '_ko_property_writers' : { "+x.join("")+" } ");return D},wb:function(x,z){for(var y=0;y<x.length;y++){if(n.a.w(x[y].key)==z){return a}}return j},$:function(x,B,A,z,y){if(!x||!n.Ha(x)){if((x=B()._ko_property_writers)&&x[A]){x[A](z)}}else{(!y||x()!==z)&&x(z)}}}}();n.b("jsonExpressionRewriting",n.g);n.b("jsonExpressionRewriting.bindingRewriteValidators",n.g.D);n.b("jsonExpressionRewriting.parseObjectLiteral",n.g.W);n.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",n.g.ka);(function(){function t(B){return 8==B.nodeType&&(w?B.text:B.nodeValue).match(y)}function A(B){return 8==B.nodeType&&(w?B.text:B.nodeValue).match(v)}function z(B,E){for(var F=B,D=1,C=[];F=F.nextSibling;){if(A(F)&&(D--,0===D)){return C}C.push(F);t(F)&&D++}E||e(Error("Cannot find closing comment tag to match: "+B.nodeValue));return l}function x(C,B){var D=z(C,B);return D?0<D.length?D[D.length-1].nextSibling:C.nextSibling:l}var w="<!--test-->"===g.createComment("test").text,y=w?/^<\!--\s*ko\s+(.*\:.*)\s*--\>$/:/^\s*ko\s+(.*\:.*)\s*$/,v=w?/^<\!--\s*\/ko\s*--\>$/:/^\s*\/ko\s*$/,u={ul:a,ol:a};n.e={C:{},childNodes:function(B){return t(B)?z(B):B.childNodes},ha:function(D){if(t(D)){for(var D=n.e.childNodes(D),B=0,C=D.length;B<C;B++){n.removeNode(D[B])}}else{n.a.ga(D)}},X:function(F,D){if(t(F)){n.e.ha(F);for(var E=F.nextSibling,C=0,B=D.length;C<B;C++){E.parentNode.insertBefore(D[C],E)}}else{n.a.X(F,D)}},Ka:function(B,C){t(B)?B.parentNode.insertBefore(C,B.nextSibling):B.firstChild?B.insertBefore(C,B.firstChild):B.appendChild(C)},Fa:function(B,D,C){t(B)?B.parentNode.insertBefore(D,C.nextSibling):C.nextSibling?B.insertBefore(D,C.nextSibling):B.appendChild(D)},firstChild:function(B){return !t(B)?B.firstChild:!B.nextSibling||A(B.nextSibling)?l:B.nextSibling},nextSibling:function(B){t(B)&&(B=x(B));return B.nextSibling&&A(B.nextSibling)?l:B.nextSibling},Xa:function(B){return(B=t(B))?B[1]:l},Ia:function(D){if(u[n.a.o(D)]){var F=D.firstChild;if(F){do{if(1===F.nodeType){var C;C=F.firstChild;var B=l;if(C){do{if(B){B.push(C)}else{if(t(C)){var E=x(C,a);E?C=E:B=[C]}else{A(C)&&(B=[C])}}}while(C=C.nextSibling)}if(C=B){B=F.nextSibling;for(E=0;E<C.length;E++){B?D.insertBefore(C[E],B):D.appendChild(C[E])}}}}while(F=F.nextSibling)}}}}})();n.b("virtualElements",n.e);n.b("virtualElements.allowedBindings",n.e.C);n.b("virtualElements.emptyNode",n.e.ha);n.b("virtualElements.insertAfter",n.e.Fa);n.b("virtualElements.prepend",n.e.Ka);n.b("virtualElements.setDomNodeChildren",n.e.X);(function(){n.J=function(){this.cb={}};n.a.extend(n.J.prototype,{nodeHasBindings:function(t){switch(t.nodeType){case 1:return t.getAttribute("data-bind")!=l;case 8:return n.e.Xa(t)!=l;default:return j}},getBindings:function(t,v){var u=this.getBindingsString(t,v);return u?this.parseBindingsString(u,v):l},getBindingsString:function(t){switch(t.nodeType){case 1:return t.getAttribute("data-bind");case 8:return n.e.Xa(t);default:return l}},parseBindingsString:function(B,A){try{var z=A.$data,z="object"==typeof z&&z!=l?[z,A]:[A],x=z.length,w=this.cb,y=x+"_"+B,v;if(!(v=w[y])){var u=" { "+n.g.ka(B)+" } ";v=w[y]=n.a.eb(u,x)}return v(z)}catch(t){e(Error("Unable to parse bindings.\nMessage: "+t+";\nBindings value: "+B))}}});n.J.instance=new n.J})();n.b("bindingProvider",n.J);(function(){function t(w,z,y){for(var x=n.e.firstChild(z);z=x;){x=n.e.nextSibling(z),v(w,z,y)}}function v(A,y,z){var x=a,w=1===y.nodeType;w&&n.e.Ia(y);if(w&&z||n.J.instance.nodeHasBindings(y)){x=u(y,l,A,z).Gb}x&&t(A,y,!w)}function u(E,D,B,C){function z(F){return function(){return x[F]}}function y(){return x}var A=0,x,w;n.h(function(){var I=B&&B instanceof n.z?B:new n.z(n.a.d(B)),F=I.$data;C&&n.Ra(E,I);if(x=("function"==typeof D?D():D)||n.J.instance.getBindings(E,I)){if(0===A){A=1;for(var G in x){var H=n.c[G];H&&8===E.nodeType&&!n.e.C[G]&&e(Error("The binding '"+G+"' cannot be used with virtual elements"));if(H&&"function"==typeof H.init&&(H=(0,H.init)(E,z(G),y,F,I))&&H.controlsDescendantBindings){w!==c&&e(Error("Multiple bindings ("+w+" and "+G+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.")),w=G}}A=2}if(2===A){for(G in x){(H=n.c[G])&&"function"==typeof H.update&&(0,H.update)(E,z(G),y,F,I)}}}},l,{disposeWhenNodeIsRemoved:E});return{Gb:w===c}}n.c={};n.z=function(w,x){x?(n.a.extend(this,x),this.$parentContext=x,this.$parent=x.$data,this.$parents=(x.$parents||[]).slice(0),this.$parents.unshift(this.$parent)):(this.$parents=[],this.$root=w);this.$data=w};n.z.prototype.createChildContext=function(w){return new n.z(w,this)};n.z.prototype.extend=function(w){var x=n.a.extend(new n.z,this);return n.a.extend(x,w)};n.Ra=function(w,x){if(2==arguments.length){n.a.f.set(w,"__ko_bindingContext__",x)}else{return n.a.f.get(w,"__ko_bindingContext__")}};n.ya=function(w,y,x){1===w.nodeType&&n.e.Ia(w);return u(w,y,x,a)};n.Ya=function(w,x){(1===x.nodeType||8===x.nodeType)&&t(w,x,a)};n.xa=function(x,w){w&&(1!==w.nodeType&&8!==w.nodeType)&&e(Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node"));w=w||f.document.body;v(x,w,a)};n.ea=function(w){switch(w.nodeType){case 1:case 8:var x=n.Ra(w);if(x){return x}if(w.parentNode){return n.ea(w.parentNode)}}};n.hb=function(w){return(w=n.ea(w))?w.$data:c};n.b("bindingHandlers",n.c);n.b("applyBindings",n.xa);n.b("applyBindingsToDescendants",n.Ya);n.b("applyBindingsToNode",n.ya);n.b("contextFor",n.ea);n.b("dataFor",n.hb)})();n.a.v(["click"],function(t){n.c[t]={init:function(x,w,v,u){return n.c.event.init.call(this,x,function(){var y={};y[t]=w();return y},v,u)}}});n.c.event={init:function(t,y,x,v){var u=y()||{},w;for(w in u){(function(){var z=w;"string"==typeof z&&n.a.n(t,z,function(A){var E,C=y()[z];if(C){var B=x();try{var D=n.a.L(arguments);D.unshift(v);E=C.apply(v,D)}finally{E!==a&&(A.preventDefault?A.preventDefault():A.returnValue=j)}B[z+"Bubble"]===j&&(A.cancelBubble=a,A.stopPropagation&&A.stopPropagation())}})})()}}};n.c.submit={init:function(t,w,v,u){"function"!=typeof w()&&e(Error("The value for a submit binding must be a function"));n.a.n(t,"submit",function(x){var y,z=w();try{y=z.call(u,t)}finally{y!==a&&(x.preventDefault?x.preventDefault():x.returnValue=j)}})}};n.c.visible={update:function(t,w){var v=n.a.d(w()),u="none"!=t.style.display;v&&!u?t.style.display="":!v&&u&&(t.style.display="none")}};n.c.enable={update:function(t,v){var u=n.a.d(v());u&&t.disabled?t.removeAttribute("disabled"):!u&&!t.disabled&&(t.disabled=a)}};n.c.disable={update:function(t,u){n.c.enable.update(t,function(){return !n.a.d(u())})}};n.c.value={init:function(t,z,y){function w(){var B=z(),A=n.k.r(t);n.g.$(B,y,"value",A,a)}var v=["change"],x=y().valueUpdate;x&&("string"==typeof x&&(x=[x]),n.a.N(v,x),v=n.a.za(v));if(n.a.ja&&("input"==t.tagName.toLowerCase()&&"text"==t.type&&"off"!=t.autocomplete&&(!t.form||"off"!=t.form.autocomplete))&&-1==n.a.j(v,"propertychange")){var u=j;n.a.n(t,"propertychange",function(){u=a});n.a.n(t,"blur",function(){if(u){u=j;w()}})}n.a.v(v,function(B){var A=w;if(n.a.Hb(B,"after")){A=function(){setTimeout(w,0)};B=B.substring(5)}n.a.n(t,B,A)})},update:function(t,y){var x="select"===n.a.o(t),v=n.a.d(y()),u=n.k.r(t),w=v!=u;0===v&&(0!==u&&"0"!==u)&&(w=a);w&&(u=function(){n.k.S(t,v)},u(),x&&setTimeout(u,0));x&&0<t.length&&s(t,v,j)}};n.c.options={update:function(D,C,B){"select"!==n.a.o(D)&&e(Error("options binding applies only to SELECT elements"));for(var z=0==D.length,y=n.a.T(n.a.aa(D.childNodes,function(E){return E.tagName&&"option"===n.a.o(E)&&E.selected}),function(E){return n.k.r(E)||E.innerText||E.textContent}),A=D.scrollTop,x=n.a.d(C());0<D.length;){n.F(D.options[0]),D.remove(0)}if(x){B=B();"number"!=typeof x.length&&(x=[x]);if(B.optionsCaption){var v=g.createElement("option");n.a.Y(v,B.optionsCaption);n.k.S(v,c);D.appendChild(v)}for(var C=0,u=x.length;C<u;C++){var v=g.createElement("option"),w="string"==typeof B.optionsValue?x[C][B.optionsValue]:x[C],w=n.a.d(w);n.k.S(v,w);var t=B.optionsText,w="function"==typeof t?t(x[C]):"string"==typeof t?x[C][t]:w;if(w===l||w===c){w=""}n.a.Qa(v,w);D.appendChild(v)}x=D.getElementsByTagName("option");C=v=0;for(u=x.length;C<u;C++){0<=n.a.j(y,n.k.r(x[C]))&&(n.a.Pa(x[C],a),v++)}D.scrollTop=A;z&&"value" in B&&s(D,n.a.d(B.value),a);n.a.lb(D)}}};n.c.options.oa="__ko.optionValueDomData__";n.c.selectedOptions={Ea:function(t){for(var y=[],t=t.childNodes,x=0,v=t.length;x<v;x++){var u=t[x],w=n.a.o(u);"option"==w&&u.selected?y.push(n.k.r(u)):"optgroup"==w&&(u=n.c.selectedOptions.Ea(u),Array.prototype.splice.apply(y,[y.length,0].concat(u)))}return y},init:function(t,v,u){n.a.n(t,"change",function(){var w=v(),x=n.c.selectedOptions.Ea(this);n.g.$(w,u,"value",x)})},update:function(t,z){"select"!=n.a.o(t)&&e(Error("values binding applies only to SELECT elements"));var y=n.a.d(z());if(y&&"number"==typeof y.length){for(var w=t.childNodes,v=0,x=w.length;v<x;v++){var u=w[v];"option"===n.a.o(u)&&n.a.Pa(u,0<=n.a.j(y,n.k.r(u)))}}}};n.c.text={update:function(t,u){n.a.Qa(t,u())}};n.c.html={init:function(){return{controlsDescendantBindings:a}},update:function(t,v){var u=n.a.d(v());n.a.Y(t,u)}};n.c.css={update:function(t,x){var w=n.a.d(x()||{}),v;for(v in w){if("string"==typeof v){var u=n.a.d(w[v]);n.a.Ua(t,v,u)}}}};n.c.style={update:function(t,x){var w=n.a.d(x()||{}),v;for(v in w){if("string"==typeof v){var u=n.a.d(w[v]);t.style[v]=u||""}}}};n.c.uniqueName={init:function(t,u){u()&&(t.name="ko_unique_"+ ++n.c.uniqueName.gb,(n.a.tb||n.a.ub)&&t.mergeAttributes(g.createElement("<input name='"+t.name+"'/>"),j))}};n.c.uniqueName.gb=0;n.c.checked={init:function(t,v,u){n.a.n(t,"click",function(){var x;if("checkbox"==t.type){x=t.checked}else{if("radio"==t.type&&t.checked){x=t.value}else{return}}var w=v();"checkbox"==t.type&&n.a.d(w) instanceof Array?(x=n.a.j(n.a.d(w),t.value),t.checked&&0>x?w.push(t.value):!t.checked&&0<=x&&w.splice(x,1)):n.g.$(w,u,"checked",x,a)});"radio"==t.type&&!t.name&&n.c.uniqueName.init(t,b(a))},update:function(t,v){var u=n.a.d(v());"checkbox"==t.type?t.checked=u instanceof Array?0<=n.a.j(u,t.value):u:"radio"==t.type&&(t.checked=t.value==u)}};var q={"class":"className","for":"htmlFor"};n.c.attr={update:function(t,y){var x=n.a.d(y())||{},v;for(v in x){if("string"==typeof v){var u=n.a.d(x[v]),w=u===j||u===l||u===c;w&&t.removeAttribute(v);8>=n.a.ja&&v in q?(v=q[v],w?t.removeAttribute(v):t[v]=u):w||t.setAttribute(v,u.toString())}}}};n.c.hasfocus={init:function(t,w,v){function u(x){var y=w();n.g.$(y,v,"hasfocus",x,a)}n.a.n(t,"focus",function(){u(a)});n.a.n(t,"focusin",function(){u(a)});n.a.n(t,"blur",function(){u(j)});n.a.n(t,"focusout",function(){u(j)})},update:function(t,v){var u=n.a.d(v());u?t.focus():t.blur();n.a.va(t,u?"focusin":"focusout")}};n.c["with"]={p:function(t){return function(){var u=t();return{"if":u,data:u,templateEngine:n.q.K}}},init:function(t,u){return n.c.template.init(t,n.c["with"].p(u))},update:function(t,x,w,v,u){return n.c.template.update(t,n.c["with"].p(x),w,v,u)}};n.g.D["with"]=j;n.e.C["with"]=a;n.c["if"]={p:function(t){return function(){return{"if":t(),templateEngine:n.q.K}}},init:function(t,u){return n.c.template.init(t,n.c["if"].p(u))},update:function(t,x,w,v,u){return n.c.template.update(t,n.c["if"].p(x),w,v,u)}};n.g.D["if"]=j;n.e.C["if"]=a;n.c.ifnot={p:function(t){return function(){return{ifnot:t(),templateEngine:n.q.K}}},init:function(t,u){return n.c.template.init(t,n.c.ifnot.p(u))},update:function(t,x,w,v,u){return n.c.template.update(t,n.c.ifnot.p(x),w,v,u)}};n.g.D.ifnot=j;n.e.C.ifnot=a;n.c.foreach={p:function(t){return function(){var u=n.a.d(t());return !u||"number"==typeof u.length?{foreach:u,templateEngine:n.q.K}:{foreach:u.data,includeDestroyed:u.includeDestroyed,afterAdd:u.afterAdd,beforeRemove:u.beforeRemove,afterRender:u.afterRender,templateEngine:n.q.K}}},init:function(t,u){return n.c.template.init(t,n.c.foreach.p(u))},update:function(t,x,w,v,u){return n.c.template.update(t,n.c.foreach.p(x),w,v,u)}};n.g.D.foreach=j;n.e.C.foreach=a;n.t=function(){};n.t.prototype.renderTemplateSource=function(){e(Error("Override renderTemplateSource"))};n.t.prototype.createJavaScriptEvaluatorBlock=function(){e(Error("Override createJavaScriptEvaluatorBlock"))};n.t.prototype.makeTemplateSource=function(t,v){if("string"==typeof t){var v=v||g,u=v.getElementById(t);u||e(Error("Cannot find template with ID "+t));return new n.l.i(u)}if(1==t.nodeType||8==t.nodeType){return new n.l.M(t)}e(Error("Unknown template type: "+t))};n.t.prototype.renderTemplate=function(t,w,v,u){return this.renderTemplateSource(this.makeTemplateSource(t,u),w,v)};n.t.prototype.isTemplateRewritten=function(t,u){return this.allowTemplateRewriting===j||!(u&&u!=g)&&this.V&&this.V[t]?a:this.makeTemplateSource(t,u).data("isRewritten")};n.t.prototype.rewriteTemplate=function(t,w,v){var u=this.makeTemplateSource(t,v),w=w(u.text());u.text(w);u.data("isRewritten",a);!(v&&v!=g)&&"string"==typeof t&&(this.V=this.V||{},this.V[t]=a)};n.b("templateEngine",n.t);n.Z=function(){function t(w,C,A){for(var w=n.g.W(w),B=n.g.D,y=0;y<w.length;y++){var x=w[y].key;if(B.hasOwnProperty(x)){var z=B[x];"function"===typeof z?(x=z(w[y].value))&&e(Error(x)):z||e(Error("This template engine does not support the '"+x+"' binding within its templates"))}}w="ko.templateRewriting.applyMemoizedBindingsToNextSibling(function() {             return (function() { return { "+n.g.ka(w)+" } })()         })";return A.createJavaScriptEvaluatorBlock(w)+C}var v=/(<[a-z]+\d*(\s+(?!data-bind=)[a-z0-9\-]+(=(\"[^\"]*\"|\'[^\']*\'))?)*\s+)data-bind=(["'])([\s\S]*?)\5/gi,u=/<\!--\s*ko\b\s*([\s\S]*?)\s*--\>/g;return{mb:function(w,y,x){y.isTemplateRewritten(w,x)||y.rewriteTemplate(w,function(z){return n.Z.zb(z,y)},x)},zb:function(w,x){return w.replace(v,function(z,E,D,C,A,y,B){return t(B,E,x)}).replace(u,function(y,z){return t(z,"<!-- ko -->",x)})},Za:function(w){return n.s.na(function(y,x){y.nextSibling&&n.ya(y.nextSibling,w,x)})}}}();n.b("templateRewriting",n.Z);n.b("templateRewriting.applyMemoizedBindingsToNextSibling",n.Z.Za);(function(){n.l={};n.l.i=function(t){this.i=t};n.l.i.prototype.text=function(){var t=n.a.o(this.i),t="script"===t?"text":"textarea"===t?"value":"innerHTML";if(0==arguments.length){return this.i[t]}var u=arguments[0];"innerHTML"===t?n.a.Y(this.i,u):this.i[t]=u};n.l.i.prototype.data=function(t){if(1===arguments.length){return n.a.f.get(this.i,"templateSourceData_"+t)}n.a.f.set(this.i,"templateSourceData_"+t,arguments[1])};n.l.M=function(t){this.i=t};n.l.M.prototype=new n.l.i;n.l.M.prototype.text=function(){if(0==arguments.length){var t=n.a.f.get(this.i,"__ko_anon_template__")||{};t.ua===c&&t.da&&(t.ua=t.da.innerHTML);return t.ua}n.a.f.set(this.i,"__ko_anon_template__",{ua:arguments[0]})};n.l.i.prototype.nodes=function(){if(0==arguments.length){return(n.a.f.get(this.i,"__ko_anon_template__")||{}).da}n.a.f.set(this.i,"__ko_anon_template__",{da:arguments[0]})};n.b("templateSources",n.l);n.b("templateSources.domElement",n.l.i);n.b("templateSources.anonymousTemplate",n.l.M)})();(function(){function t(y,B,A){for(var z,B=n.e.nextSibling(B);y&&(z=y)!==B;){y=n.e.nextSibling(z),(1===z.nodeType||8===z.nodeType)&&A(z)}}function x(B,A){if(B.length){var z=B[0],y=B[B.length-1];t(z,y,function(C){n.xa(A,C)});t(z,y,function(C){n.s.Wa(C,[A])})}}function w(y){return y.nodeType?y:0<y.length?y[0]:l}function v(y,E,B,A,C){var C=C||{},z=y&&w(y),z=z&&z.ownerDocument,D=C.templateEngine||u;n.Z.mb(B,D,z);B=D.renderTemplate(B,A,C,z);("number"!=typeof B.length||0<B.length&&"number"!=typeof B[0].nodeType)&&e(Error("Template engine must return an array of DOM nodes"));z=j;switch(E){case"replaceChildren":n.e.X(y,B);z=a;break;case"replaceNode":n.a.Na(y,B);z=a;break;case"ignoreTargetNode":break;default:e(Error("Unknown renderMode: "+E))}z&&(x(B,A),C.afterRender&&C.afterRender(B,A.$data));return B}var u;n.ra=function(y){y!=c&&!(y instanceof n.t)&&e(Error("templateEngine must inherit from ko.templateEngine"));u=y};n.qa=function(y,D,B,A,C){B=B||{};(B.templateEngine||u)==c&&e(Error("Set a template engine before calling renderTemplate"));C=C||"replaceChildren";if(A){var z=w(A);return n.h(function(){var E=D&&D instanceof n.z?D:new n.z(n.a.d(D)),F="function"==typeof y?y(E.$data):y,E=v(A,C,F,E,B);"replaceNode"==C&&(A=E,z=w(A))},l,{disposeWhen:function(){return !z||!n.a.fa(z)},disposeWhenNodeIsRemoved:z&&"replaceNode"==C?z.parentNode:z})}return n.s.na(function(E){n.qa(y,D,B,E,"replaceNode")})};n.Fb=function(y,F,C,A,B){function z(H,G){x(G,E);C.afterRender&&C.afterRender(G,H)}function D(I,H){var G="function"==typeof y?y(I):y;E=B.createChildContext(n.a.d(I));E.$index=H;return v(l,"ignoreTargetNode",G,E,C)}var E;return n.h(function(){var G=n.a.d(F)||[];"undefined"==typeof G.length&&(G=[G]);G=n.a.aa(G,function(H){return C.includeDestroyed||H===c||H===l||!n.a.d(H._destroy)});n.a.Oa(A,G,D,C,z)},l,{disposeWhenNodeIsRemoved:A})};n.c.template={init:function(y,A){var z=n.a.d(A());if("string"!=typeof z&&!z.name&&(1==y.nodeType||8==y.nodeType)){z=1==y.nodeType?y.childNodes:n.e.childNodes(y),z=n.a.Ab(z),(new n.l.M(y)).nodes(z)}return{controlsDescendantBindings:a}},update:function(y,D,C,B,A){D=n.a.d(D());B=a;"string"==typeof D?C=D:(C=D.name,"if" in D&&(B=B&&n.a.d(D["if"])),"ifnot" in D&&(B=B&&!n.a.d(D.ifnot)));var z=l;"object"===typeof D&&"foreach" in D?z=n.Fb(C||y,B&&D.foreach||[],D,y,A):B?(A="object"==typeof D&&"data" in D?A.createChildContext(n.a.d(D.data)):A,z=n.qa(C||y,A,D,y)):n.e.ha(y);A=z;(D=n.a.f.get(y,"__ko__templateSubscriptionDomDataKey__"))&&"function"==typeof D.A&&D.A();n.a.f.set(y,"__ko__templateSubscriptionDomDataKey__",A)}};n.g.D.template=function(y){y=n.g.W(y);return 1==y.length&&y[0].unknown||n.g.wb(y,"name")?l:"This template engine does not support anonymous templates nested within its templates"};n.e.C.template=a})();n.b("setTemplateEngine",n.ra);n.b("renderTemplate",n.qa);(function(){n.a.O=function(D,C,B){if(B===c){return n.a.O(D,C,1)||n.a.O(D,C,10)||n.a.O(D,C,Number.MAX_VALUE)}for(var D=D||[],C=C||[],z=D,y=C,A=[],x=0;x<=y.length;x++){A[x]=[]}for(var x=0,v=Math.min(z.length,B);x<=v;x++){A[0][x]=x}x=1;for(v=Math.min(y.length,B);x<=v;x++){A[x][0]=x}for(var v=z.length,u,w=y.length,x=1;x<=v;x++){u=Math.max(1,x-B);for(var t=Math.min(w,x+B);u<=t;u++){A[u][x]=z[x-1]===y[u-1]?A[u-1][x-1]:Math.min(A[u-1][x]===c?Number.MAX_VALUE:A[u-1][x]+1,A[u][x-1]===c?Number.MAX_VALUE:A[u][x-1]+1)}}B=D.length;z=C.length;y=[];x=A[z][B];if(x===c){A=l}else{for(;0<B||0<z;){v=A[z][B];w=0<z?A[z-1][B]:x+1;t=0<B?A[z][B-1]:x+1;u=0<z&&0<B?A[z-1][B-1]:x+1;if(w===c||w<v-1){w=x+1}if(t===c||t<v-1){t=x+1}u<v-1&&(u=x+1);w<=t&&w<u?(y.push({status:"added",value:C[z-1]}),z--):(t<w&&t<u?y.push({status:"deleted",value:D[B-1]}):(y.push({status:"retained",value:D[B-1]}),z--),B--)}A=y.reverse()}return A}})();n.b("utils.compareArrays",n.a.O);(function(){function t(w){if(2<w.length){for(var v=w[0],y=w[w.length-1],x=[v];v!==y;){v=v.nextSibling;if(!v){return}x.push(v)}Array.prototype.splice.apply(w,[0,w.length].concat(x))}}function u(A,y,x,z,w){var v=[],A=n.h(function(){var B=y(x,w)||[];0<v.length&&(t(v),n.a.Na(v,B),z&&z(x,B));v.splice(0,v.length);n.a.N(v,B)},l,{disposeWhenNodeIsRemoved:A,disposeWhen:function(){return 0==v.length||!n.a.fa(v[0])}});return{xb:v,h:A}}n.a.Oa=function(X,V,U,W,T){for(var V=V||[],W=W||{},R=n.a.f.get(X,"setDomNodeChildrenFromArrayMapping_lastMappingResult")===c,Q=n.a.f.get(X,"setDomNodeChildrenFromArrayMapping_lastMappingResult")||[],S=n.a.T(Q,function(v){return v.$a}),P=n.a.O(S,V),V=[],N=0,O=[],H=0,S=[],I=l,L=0,G=P.length;L<G;L++){switch(P[L].status){case"retained":var E=Q[N];E.qb(H);H=V.push(E);0<E.P.length&&(I=E.P[E.P.length-1]);N++;break;case"deleted":Q[N].h.A();t(Q[N].P);n.a.v(Q[N].P,function(v){O.push({element:v,index:L,value:P[L].value});I=v});N++;break;case"added":for(var E=P[L].value,F=n.m(H),H=u(X,U,E,T,F),K=H.xb,H=V.push({$a:P[L].value,P:K,h:H.h,qb:F}),A=0,M=K.length;A<M;A++){var J=K[A];S.push({element:J,index:L,value:P[L].value});I==l?n.e.Ka(X,J):n.e.Fa(X,J,I);I=J}T&&T(E,K,F)}}n.a.v(O,function(v){n.F(v.element)});U=j;if(!R){if(W.afterAdd){for(L=0;L<S.length;L++){W.afterAdd(S[L].element,S[L].index,S[L].value)}}if(W.beforeRemove){for(L=0;L<O.length;L++){W.beforeRemove(O[L].element,O[L].index,O[L].value)}U=a}}if(!U&&O.length){for(L=0;L<O.length;L++){W=O[L].element,W.parentNode&&W.parentNode.removeChild(W)}}n.a.f.set(X,"setDomNodeChildrenFromArrayMapping_lastMappingResult",V)}})();n.b("utils.setDomNodeChildrenFromArrayMapping",n.a.Oa);n.q=function(){this.allowTemplateRewriting=j};n.q.prototype=new n.t;n.q.prototype.renderTemplateSource=function(t){var u=!(9>n.a.ja)&&t.nodes?t.nodes():l;if(u){return n.a.L(u.cloneNode(a).childNodes)}t=t.text();return n.a.pa(t)};n.q.K=new n.q;n.ra(n.q.K);n.b("nativeTemplateEngine",n.q);(function(){n.ma=function(){var u=this.vb=function(){if("undefined"==typeof jQuery||!jQuery.tmpl){return 0}try{if(0<=jQuery.tmpl.tag.tmpl.open.toString().indexOf("__")){return 2}}catch(v){}return 1}();this.renderTemplateSource=function(v,x,w){w=w||{};2>u&&e(Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later."));var y=v.data("precompiled");y||(y=v.text()||"",y=jQuery.template(l,"{{ko_with $item.koBindingContext}}"+y+"{{/ko_with}}"),v.data("precompiled",y));v=[x.$data];x=jQuery.extend({koBindingContext:x},w.templateOptions);x=jQuery.tmpl(y,v,x);x.appendTo(g.createElement("div"));jQuery.fragments={};return x};this.createJavaScriptEvaluatorBlock=function(v){return"{{ko_code ((function() { return "+v+" })()) }}"};this.addTemplate=function(w,v){g.write("<script type='text/html' id='"+w+"'>"+v+"<\/script>")};0<u&&(jQuery.tmpl.tag.ko_code={open:"__.push($1 || '');"},jQuery.tmpl.tag.ko_with={open:"with($1) {",close:"} "})};n.ma.prototype=new n.t;var t=new n.ma;0<t.vb&&n.ra(t);n.b("jqueryTmplTemplateEngine",n.ma)})()}"function"===typeof require&&"object"===typeof exports&&"object"===typeof module?k(module.exports||exports):"function"===typeof define&&define.amd?define(["exports"],k):k(f.ko={});a})(window,document,navigator);Date.CultureInfo={name:"en-US",englishName:"English (United States)",nativeName:"English (United States)",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],abbreviatedDayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],shortestDayNames:["Su","Mo","Tu","We","Th","Fr","Sa"],firstLetterDayNames:["S","M","T","W","T","F","S"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],abbreviatedMonthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],amDesignator:"AM",pmDesignator:"PM",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:"mdy",formatPatterns:{shortDate:"M/d/yyyy",longDate:"dddd, MMMM dd, yyyy",shortTime:"h:mm tt",longTime:"h:mm:ss tt",fullDateTime:"dddd, MMMM dd, yyyy h:mm:ss tt",sortableDateTime:"yyyy-MM-ddTHH:mm:ss",universalSortableDateTime:"yyyy-MM-dd HH:mm:ssZ",rfc1123:"ddd, dd MMM yyyy HH:mm:ss GMT",monthDay:"MMMM dd",yearMonth:"MMMM, yyyy"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\+|after|from)/i,subtract:/^(\-|before|ago)/i,yesterday:/^yesterday/i,today:/^t(oday)?/i,tomorrow:/^tomorrow/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^min(ute)?s?/i,hour:/^h(ou)?rs?/i,week:/^w(ee)?k/i,month:/^m(o(nth)?s?)?/i,day:/^d(ays?)?/i,year:/^y((ea)?rs?)?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\.?m?\.?|p\.?m?\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\s*(\+|\-)\s*\d\d\d\d?)|gmt)/i,ordinalSuffix:/^\s*(st|nd|rd|th)/i,timeContext:/^\s*(\:|a|p)/i},abbreviatedTimeZoneStandard:{GMT:"-000",EST:"-0400",CST:"-0500",MST:"-0600",PST:"-0700"},abbreviatedTimeZoneDST:{GMT:"-000",EDT:"-0500",CDT:"-0600",MDT:"-0700",PDT:"-0800"}};Date.getMonthNumberFromName=function(b){var e=Date.CultureInfo.monthNames,a=Date.CultureInfo.abbreviatedMonthNames,d=b.toLowerCase();for(var c=0;c<e.length;c++){if(e[c].toLowerCase()==d||a[c].toLowerCase()==d){return c}}return -1};Date.getDayNumberFromName=function(b){var f=Date.CultureInfo.dayNames,a=Date.CultureInfo.abbreviatedDayNames,e=Date.CultureInfo.shortestDayNames,d=b.toLowerCase();for(var c=0;c<f.length;c++){if(f[c].toLowerCase()==d||a[c].toLowerCase()==d){return c}}return -1};Date.isLeapYear=function(a){return(((a%4===0)&&(a%100!==0))||(a%400===0))};Date.getDaysInMonth=function(a,b){return[31,(Date.isLeapYear(a)?29:28),31,30,31,30,31,31,30,31,30,31][b]};Date.getTimezoneOffset=function(a,b){return(b||false)?Date.CultureInfo.abbreviatedTimeZoneDST[a.toUpperCase()]:Date.CultureInfo.abbreviatedTimeZoneStandard[a.toUpperCase()]};Date.getTimezoneAbbreviation=function(b,d){var c=(d||false)?Date.CultureInfo.abbreviatedTimeZoneDST:Date.CultureInfo.abbreviatedTimeZoneStandard,a;for(a in c){if(c[a]===b){return a}}return null};Date.prototype.clone=function(){return new Date(this.getTime())};Date.prototype.compareTo=function(a){if(isNaN(this)){throw new Error(this)}if(a instanceof Date&&!isNaN(a)){return(this>a)?1:(this<a)?-1:0}else{throw new TypeError(a)}};Date.prototype.equals=function(a){return(this.compareTo(a)===0)};Date.prototype.between=function(c,a){var b=this.getTime();return b>=c.getTime()&&b<=a.getTime()};Date.prototype.addMilliseconds=function(a){this.setMilliseconds(this.getMilliseconds()+a);return this};Date.prototype.addSeconds=function(a){return this.addMilliseconds(a*1000)};Date.prototype.addMinutes=function(a){return this.addMilliseconds(a*60000)};Date.prototype.addHours=function(a){return this.addMilliseconds(a*3600000)};Date.prototype.addDays=function(a){return this.addMilliseconds(a*86400000)};Date.prototype.addWeeks=function(a){return this.addMilliseconds(a*604800000)};Date.prototype.addMonths=function(a){var b=this.getDate();this.setDate(1);this.setMonth(this.getMonth()+a);this.setDate(Math.min(b,this.getDaysInMonth()));return this};Date.prototype.addYears=function(a){return this.addMonths(a*12)};Date.prototype.add=function(b){if(typeof b=="number"){this._orient=b;return this}var a=b;if(a.millisecond||a.milliseconds){this.addMilliseconds(a.millisecond||a.milliseconds)}if(a.second||a.seconds){this.addSeconds(a.second||a.seconds)}if(a.minute||a.minutes){this.addMinutes(a.minute||a.minutes)}if(a.hour||a.hours){this.addHours(a.hour||a.hours)}if(a.month||a.months){this.addMonths(a.month||a.months)}if(a.year||a.years){this.addYears(a.year||a.years)}if(a.day||a.days){this.addDays(a.day||a.days)}return this};Date._validate=function(d,c,a,b){if(typeof d!="number"){throw new TypeError(d+" is not a Number.")}else{if(d<c||d>a){throw new RangeError(d+" is not a valid value for "+b+".")}}return true};Date.validateMillisecond=function(a){return Date._validate(a,0,999,"milliseconds")};Date.validateSecond=function(a){return Date._validate(a,0,59,"seconds")};Date.validateMinute=function(a){return Date._validate(a,0,59,"minutes")};Date.validateHour=function(a){return Date._validate(a,0,23,"hours")};Date.validateDay=function(c,a,b){return Date._validate(c,1,Date.getDaysInMonth(a,b),"days")};Date.validateMonth=function(a){return Date._validate(a,0,11,"months")};Date.validateYear=function(a){return Date._validate(a,1,9999,"seconds")};Date.prototype.set=function(b){var a=b;if(!a.millisecond&&a.millisecond!==0){a.millisecond=-1}if(!a.second&&a.second!==0){a.second=-1}if(!a.minute&&a.minute!==0){a.minute=-1}if(!a.hour&&a.hour!==0){a.hour=-1}if(!a.day&&a.day!==0){a.day=-1}if(!a.month&&a.month!==0){a.month=-1}if(!a.year&&a.year!==0){a.year=-1}if(a.millisecond!=-1&&Date.validateMillisecond(a.millisecond)){this.addMilliseconds(a.millisecond-this.getMilliseconds())}if(a.second!=-1&&Date.validateSecond(a.second)){this.addSeconds(a.second-this.getSeconds())}if(a.minute!=-1&&Date.validateMinute(a.minute)){this.addMinutes(a.minute-this.getMinutes())}if(a.hour!=-1&&Date.validateHour(a.hour)){this.addHours(a.hour-this.getHours())}if(a.month!==-1&&Date.validateMonth(a.month)){this.addMonths(a.month-this.getMonth())}if(a.year!=-1&&Date.validateYear(a.year)){this.addYears(a.year-this.getFullYear())}if(a.day!=-1&&Date.validateDay(a.day,this.getFullYear(),this.getMonth())){this.addDays(a.day-this.getDate())}if(a.timezone){this.setTimezone(a.timezone)}if(a.timezoneOffset){this.setTimezoneOffset(a.timezoneOffset)}return this};Date.prototype.clearTime=function(){this.setHours(0);this.setMinutes(0);this.setSeconds(0);this.setMilliseconds(0);return this};Date.prototype.isLeapYear=function(){var a=this.getFullYear();return(((a%4===0)&&(a%100!==0))||(a%400===0))};Date.prototype.isWeekday=function(){return !(this.is().sat()||this.is().sun())};Date.prototype.getDaysInMonth=function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())};Date.prototype.moveToFirstDayOfMonth=function(){return this.set({day:1})};Date.prototype.moveToLastDayOfMonth=function(){return this.set({day:this.getDaysInMonth()})};Date.prototype.moveToDayOfWeek=function(a,b){var c=(a-this.getDay()+7*(b||+1))%7;return this.addDays((c===0)?c+=7*(b||+1):c)};Date.prototype.moveToMonth=function(c,a){var b=(c-this.getMonth()+12*(a||+1))%12;return this.addMonths((b===0)?b+=12*(a||+1):b)};Date.prototype.getDayOfYear=function(){return Math.floor((this-new Date(this.getFullYear(),0,1))/86400000)};Date.prototype.getWeekOfYear=function(a){var h=this.getFullYear(),c=this.getMonth(),f=this.getDate();var k=a||Date.CultureInfo.firstDayOfWeek;var e=7+1-new Date(h,0,1).getDay();if(e==8){e=1}var b=((Date.UTC(h,c,f,0,0,0)-Date.UTC(h,0,1,0,0,0))/86400000)+1;var j=Math.floor((b-e+7)/7);if(j===k){h--;var g=7+1-new Date(h,0,1).getDay();if(g==2||g==8){j=53}else{j=52}}return j};Date.prototype.isDST=function(){console.log("isDST");return this.toString().match(/(E|C|M|P)(S|D)T/)[2]=="D"};Date.prototype.getTimezone=function(){return Date.getTimezoneAbbreviation(this.getUTCOffset,this.isDST())};Date.prototype.setTimezoneOffset=function(b){var a=this.getTimezoneOffset(),c=Number(b)*-6/10;this.addMinutes(c-a);return this};Date.prototype.setTimezone=function(a){return this.setTimezoneOffset(Date.getTimezoneOffset(a))};Date.prototype.getUTCOffset=function(){var b=this.getTimezoneOffset()*-10/6,a;if(b<0){a=(b-10000).toString();return a[0]+a.substr(2)}else{a=(b+10000).toString();return"+"+a.substr(1)}};Date.prototype.getDayName=function(a){return a?Date.CultureInfo.abbreviatedDayNames[this.getDay()]:Date.CultureInfo.dayNames[this.getDay()]};Date.prototype.getMonthName=function(a){return a?Date.CultureInfo.abbreviatedMonthNames[this.getMonth()]:Date.CultureInfo.monthNames[this.getMonth()]};Date.prototype._toString=Date.prototype.toString;Date.prototype.toString=function(c){var a=this;var b=function b(d){return(d.toString().length==1)?"0"+d:d};return c?c.replace(/dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?/g,function(d){switch(d){case"hh":return b(a.getHours()<13?a.getHours():(a.getHours()-12));case"h":return a.getHours()<13?a.getHours():(a.getHours()-12);case"HH":return b(a.getHours());case"H":return a.getHours();case"mm":return b(a.getMinutes());case"m":return a.getMinutes();case"ss":return b(a.getSeconds());case"s":return a.getSeconds();case"yyyy":return a.getFullYear();case"yy":return a.getFullYear().toString().substring(2,4);case"dddd":return a.getDayName();case"ddd":return a.getDayName(true);case"dd":return b(a.getDate());case"d":return a.getDate().toString();case"MMMM":return a.getMonthName();case"MMM":return a.getMonthName(true);case"MM":return b((a.getMonth()+1));case"M":return a.getMonth()+1;case"t":return a.getHours()<12?Date.CultureInfo.amDesignator.substring(0,1):Date.CultureInfo.pmDesignator.substring(0,1);case"tt":return a.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator;case"zzz":case"zz":case"z":return""}}):this._toString()};Date.now=function(){return new Date()};Date.today=function(){return Date.now().clearTime()};Date.prototype._orient=+1;Date.prototype.next=function(){this._orient=+1;return this};Date.prototype.last=Date.prototype.prev=Date.prototype.previous=function(){this._orient=-1;return this};Date.prototype._is=false;Date.prototype.is=function(){this._is=true;return this};Number.prototype._dateElement="day";Number.prototype.fromNow=function(){var a={};a[this._dateElement]=this;return Date.now().add(a)};Number.prototype.ago=function(){var a={};a[this._dateElement]=this*-1;return Date.now().add(a)};(function(){var g=Date.prototype,a=Number.prototype;var p=("sunday monday tuesday wednesday thursday friday saturday").split(/\s/),o=("january february march april may june july august september october november december").split(/\s/),n=("Millisecond Second Minute Hour Day Week Month Year").split(/\s/),m;var l=function(j){return function(){if(this._is){this._is=false;return this.getDay()==j}return this.moveToDayOfWeek(j,this._orient)}};for(var f=0;f<p.length;f++){g[p[f]]=g[p[f].substring(0,3)]=l(f)}var h=function(j){return function(){if(this._is){this._is=false;return this.getMonth()===j}return this.moveToMonth(j,this._orient)}};for(var d=0;d<o.length;d++){g[o[d]]=g[o[d].substring(0,3)]=h(d)}var e=function(k){return function(){if(k.substring(k.length-1)!="s"){k+="s"}return this["add"+k](this._orient)}};var b=function(j){return function(){this._dateElement=j;return this}};for(var c=0;c<n.length;c++){m=n[c].toLowerCase();g[m]=g[m+"s"]=e(n[c]);a[m]=a[m+"s"]=b(m)}}());Date.prototype.toJSONString=function(){return this.toString("yyyy-MM-ddThh:mm:ssZ")};Date.prototype.toShortDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortDatePattern)};Date.prototype.toLongDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.longDatePattern)};Date.prototype.toShortTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortTimePattern)};Date.prototype.toLongTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.longTimePattern)};Date.prototype.getOrdinal=function(){switch(this.getDate()){case 1:case 21:case 31:return"st";case 2:case 22:return"nd";case 3:case 23:return"rd";default:return"th"}};(function(){Date.Parsing={Exception:function(j){this.message="Parse error at '"+j.substring(0,10)+" ...'"}};var a=Date.Parsing;var c=a.Operators={rtoken:function(j){return function(k){var l=k.match(j);if(l){return([l[0],k.substring(l[0].length)])}else{throw new a.Exception(k)}}},token:function(j){return function(k){return c.rtoken(new RegExp("^s*"+k+"s*"))(k)}},stoken:function(j){return c.rtoken(new RegExp("^"+j))},until:function(j){return function(k){var l=[],n=null;while(k.length){try{n=j.call(this,k)}catch(m){l.push(n[0]);k=n[1];continue}break}return[l,k]}},many:function(j){return function(k){var n=[],l=null;while(k.length){try{l=j.call(this,k)}catch(m){return[n,k]}n.push(l[0]);k=l[1]}return[n,k]}},optional:function(j){return function(k){var l=null;try{l=j.call(this,k)}catch(m){return[null,k]}return[l[0],l[1]]}},not:function(j){return function(k){try{j.call(this,k)}catch(l){return[null,k]}throw new a.Exception(k)}},ignore:function(j){return j?function(k){var l=null;l=j.call(this,k);return[null,l[1]]}:null},product:function(){var k=arguments[0],l=Array.prototype.slice.call(arguments,1),m=[];for(var j=0;j<k.length;j++){m.push(c.each(k[j],l))}return m},cache:function(l){var j={},k=null;return function(m){try{k=j[m]=(j[m]||l.call(this,m))}catch(n){k=j[m]=n}if(k instanceof a.Exception){throw k}else{return k}}},any:function(){var j=arguments;return function(l){var m=null;for(var k=0;k<j.length;k++){if(j[k]==null){continue}try{m=(j[k].call(this,l))}catch(n){m=null}if(m){return m}}throw new a.Exception(l)}},each:function(){var j=arguments;return function(l){var o=[],m=null;for(var k=0;k<j.length;k++){if(j[k]==null){continue}try{m=(j[k].call(this,l))}catch(n){throw new a.Exception(l)}o.push(m[0]);l=m[1]}return[o,l]}},all:function(){var k=arguments,j=j;return j.each(j.optional(k))},sequence:function(j,k,l){k=k||c.rtoken(/^\s*/);l=l||null;if(j.length==1){return j[0]}return function(p){var t=null,u=null;var w=[];for(var o=0;o<j.length;o++){try{t=j[o].call(this,p)}catch(v){break}w.push(t[0]);try{u=k.call(this,t[1])}catch(n){u=null;break}p=u[1]}if(!t){throw new a.Exception(p)}if(u){throw new a.Exception(u[1])}if(l){try{t=l.call(this,t[1])}catch(m){throw new a.Exception(t[1])}}return[w,(t?t[1]:p)]}},between:function(k,l,j){j=j||k;var m=c.each(c.ignore(k),l,c.ignore(j));return function(n){var o=m.call(this,n);return[[o[0][0],r[0][2]],o[1]]}},list:function(j,k,l){k=k||c.rtoken(/^\s*/);l=l||null;return(j instanceof Array?c.each(c.product(j.slice(0,-1),c.ignore(k)),j.slice(-1),c.ignore(l)):c.each(c.many(c.each(j,c.ignore(k))),px,c.ignore(l)))},set:function(j,k,l){k=k||c.rtoken(/^\s*/);l=l||null;return function(C){var m=null,o=null,n=null,t=null,u=[[],C],B=false;for(var w=0;w<j.length;w++){n=null;o=null;m=null;B=(j.length==1);try{m=j[w].call(this,C)}catch(z){continue}t=[[m[0]],m[1]];if(m[1].length>0&&!B){try{n=k.call(this,m[1])}catch(A){B=true}}else{B=true}if(!B&&n[1].length===0){B=true}if(!B){var x=[];for(var v=0;v<j.length;v++){if(w!=v){x.push(j[v])}}o=c.set(x,k).call(this,n[1]);if(o[0].length>0){t[0]=t[0].concat(o[0]);t[1]=o[1]}}if(t[1].length<u[1].length){u=t}if(u[1].length===0){break}}if(u[0].length===0){return u}if(l){try{n=l.call(this,u[1])}catch(y){throw new a.Exception(u[1])}u[1]=n[1]}return u}},forward:function(j,k){return function(l){return j[k].call(this,l)}},replace:function(k,j){return function(l){var m=k.call(this,l);return[j,m[1]]}},process:function(k,j){return function(l){var m=k.call(this,l);return[j.call(this,m[0]),m[1]]}},min:function(j,k){return function(l){var m=k.call(this,l);if(m[0].length<j){throw new a.Exception(l)}return m}}};var h=function(j){return function(){var k=null,n=[];if(arguments.length>1){k=Array.prototype.slice.call(arguments)}else{if(arguments[0] instanceof Array){k=arguments[0]}}if(k){for(var m=0,l=k.shift();m<l.length;m++){k.unshift(l[m]);n.push(j.apply(null,k));k.shift();return n}}else{return j.apply(null,arguments)}}};var g="optional not ignore cache".split(/\s/);for(var d=0;d<g.length;d++){c[g[d]]=h(c[g[d]])}var f=function(j){return function(){if(arguments[0] instanceof Array){return j.apply(null,arguments[0])}else{return j.apply(null,arguments)}}};var e="each any all".split(/\s/);for(var b=0;b<e.length;b++){c[e[b]]=f(c[e[b]])}}());(function(){var f=function(k){var l=[];for(var g=0;g<k.length;g++){if(k[g] instanceof Array){l=l.concat(f(k[g]))}else{if(k[g]){l.push(k[g])}}}return l};Date.Grammar={};Date.Translator={hour:function(g){return function(){this.hour=Number(g)}},minute:function(g){return function(){this.minute=Number(g)}},second:function(g){return function(){this.second=Number(g)}},meridian:function(g){return function(){this.meridian=g.slice(0,1).toLowerCase()}},timezone:function(g){return function(){var k=g.replace(/[^\d\+\-]/g,"");if(k.length){this.timezoneOffset=Number(k)}else{this.timezone=g.toLowerCase()}}},day:function(g){var k=g[0];return function(){this.day=Number(k.match(/\d+/)[0])}},month:function(g){return function(){this.month=((g.length==3)?Date.getMonthNumberFromName(g):(Number(g)-1))}},year:function(g){return function(){var k=Number(g);this.year=((g.length>2)?k:(k+(((k+2000)<Date.CultureInfo.twoDigitYearMax)?2000:1900)))}},rday:function(g){return function(){switch(g){case"yesterday":this.days=-1;break;case"tomorrow":this.days=1;break;case"today":this.days=0;break;case"now":this.days=0;this.now=true;break}}},finishExact:function(g){g=(g instanceof Array)?g:[g];var k=new Date();this.year=k.getFullYear();this.month=k.getMonth();this.day=1;this.hour=0;this.minute=0;this.second=0;for(var l=0;l<g.length;l++){if(g[l]){g[l].call(this)}}this.hour=(this.meridian=="p"&&this.hour<13)?this.hour+12:this.hour;if(this.day>Date.getDaysInMonth(this.year,this.month)){throw new RangeError(this.day+" is not a valid value for days.")}var m=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);if(this.timezone){m.set({timezone:this.timezone})}else{if(this.timezoneOffset){m.set({timezoneOffset:this.timezoneOffset})}}return m},finish:function(g){g=(g instanceof Array)?f(g):[g];if(g.length===0){return null}for(var n=0;n<g.length;n++){if(typeof g[n]=="function"){g[n].call(this)}}if(this.now){return new Date()}var k=Date.today();var q=null;var o=!!(this.days!=null||this.orient||this.operator);if(o){var p,m,l;l=((this.orient=="past"||this.operator=="subtract")?-1:1);if(this.weekday){this.unit="day";p=(Date.getDayNumberFromName(this.weekday)-k.getDay());m=7;this.days=p?((p+(l*m))%m):(l*m)}if(this.month){this.unit="month";p=(this.month-k.getMonth());m=12;this.months=p?((p+(l*m))%m):(l*m);this.month=null}if(!this.unit){this.unit="day"}if(this[this.unit+"s"]==null||this.operator!=null){if(!this.value){this.value=1}if(this.unit=="week"){this.unit="day";this.value=this.value*7}this[this.unit+"s"]=this.value*l}return k.add(this)}else{if(this.meridian&&this.hour){this.hour=(this.hour<13&&this.meridian=="p")?this.hour+12:this.hour}if(this.weekday&&!this.day){this.day=(k.addDays((Date.getDayNumberFromName(this.weekday)-k.getDay()))).getDate()}if(this.month&&!this.day){this.day=1}return k.set(this)}}};var b=Date.Parsing.Operators,e=Date.Grammar,d=Date.Translator,j;e.datePartDelimiter=b.rtoken(/^([\s\-\.\,\/\x27]+)/);e.timePartDelimiter=b.stoken(":");e.whiteSpace=b.rtoken(/^\s*/);e.generalDelimiter=b.rtoken(/^(([\s\,]|at|on)+)/);var a={};e.ctoken=function(n){var m=a[n];if(!m){var o=Date.CultureInfo.regexPatterns;var l=n.split(/\s+/),k=[];for(var g=0;g<l.length;g++){k.push(b.replace(b.rtoken(o[l[g]]),l[g]))}m=a[n]=b.any.apply(null,k)}return m};e.ctoken2=function(g){return b.rtoken(Date.CultureInfo.regexPatterns[g])};e.h=b.cache(b.process(b.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),d.hour));e.hh=b.cache(b.process(b.rtoken(/^(0[0-9]|1[0-2])/),d.hour));e.H=b.cache(b.process(b.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),d.hour));e.HH=b.cache(b.process(b.rtoken(/^([0-1][0-9]|2[0-3])/),d.hour));e.m=b.cache(b.process(b.rtoken(/^([0-5][0-9]|[0-9])/),d.minute));e.mm=b.cache(b.process(b.rtoken(/^[0-5][0-9]/),d.minute));e.s=b.cache(b.process(b.rtoken(/^([0-5][0-9]|[0-9])/),d.second));e.ss=b.cache(b.process(b.rtoken(/^[0-5][0-9]/),d.second));e.hms=b.cache(b.sequence([e.H,e.mm,e.ss],e.timePartDelimiter));e.t=b.cache(b.process(e.ctoken2("shortMeridian"),d.meridian));e.tt=b.cache(b.process(e.ctoken2("longMeridian"),d.meridian));e.z=b.cache(b.process(b.rtoken(/^(\+|\-)?\s*\d\d\d\d?/),d.timezone));e.zz=b.cache(b.process(b.rtoken(/^(\+|\-)\s*\d\d\d\d/),d.timezone));e.zzz=b.cache(b.process(e.ctoken2("timezone"),d.timezone));e.timeSuffix=b.each(b.ignore(e.whiteSpace),b.set([e.tt,e.zzz]));e.time=b.each(b.optional(b.ignore(b.stoken("T"))),e.hms,e.timeSuffix);e.d=b.cache(b.process(b.each(b.rtoken(/^([0-2]\d|3[0-1]|\d)/),b.optional(e.ctoken2("ordinalSuffix"))),d.day));e.dd=b.cache(b.process(b.each(b.rtoken(/^([0-2]\d|3[0-1])/),b.optional(e.ctoken2("ordinalSuffix"))),d.day));e.ddd=e.dddd=b.cache(b.process(e.ctoken("sun mon tue wed thu fri sat"),function(g){return function(){this.weekday=g}}));e.M=b.cache(b.process(b.rtoken(/^(1[0-2]|0\d|\d)/),d.month));e.MM=b.cache(b.process(b.rtoken(/^(1[0-2]|0\d)/),d.month));e.MMM=e.MMMM=b.cache(b.process(e.ctoken("jan feb mar apr may jun jul aug sep oct nov dec"),d.month));e.y=b.cache(b.process(b.rtoken(/^(\d\d?)/),d.year));e.yy=b.cache(b.process(b.rtoken(/^(\d\d)/),d.year));e.yyy=b.cache(b.process(b.rtoken(/^(\d\d?\d?\d?)/),d.year));e.yyyy=b.cache(b.process(b.rtoken(/^(\d\d\d\d)/),d.year));j=function(){return b.each(b.any.apply(null,arguments),b.not(e.ctoken2("timeContext")))};e.day=j(e.d,e.dd);e.month=j(e.M,e.MMM);e.year=j(e.yyyy,e.yy);e.orientation=b.process(e.ctoken("past future"),function(g){return function(){this.orient=g}});e.operator=b.process(e.ctoken("add subtract"),function(g){return function(){this.operator=g}});e.rday=b.process(e.ctoken("yesterday tomorrow today now"),d.rday);e.unit=b.process(e.ctoken("minute hour day week month year"),function(g){return function(){this.unit=g}});e.value=b.process(b.rtoken(/^\d\d?(st|nd|rd|th)?/),function(g){return function(){this.value=g.replace(/\D/g,"")}});e.expression=b.set([e.rday,e.operator,e.value,e.unit,e.orientation,e.ddd,e.MMM]);j=function(){return b.set(arguments,e.datePartDelimiter)};e.mdy=j(e.ddd,e.month,e.day,e.year);e.ymd=j(e.ddd,e.year,e.month,e.day);e.dmy=j(e.ddd,e.day,e.month,e.year);e.date=function(g){return((e[Date.CultureInfo.dateElementOrder]||e.mdy).call(this,g))};e.format=b.process(b.many(b.any(b.process(b.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(g){if(e[g]){return e[g]}else{throw Date.Parsing.Exception(g)}}),b.process(b.rtoken(/^[^dMyhHmstz]+/),function(g){return b.ignore(b.stoken(g))}))),function(g){return b.process(b.each.apply(null,g),d.finishExact)});var h={};var c=function(g){return h[g]=(h[g]||e.format(g)[0])};e.formats=function(k){if(k instanceof Array){var l=[];for(var g=0;g<k.length;g++){l.push(c(k[g]))}return b.any.apply(null,l)}else{return c(k)}};e._formats=e.formats(["yyyy-MM-ddTHH:mm:ss","ddd, MMM dd, yyyy H:mm:ss tt","ddd MMM d yyyy HH:mm:ss zzz","d"]);e._start=b.process(b.set([e.date,e.time,e.expression],e.generalDelimiter,e.whiteSpace),d.finish);e.start=function(g){try{var k=e._formats.call({},g);if(k[1].length===0){return k}}catch(l){}return e._start.call({},g)}}());Date._parse=Date.parse;Date.parse=function(a){var b=null;if(!a){return null}try{b=Date.Grammar.start.call({},a)}catch(c){return null}return((b[1].length===0)?b[0]:null)};Date.getParseFunction=function(b){var a=Date.Grammar.formats(b);return function(c){var d=null;try{d=a.call({},c)}catch(f){return null}return((d[1].length===0)?d[0]:null)}};Date.parseExact=function(a,b){return Date.getParseFunction(b)(a)};ko.bindingHandlers.heartProgress={init:function(b,c){$(b).addClass("heartProgress");for(var a=0;a<4;a++){$("<span>").appendTo(b)}},update:function(a,b){var c=b();$("span",a).each(function(d){$(this).toggleClass("fullHeart",d<c())})}};function BpmViewModel(){TAB_NAMES=["Measure","History"];var a=this;a.tabs=TAB_NAMES;a.chosenTabId=ko.observable(TAB_NAMES[0]);a.goToTab=function(b){a.chosenTabId(b)};a.fullHeartCount=ko.observable(0);a.historyItems=ko.observableArray([]);a.removeHistoryItem=function(b){a.historyItems.remove(b);saveHistory()}}var model=new BpmViewModel();ko.applyBindings(model);function supports_html5_storage(){try{return"localStorage" in window&&window.localStorage!==null}catch(a){return false}}function loadHistory(){var a=[];if(supports_html5_storage){if(localStorage.historyData){a=JSON.parse(localStorage.historyData)}}model.historyItems.removeAll();ko.utils.arrayPushAll(model.historyItems(),a);model.historyItems.valueHasMutated()}function saveHistory(){if(supports_html5_storage){localStorage.historyData=ko.toJSON(model.historyItems)}}function hideAddressBar(){if(!window.location.hash){if(document.height<window.outerHeight){document.body.style.height=(window.outerHeight+50)+"px"}setTimeout(function(){window.scrollTo(0,1)},50)}}$(window).load(function(){if(!window.pageYOffset){hideAddressBar()}});$(window).on("orientationchange",hideAddressBar);(function(){function av(o,n){var t;o||(o={});for(t in n){o[t]=n[t]}return o}function bS(){for(var o=0,n=arguments,u=n.length,t={};o<u;o++){t[n[o++]]=n[o]}return t}function aq(o,n){return parseInt(o,n||10)}function q(n){return typeof n==="string"}function bx(n){return typeof n==="object"}function aJ(n){return Object.prototype.toString.call(n)==="[object Array]"}function al(n){return typeof n==="number"}function bE(n){return a6.log(n)/a6.LN10}function a2(n){return a6.pow(10,n)}function bu(o,n){for(var t=o.length;t--;){if(o[t]===n){o.splice(t,1);break}}}function ax(n){return n!==bn&&n!==null}function bm(o,n,w){var u,t;if(q(n)){ax(w)?o.setAttribute(n,w):o&&o.getAttribute&&(t=o.getAttribute(n))}else{if(ax(n)&&bx(n)){for(u in n){o.setAttribute(u,n[u])}}}return t}function bV(n){return aJ(n)?n:[n]}function ay(){var o=arguments,n,u,t=o.length;for(n=0;n<t;n++){if(u=o[n],typeof u!=="undefined"&&u!==null){return u}}}function be(o,n){if(at&&n&&n.opacity!==bn){n.filter="alpha(opacity="+n.opacity*100+")"}av(o.style,n)}function aX(o,n,w,u,t){o=bp.createElement(o);n&&av(o,n);t&&be(o,{padding:0,border:aU,margin:0});w&&be(o,w);u&&u.appendChild(o);return o}function aB(o,n){var t=function(){};t.prototype=new o;av(t.prototype,n);return t}function N(o,n,z,y){var w=aT.lang,u=o;n===-1?(n=(o||0).toString(),o=n.indexOf(".")>-1?n.split(".")[1].length:0):o=isNaN(n=a4(n))?2:n;var n=o,z=z===void 0?w.decimalPoint:z,y=y===void 0?w.thousandsSep:y,w=u<0?"-":"",o=String(aq(u=a4(+u||0).toFixed(n))),t=o.length>3?o.length%3:0;return w+(t?o.substr(0,t)+y:"")+o.substr(t).replace(/(\d{3})(?=\d)/g,"$1"+y)+(n?z+a4(u-o).toFixed(n).slice(2):"")}function bH(o,n){return Array((n||2)+1-String(o).length).join(0)+o}function bN(o,n,w,u){var t,w=ay(w,1);t=o/w;n||(n=[1,2,2.5,5,10],u&&u.allowDecimals===!1&&(w===1?n=[1,2,5,10]:w<=0.1&&(n=[1/w])));for(u=0;u<n.length;u++){if(o=n[u],t<=(n[u]+(n[u+1]||n[u]))/2){break}}o*=w;return o}function br(o,n){var z=n||[[am,[1,2,5,10,20,25,50,100,200,500]],[by,[1,2,5,10,15,30]],[e,[1,2,5,10,15,30]],[s,[1,2,3,4,6,8,12]],[bi,[1,2]],[bM,[1,2]],[bW,[1,2,3,4,6]],[bq,null]],y=z[z.length-1],w=bk[y[0]],u=y[1],t;for(t=0;t<z.length;t++){if(y=z[t],w=bk[y[0]],u=y[1],z[t+1]&&o<=(w*u[u.length-1]+bk[z[t+1][0]])/2){break}}w===bk[bq]&&o<5*w&&(u=[1,2,5]);w===bk[bq]&&o<5*w&&(u=[1,2,5]);z=bN(o/w,u);return{unitRange:w,count:z,unitName:y[0]}}function aL(F,E,D,C){var B=[],A={},z=aT.global.useUTC,y,w=new Date(E),E=F.unitRange,u=F.count;E>=bk[by]&&(w.setMilliseconds(0),w.setSeconds(E>=bk[e]?0:u*aS(w.getSeconds()/u)));if(E>=bk[e]){w[v](E>=bk[s]?0:u*aS(w[a5]()/u))}if(E>=bk[s]){w[a](E>=bk[bi]?0:u*aS(w[aC]()/u))}if(E>=bk[bi]){w[ae](E>=bk[bW]?1:u*aS(w[bI]()/u))}E>=bk[bW]&&(w[bJ](E>=bk[bq]?0:u*aS(w[bl]()/u)),y=w[bw]());E>=bk[bq]&&(y-=y%u,w[bt](y));if(E===bk[bM]){w[ae](w[bI]()-w[h]()+ay(C,1))}C=1;y=w[bw]();for(var t=w.getTime(),o=w[bl](),n=w[bI](),w=z?0:(86400000+w.getTimezoneOffset()*60000)%86400000;t<D;){B.push(t),E===bk[bq]?t=a0(y+C*u,0):E===bk[bW]?t=a0(y,o+C*u):!z&&(E===bk[bi]||E===bk[bM])?t=a0(y,o,n+C*u*(E===bk[bi]?1:7)):(t+=E*u,E<=bk[s]&&t%bk[bi]===w&&(A[t]=bi)),C++}B.push(t);B.info=av(F,{higherRanks:A,totalRange:E*u});return B}function bO(){this.symbol=this.color=0}function an(o,n){var w=o.length,u,t;for(t=0;t<w;t++){o[t].ss_i=t}o.sort(function(y,z){u=n(y,z);return u===0?y.ss_i-z.ss_i:u});for(t=0;t<w;t++){delete o[t].ss_i}}function bs(o){for(var n=o.length,t=o[0];n--;){o[n]<t&&(t=o[n])}return t}function bP(o){for(var n=o.length,t=o[0];n--;){o[n]>t&&(t=o[n])}return t}function bB(o,n){for(var t in o){o[t]&&o[t]!==n&&o[t].destroy&&o[t].destroy(),delete o[t]}}function aN(n){az||(az=aX(aD));n&&az.appendChild(n);az.innerHTML=""}function bQ(o,n){var t="Highcharts error #"+o+": www.highcharts.com/errors/"+o;if(n){throw t}else{a3.console&&console.log(t)}}function ag(n){return parseFloat(n.toPrecision(14))}function aM(o,n){ap=ay(o,n.animation)}function bz(){var o=aT.global.useUTC,n=o?"getUTC":"get",t=o?"setUTC":"set";a0=o?Date.UTC:function(w,u,B,A,z,y){return(new Date(w,u,ay(B,1),ay(A,0),ay(z,0),ay(y,0))).getTime()};a5=n+"Minutes";aC=n+"Hours";h=n+"Day";bI=n+"Date";bl=n+"Month";bw=n+"FullYear";v=t+"Minutes";a=t+"Hours";ae=t+"Date";bJ=t+"Month";bt=t+"FullYear"}function ao(){}function J(o,n,t){this.axis=o;this.pos=n;this.type=t||"";this.isNew=!0;t||this.addLabel()}function bC(o,n){this.axis=o;if(n){this.options=n,this.id=n.id}return this}function a8(o,n,y,w,u){var t=o.chart.inverted;this.axis=o;this.isNegative=y;this.options=n;this.x=w;this.stack=u;this.alignOptions={align:n.align||(t?y?"left":"right":"center"),verticalAlign:n.verticalAlign||(t?"middle":y?"bottom":"top"),y:ay(n.y,t?4:y?14:-6),x:ay(n.x,t?y?-6:6:0)};this.textAlign=n.textAlign||(t?y?"right":"left":"center")}function bf(){this.init.apply(this,arguments)}function aG(o,n){var y=n.borderWidth,w=n.style,u=n.shared,t=aq(w.padding);this.chart=o;this.options=n;w.padding=0;this.crosshairs=[];this.currentY=this.currentX=0;this.tooltipIsHidden=!0;this.label=o.renderer.label("",0,0,null,null,null,n.useHTML,null,"tooltip").attr({padding:t,fill:n.backgroundColor,"stroke-width":y,r:n.borderRadius,zIndex:8}).css(w).hide().add();bA||this.label.shadow(n.shadow);this.shared=u}function aE(o,n){var t=bA?"":n.chart.zoomType;this.zoomX=/x/.test(t);this.zoomY=/y/.test(t);this.options=n;this.chart=o;this.init(o,n.tooltip)}function ai(n){this.init(n)}function m(o,n){var w,u=o.series;o.series=null;w=ar(aT,o);w.series=o.series=u;var u=w.chart,t=u.margin,t=bx(t)?t:[t,t,t,t];this.optionsMarginTop=ay(u.marginTop,t[0]);this.optionsMarginRight=ay(u.marginRight,t[1]);this.optionsMarginBottom=ay(u.marginBottom,t[2]);this.optionsMarginLeft=ay(u.marginLeft,t[3]);this.runChartClick=(t=u.events)&&!!t.click;this.callback=n;this.isResizing=0;this.options=w;this.axes=[];this.series=[];this.hasCartesianSeries=u.showAxes;this.init(t)}var bn,bp=document,a3=window,a6=Math,aw=a6.round,aS=a6.floor,I=a6.ceil,au=a6.max,aW=a6.min,a4=a6.abs,aR=a6.cos,ad=a6.sin,c=a6.PI,af=c*2/360,bK=navigator.userAgent,at=/msie/i.test(bK)&&!a3.opera,a9=bp.documentMode===8,k=/AppleWebKit/.test(bK),bR=/Firefox/.test(bK),aF=!!bp.createElementNS&&!!bp.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,x=bR&&parseInt(bK.split("Firefox/")[1],10)<4,bA=!aF&&!at&&!!bp.createElement("canvas").getContext,d,g=bp.documentElement.ontouchstart!==bn,bD={},bT=0,az,aT,ac,ap,bL,bk,b=function(){},aD="div",aU="none",bF="rgba(192,192,192,"+(aF?0.000001:0.002)+")",am="millisecond",by="second",e="minute",s="hour",bi="day",bM="week",bW="month",bq="year",a0,a5,aC,h,bI,bl,bw,v,a,ae,bJ,bt,aQ={};a3.Highcharts={};ac=function(E,D,C){if(!ax(D)||isNaN(D)){return"Invalid date"}var E=ay(E,"%Y-%m-%d %H:%M:%S"),B=new Date(D),A,z=B[aC](),y=B[h](),w=B[bI](),u=B[bl](),t=B[bw](),o=aT.lang,n=o.weekdays,D={a:n[y].substr(0,3),A:n[y],d:bH(w),e:w,b:o.shortMonths[u],B:o.months[u],m:bH(u+1),y:t.toString().substr(2,2),Y:t,H:bH(z),I:bH(z%12||12),l:z%12||12,M:bH(B[a5]()),p:z<12?"AM":"PM",P:z<12?"am":"pm",S:bH(B.getSeconds()),L:bH(aw(D%1000),3)};for(A in D){E=E.replace("%"+A,D[A])}return C?E.substr(0,1).toUpperCase()+E.substr(1):E};bO.prototype={wrapColor:function(n){if(this.color>=n){this.color=0}},wrapSymbol:function(n){if(this.symbol>=n){this.symbol=0}}};bk=bS(am,1,by,1000,e,60000,s,3600000,bi,86400000,bM,604800000,bW,2592000000,bq,31556952000);bL={init:function(C,B,A){var B=B||"",z=C.shift,y=B.indexOf("C")>-1,w=y?7:3,u,B=B.split(" "),A=[].concat(A),t,o,n=function(D){for(u=D.length;u--;){D[u]==="M"&&D.splice(u+1,0,D[u+1],D[u+2],D[u+1],D[u+2])}};y&&(n(B),n(A));C.isArea&&(t=B.splice(B.length-6,6),o=A.splice(A.length-6,6));if(z<=A.length/w){for(;z--;){A=[].concat(A).splice(0,w).concat(A)}}C.shift=0;if(B.length){for(C=A.length;B.length<C;){z=[].concat(B).splice(B.length-w,w),y&&(z[w-6]=z[w-2],z[w-5]=z[w-1]),B=B.concat(z)}}t&&(B=B.concat(t),A=A.concat(o));return[B,A]},step:function(o,n,y,w){var u=[],t=o.length;if(y===1){u=w}else{if(t===n.length&&y<1){for(;t--;){w=parseFloat(o[t]),u[t]=isNaN(w)?o[t]:y*parseFloat(n[t]-w)+w}}else{u=n}}return u}};var aV=a3.HighchartsAdapter,bd=aV||{},bv=bd.adapterRun,bh=bd.getScript,aA=bd.each,bo=bd.grep,aI=bd.offset,ah=bd.map,ar=bd.merge,bc=bd.addEvent,a1=bd.removeEvent,bg=bd.fireEvent,ak=bd.washMouseEvent,f=bd.animate,l=bd.stop;aV&&aV.init&&aV.init(bL);if(!aV&&a3.jQuery){var aZ=jQuery,bh=aZ.getScript,bv=function(o,n){return aZ(o)[n]()},aA=function(o,n){for(var u=0,t=o.length;u<t;u++){if(n.call(o[u],o[u],u,o)===!1){return u}}},bo=aZ.grep,ah=function(o,n){for(var w=[],u=0,t=o.length;u<t;u++){w[u]=n.call(o[u],o[u],u,o)}return w},ar=function(){var n=arguments;return aZ.extend(!0,null,n[0],n[1],n[2],n[3])},aI=function(n){return aZ(n).offset()},bc=function(o,n,t){aZ(o).bind(n,t)},a1=function(o,n,u){var t=bp.removeEventListener?"removeEventListener":"detachEvent";bp[t]&&!o[t]&&(o[t]=function(){});aZ(o).unbind(n,u)},bg=function(o,n,z,y){var w=aZ.Event(n),u="detached"+n,t;z&&(delete z.layerX,delete z.layerY);av(w,z);o[n]&&(o[u]=o[n],o[n]=null);aA(["preventDefault","stopPropagation"],function(B){var A=w[B];w[B]=function(){try{A.call(w)}catch(C){B==="preventDefault"&&(t=!0)}}});aZ(o).trigger(w);o[u]&&(o[n]=o[u],o[u]=null);y&&!w.isDefaultPrevented()&&!t&&y(w)},ak=function(n){return n},f=function(o,n,u){var t=aZ(o);if(n.d){o.toD=n.d,n.d=1}t.stop();t.animate(n,u)},l=function(n){aZ(n).stop()};aZ.extend(aZ.easing,{easeOutQuad:function(o,n,w,u,t){return -u*(n/=t)*(n-2)+w}});var p=aZ.fx,bU=p.step;aA(["cur","_default","width","height"],function(o,n){var w=bU,u,t;o==="cur"?w=p.prototype:o==="_default"&&aZ.Tween&&(w=aZ.Tween.propHooks[o],o="set");(u=w[o])&&(w[o]=function(y){y=n?y:this;t=y.elem;return t.attr?t.attr(y.prop,o==="cur"?bn:y.now):u.apply(this,arguments)})});bU.d=function(o){var n=o.elem;if(!o.started){var t=bL.init(n,n.d,n.toD);o.start=t[0];o.end=t[1];o.started=!0}n.attr("d",bL.step(o.start,o.end,o.pos,n.toD))}}bd={enabled:!0,align:"center",x:0,y:15,style:{color:"#666",fontSize:"11px",lineHeight:"14px"}};aT={colors:"#4572A7,#AA4643,#89A54E,#80699B,#3D96AE,#DB843D,#92A8CD,#A47D7C,#B5CA92".split(","),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),shortMonths:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),weekdays:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),decimalPoint:".",resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/2.2.4/modules/canvas-tools.js"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacingTop:10,spacingRight:10,spacingBottom:15,spacingLeft:10,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",y:15,style:{color:"#3E576F",fontSize:"16px"}},subtitle:{text:"",align:"center",y:30,style:{color:"#6D869F"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1000},events:{},lineWidth:2,shadow:!0,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:ar(bd,{enabled:!1,y:-6,formatter:function(){return this.y}}),cropThreshold:300,pointRange:0,showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#3E576F",inactiveColor:"#CCC"},shadow:!1,itemStyle:{cursor:"pointer",color:"#3E576F",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"1em"},style:{position:"absolute",backgroundColor:"white",opacity:0.5,textAlign:"center"}},tooltip:{enabled:!0,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:2,borderRadius:5,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:!0,shared:bA,snap:g?25:10,style:{color:"#333333",fontSize:"12px",padding:"5px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"10px"}}};var aO=aT.plotOptions,aV=aO.line;bz();var aH=function(o){var n=[],t;(function(u){(t=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(u))?n=[aq(t[1]),aq(t[2]),aq(t[3]),parseFloat(t[4],10)]:(t=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(u))&&(n=[aq(t[1],16),aq(t[2],16),aq(t[3],16),1])})(o);return{get:function(u){return n&&!isNaN(n[0])?u==="rgb"?"rgb("+n[0]+","+n[1]+","+n[2]+")":u==="a"?n[3]:"rgba("+n.join(",")+")":o},brighten:function(u){if(al(u)&&u!==0){var w;for(w=0;w<3;w++){n[w]+=aq(u*255),n[w]<0&&(n[w]=0),n[w]>255&&(n[w]=255)}}return this},setOpacity:function(u){n[3]=u;return this}}};ao.prototype={init:function(o,n){this.element=n==="span"?aX(n):bp.createElementNS("http://www.w3.org/2000/svg",n);this.renderer=o;this.attrSetters={}},animate:function(o,n,t){n=ay(n,ap,!0);l(this);if(n){n=ar(n);if(t){n.complete=t}f(this,o,n)}else{this.attr(o),t&&t()}},attr:function(H,G){var F,E,D,C,B=this.element,A=B.nodeName,z=this.renderer,y,w=this.attrSetters,u=this.shadows,t,o,n=this;q(H)&&ax(G)&&(F=H,H={},H[F]=G);if(q(H)){F=H,A==="circle"?F={x:"cx",y:"cy"}[F]||F:F==="strokeWidth"&&(F="stroke-width"),n=bm(B,F)||this[F]||0,F!=="d"&&F!=="visibility"&&(n=parseFloat(n))}else{for(F in H){if(y=!1,E=H[F],D=w[F]&&w[F](E,F),D!==!1){D!==bn&&(E=D);if(F==="d"){E&&E.join&&(E=E.join(" ")),/(NaN| {2}|^$)/.test(E)&&(E="M 0 0")}else{if(F==="x"&&A==="text"){for(D=0;D<B.childNodes.length;D++){C=B.childNodes[D],bm(C,"x")===bm(B,"x")&&bm(C,"x",E)}this.rotation&&bm(B,"transform","rotate("+this.rotation+" "+E+" "+aq(H.y||bm(B,"y"))+")")}else{if(F==="fill"){E=z.color(E,B,F)}else{if(A==="circle"&&(F==="x"||F==="y")){F={x:"cx",y:"cy"}[F]||F}else{if(A==="rect"&&F==="r"){bm(B,{rx:E,ry:E}),y=!0}else{if(F==="translateX"||F==="translateY"||F==="rotation"||F==="verticalAlign"){y=o=!0}else{if(F==="stroke"){E=z.color(E,B,F)}else{if(F==="dashstyle"){if(F="stroke-dasharray",E=E&&E.toLowerCase(),E==="solid"){E=aU}else{if(E){E=E.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(D=E.length;D--;){E[D]=aq(E[D])*H["stroke-width"]}E=E.join(",")}}}else{if(F==="isTracker"){this[F]=E}else{if(F==="width"){E=aq(E)}else{if(F==="align"){F="text-anchor",E={left:"start",center:"middle",right:"end"}[E]}else{if(F==="title"){D=B.getElementsByTagName("title")[0],D||(D=bp.createElementNS("http://www.w3.org/2000/svg","title"),B.appendChild(D)),D.textContent=E}}}}}}}}}}}}F==="strokeWidth"&&(F="stroke-width");k&&F==="stroke-width"&&E===0&&(E=0.000001);this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(F)&&(t||(this.symbolAttr(H),t=!0),y=!0);if(u&&/^(width|height|visibility|x|y|d|transform)$/.test(F)){for(D=u.length;D--;){bm(u[D],F,F==="height"?au(E-(u[D].cutHeight||0),0):E)}}if((F==="width"||F==="height")&&A==="rect"&&E<0){E=0}this[F]=E;o&&this.updateTransform();F==="text"?(this.textStr=E,this.added&&z.buildText(this)):y||bm(B,F,E)}}}if(k&&/Chrome\/(18|19)/.test(bK)&&A==="text"&&(H.x!==bn||H.y!==bn)){F=B.parentNode,E=B.nextSibling,F&&(F.removeChild(B),E?F.insertBefore(B,E):F.appendChild(B))}return n},symbolAttr:function(o){var n=this;aA("x,y,r,start,end,width,height,innerR,anchorX,anchorY".split(","),function(t){n[t]=ay(o[t],n[t])});n.attr({d:n.renderer.symbols[n.symbolName](n.x,n.y,n.width,n.height,n)})},clip:function(n){return this.attr("clip-path","url("+this.renderer.url+"#"+n.id+")")},crisp:function(B,A,z,y,w){var u,t={},o={},n,B=B||this.strokeWidth||this.attr&&this.attr("stroke-width")||0;n=aw(B)%2/2;o.x=aS(A||this.x||0)+n;o.y=aS(z||this.y||0)+n;o.width=aS((y||this.width||0)-2*n);o.height=aS((w||this.height||0)-2*n);o.strokeWidth=B;for(u in o){this[u]!==o[u]&&(this[u]=t[u]=o[u])}return t},css:function(o){var n=this.element,n=o&&o.width&&n.nodeName==="text",w,u="",t=function(z,y){return"-"+y.toLowerCase()};if(o&&o.color){o.fill=o.color}this.styles=o=av(this.styles,o);if(at&&!aF){n&&delete o.width,be(this.element,o)}else{for(w in o){u+=w.replace(/([A-Z])/g,t)+":"+o[w]+";"}this.attr({style:u})}n&&this.added&&this.renderer.buildText(this);return this},on:function(o,n){var t=n;g&&o==="click"&&(o="touchstart",t=function(u){u.preventDefault();n()});this.element["on"+o]=t;return this},setRadialReference:function(n){this.element.radialReference=n;return this},translate:function(o,n){return this.attr({translateX:o,translateY:n})},invert:function(){this.inverted=!0;this.updateTransform();return this},htmlCss:function(o){var n=this.element;if(n=o&&n.tagName==="SPAN"&&o.width){delete o.width,this.textWidth=n,this.updateTransform()}this.styles=av(this.styles,o);be(this.element,o);return this},htmlGetBBox:function(o){var n=this.element,t=this.bBox;if(!t||o){if(n.nodeName==="text"){n.style.position="absolute"}t=this.bBox={x:n.offsetLeft,y:n.offsetTop,width:n.offsetWidth,height:n.offsetHeight}}return t},htmlUpdateTransform:function(){if(this.added){var O=this.renderer,M=this.element,L=this.translateX||0,K=this.translateY||0,H=this.x||0,G=this.y||0,F=this.textAlign||"left",E={left:0,center:0.5,right:1}[F],D=F&&F!=="left",C=this.shadows;if(L||K){be(M,{marginLeft:L,marginTop:K}),C&&aA(C,function(P){be(P,{marginLeft:L+1,marginTop:K+1})})}this.inverted&&aA(M.childNodes,function(P){O.invertChild(P,M)});if(M.tagName==="SPAN"){var B,A,C=this.rotation,z;B=0;var w=1,u=0,y;z=aq(this.textWidth);var t=this.xCorr||0,o=this.yCorr||0,n=[C,F,M.innerHTML,this.textWidth].join(",");if(n!==this.cTT){ax(C)&&(B=C*af,w=aR(B),u=ad(B),be(M,{filter:C?["progid:DXImageTransform.Microsoft.Matrix(M11=",w,", M12=",-u,", M21=",u,", M22=",w,", sizingMethod='auto expand')"].join(""):aU})),B=ay(this.elemWidth,M.offsetWidth),A=ay(this.elemHeight,M.offsetHeight),B>z&&/[ \-]/.test(M.innerText)&&(be(M,{width:z+"px",display:"block",whiteSpace:"normal"}),B=z),z=O.fontMetrics(M.style.fontSize).b,t=w<0&&-B,o=u<0&&-A,y=w*u<0,t+=u*z*(y?1-E:E),o-=w*z*(C?y?E:1-E:1),D&&(t-=B*E*(w<0?-1:1),C&&(o-=A*E*(u<0?-1:1)),be(M,{textAlign:F})),this.xCorr=t,this.yCorr=o}be(M,{left:H+t+"px",top:G+o+"px"});this.cTT=n}}else{this.alignOnAdd=!0}},updateTransform:function(){var o=this.translateX||0,n=this.translateY||0,w=this.inverted,u=this.rotation,t=[];w&&(o+=this.attr("width"),n+=this.attr("height"));(o||n)&&t.push("translate("+o+","+n+")");w?t.push("rotate(90) scale(-1,1)"):u&&t.push("rotate("+u+" "+(this.x||0)+" "+(this.y||0)+")");t.length&&bm(this.element,"transform",t.join(" "))},toFront:function(){var n=this.element;n.parentNode.appendChild(n);return this},align:function(o,n,A){o?(this.alignOptions=o,this.alignByTranslate=n,A||this.renderer.alignedObjects.push(this)):(o=this.alignOptions,n=this.alignByTranslate);var A=ay(A,this.renderer),z=o.align,y=o.verticalAlign,w=(A.x||0)+(o.x||0),u=(A.y||0)+(o.y||0),t={};/^(right|center)$/.test(z)&&(w+=(A.width-(o.width||0))/{right:1,center:2}[z]);t[n?"translateX":"x"]=aw(w);/^(bottom|middle)$/.test(y)&&(u+=(A.height-(o.height||0))/({bottom:1,middle:2}[y]||1));t[n?"translateY":"y"]=aw(u);this[this.placed?"animate":"attr"](t);this.placed=!0;this.alignAttr=t;return this},getBBox:function(o){var n,y,w=this.rotation;y=this.element;var u=w*af;if(y.namespaceURI==="http://www.w3.org/2000/svg"){try{n=y.getBBox?av({},y.getBBox()):{width:y.offsetWidth,height:y.offsetHeight}}catch(t){}if(!n||n.width<0){n={width:0,height:0}}o=n.width;y=n.height;if(w){n.width=a4(y*ad(u))+a4(o*aR(u)),n.height=a4(y*aR(u))+a4(o*ad(u))}}else{n=this.htmlGetBBox(o)}return n},show:function(){return this.attr({visibility:"visible"})},hide:function(){return this.attr({visibility:"hidden"})},add:function(o){var n=this.renderer,A=o||n,z=A.element||n.box,y=z.childNodes,w=this.element,u=bm(w,"zIndex"),t;this.parentInverted=o&&o.inverted;this.textStr!==void 0&&n.buildText(this);if(u){A.handleZ=!0,u=aq(u)}if(A.handleZ){for(A=0;A<y.length;A++){if(o=y[A],n=bm(o,"zIndex"),o!==w&&(aq(n)>u||!ax(u)&&ax(n))){z.insertBefore(w,o);t=!0;break}}}t||z.appendChild(w);this.added=!0;bg(this,"add");return this},safeRemoveChild:function(o){var n=o.parentNode;n&&n.removeChild(o)},destroy:function(){var o=this,n=o.element||{},y=o.shadows,w=o.box,u,t;n.onclick=n.onmouseout=n.onmouseover=n.onmousemove=null;l(o);if(o.clipPath){o.clipPath=o.clipPath.destroy()}if(o.stops){for(t=0;t<o.stops.length;t++){o.stops[t]=o.stops[t].destroy()}o.stops=null}o.safeRemoveChild(n);y&&aA(y,function(z){o.safeRemoveChild(z)});w&&w.destroy();bu(o.renderer.alignedObjects,o);for(u in o){delete o[u]}return null},empty:function(){for(var o=this.element,n=o.childNodes,t=n.length;t--;){o.removeChild(n[t])}},shadow:function(o,n,A){var z=[],y,w=this.element,u,t=this.parentInverted?"(-1,-1)":"(1,1)";if(o){for(o=1;o<=3;o++){y=w.cloneNode(0);u=7-2*o;bm(y,{isShadow:"true",stroke:"rgb(0, 0, 0)","stroke-opacity":0.05*o,"stroke-width":u,transform:"translate"+t,fill:aU});if(A){bm(y,"height",au(bm(y,"height")-u,0)),y.cutHeight=u}n?n.element.appendChild(y):w.parentNode.insertBefore(y,w);z.push(y)}this.shadows=z}return this}};var aj=function(){this.init.apply(this,arguments)};aj.prototype={Element:ao,init:function(o,n,z,y){var w=location,u;u=this.createElement("svg").attr({xmlns:"http://www.w3.org/2000/svg",version:"1.1"});o.appendChild(u.element);this.isSVG=!0;this.box=u.element;this.boxWrapper=u;this.alignedObjects=[];this.url=at?"":w.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1");this.defs=this.createElement("defs").add();this.forExport=y;this.gradients={};this.setSize(n,z,!1);var t;if(bR&&o.getBoundingClientRect){this.subPixelFix=n=function(){be(o,{left:0,top:0});t=o.getBoundingClientRect();be(o,{left:I(t.left)-t.left+"px",top:I(t.top)-t.top+"px"})},n(),bc(a3,"resize",n)}},isHidden:function(){return !this.boxWrapper.getBBox().width},destroy:function(){var n=this.defs;this.box=null;this.boxWrapper=this.boxWrapper.destroy();bB(this.gradients||{});this.gradients=null;if(n){this.defs=n.destroy()}this.subPixelFix&&a1(a3,"resize",this.subPixelFix);return this.alignedObjects=null},createElement:function(o){var n=new this.Element;n.init(this,o);return n},draw:function(){},buildText:function(E){for(var D=E.element,C=ay(E.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),B=D.childNodes,A=/style="([^"]+)"/,z=/href="([^"]+)"/,y=bm(D,"x"),w=E.styles,u=w&&aq(w.width),t=w&&w.lineHeight,o,w=B.length,n=[];w--;){D.removeChild(B[w])}u&&!E.added&&this.box.appendChild(D);C[C.length-1]===""&&C.pop();aA(C,function(L,K){var G,H=0,F,L=L.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");G=L.split("|||");aA(G,function(R){if(R!==""||G.length===1){var M={},Q=bp.createElementNS("http://www.w3.org/2000/svg","tspan");A.test(R)&&bm(Q,"style",R.match(A)[1].replace(/(;| |^)color([ :])/,"$1fill$2"));z.test(R)&&(bm(Q,"onclick",'location.href="'+R.match(z)[1]+'"'),be(Q,{cursor:"pointer"}));R=(R.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">");Q.appendChild(bp.createTextNode(R));H?M.dx=3:M.x=y;if(!H){if(K){!aF&&E.renderer.forExport&&be(Q,{display:"block"});F=a3.getComputedStyle&&aq(a3.getComputedStyle(o,null).getPropertyValue("line-height"));if(!F||isNaN(F)){var P;if(!(P=t)){if(!(P=o.offsetHeight)){n[K]=D.getBBox().height,P=aw(n[K]-(n[K-1]||0))||18}}F=P}bm(Q,"dy",F)}o=Q}bm(Q,M);D.appendChild(Q);H++;if(u){for(var R=R.replace(/-/g,"- ").split(" "),O=[];R.length||O.length;){P=E.getBBox().width,M=P>u,!M||R.length===1?(R=O,O=[],R.length&&(Q=bp.createElementNS("http://www.w3.org/2000/svg","tspan"),bm(Q,{dy:t||16,x:y}),D.appendChild(Q),P>u&&(u=P))):(Q.removeChild(Q.firstChild),O.unshift(R.pop())),R.length&&Q.appendChild(bp.createTextNode(R.join(" ").replace(/- /g,"-")))}}}})})},button:function(G,F,E,D,C,B,A){var z=this.label(G,F,E),y=0,w,u,t,o,n,G={x1:0,y1:0,x2:0,y2:1},C=ar(bS("stroke-width",1,"stroke","#999","fill",bS("linearGradient",G,"stops",[[0,"#FFF"],[1,"#DDD"]]),"r",3,"padding",3,"style",bS("color","black")),C);t=C.style;delete C.style;B=ar(C,bS("stroke","#68A","fill",bS("linearGradient",G,"stops",[[0,"#FFF"],[1,"#ACF"]])),B);o=B.style;delete B.style;A=ar(C,bS("stroke","#68A","fill",bS("linearGradient",G,"stops",[[0,"#9BD"],[1,"#CDF"]])),A);n=A.style;delete A.style;bc(z.element,"mouseenter",function(){z.attr(B).css(o)});bc(z.element,"mouseleave",function(){w=[C,B,A][y];u=[t,o,n][y];z.attr(w).css(u)});z.setState=function(H){(y=H)?H===2&&z.attr(A).css(n):z.attr(C).css(t)};return z.on("click",function(){D.call(z)}).attr(C).css(av({cursor:"default"},t))},crispLine:function(o,n){o[1]===o[4]&&(o[1]=o[4]=aw(o[1])+n%2/2);o[2]===o[5]&&(o[2]=o[5]=aw(o[2])+n%2/2);return o},path:function(o){var n={fill:aU};aJ(o)?n.d=o:bx(o)&&av(n,o);return this.createElement("path").attr(n)},circle:function(o,n,t){o=bx(o)?o:{x:o,y:n,r:t};return this.createElement("circle").attr(o)},arc:function(o,n,y,w,u,t){if(bx(o)){n=o.y,y=o.r,w=o.innerR,u=o.start,t=o.end,o=o.x}return this.symbol("arc",o||0,n||0,y||0,y||0,{innerR:w||0,start:u||0,end:t||0})},rect:function(o,n,y,w,u,t){u=bx(o)?o.r:u;u=this.createElement("rect").attr({rx:u,ry:u,fill:aU});return u.attr(bx(o)?o:u.crisp(t,o,n,au(y,0),au(w,0)))},setSize:function(o,n,w){var u=this.alignedObjects,t=u.length;this.width=o;this.height=n;for(this.boxWrapper[ay(w,!0)?"animate":"attr"]({width:o,height:n});t--;){u[t].align()}},g:function(o){var n=this.createElement("g");return ax(o)?n.attr({"class":"highcharts-"+o}):n},image:function(o,n,y,w,u){var t={preserveAspectRatio:aU};arguments.length>1&&av(t,{x:n,y:y,width:w,height:u});t=this.createElement("image").attr(t);t.element.setAttributeNS?t.element.setAttributeNS("http://www.w3.org/1999/xlink","href",o):t.element.setAttribute("hc-svg-href",o);return t},symbol:function(D,C,B,A,z,y){var w,u=this.symbols[D],u=u&&u(aw(C),aw(B),A,z,y),t=/^url\((.*?)\)$/,o,n;u?(w=this.path(u),av(w,{symbolName:D,x:C,y:B,width:A,height:z}),y&&av(w,y)):t.test(D)&&(n=function(F,E){F.attr({width:E[0],height:E[1]});F.alignByTranslate||F.translate(-aw(E[0]/2),-aw(E[1]/2))},o=D.match(t)[1],D=bD[o],w=this.image(o).attr({x:C,y:B}),D?n(w,D):(w.attr({width:0,height:0}),aX("img",{onload:function(){n(w,bD[o]=[this.width,this.height])},src:o})));return w},symbols:{circle:function(o,n,w,u){var t=0.166*w;return["M",o+w/2,n,"C",o+w+t,n,o+w+t,n+u,o+w/2,n+u,"C",o-t,n+u,o-t,n,o+w/2,n,"Z"]},square:function(o,n,u,t){return["M",o,n,"L",o+u,n,o+u,n+t,o,n+t,"Z"]},triangle:function(o,n,u,t){return["M",o+u/2,n,"L",o+u,n+t,o,n+t,"Z"]},"triangle-down":function(o,n,u,t){return["M",o,n,"L",o+u,n,o+u/2,n+t,"Z"]},diamond:function(o,n,u,t){return["M",o+u/2,n,"L",o+u,n+t/2,o+u/2,n+t,o,n+t/2,"Z"]},arc:function(D,C,B,A,z){var y=z.start,B=z.r||B||A,w=z.end-0.000001,A=z.innerR,u=z.open,t=aR(y),o=ad(y),n=aR(w),w=ad(w),z=z.end-y<c?0:1;return["M",D+B*t,C+B*o,"A",B,B,0,z,1,D+B*n,C+B*w,u?"M":"L",D+A*n,C+A*w,"A",A,A,0,z,0,D+A*t,C+A*o,u?"":"Z"]}},clipRect:function(o,n,y,w){var u="highcharts-"+bT++,t=this.createElement("clipPath").attr({id:u}).add(this.defs),o=this.rect(o,n,y,w,0).add(t);o.id=u;o.clipPath=t;return o},color:function(D,C,B){var A=this,z,y=/^rgba/,w;D&&D.linearGradient?w="linearGradient":D&&D.radialGradient&&(w="radialGradient");if(w){var B=D[w],u=A.gradients,t,o,n,C=C.radialReference;if(!B.id||!u[B.id]){aJ(B)&&(D[w]=B={x1:B[0],y1:B[1],x2:B[2],y2:B[3],gradientUnits:"userSpaceOnUse"}),w==="radialGradient"&&C&&!ax(B.gradientUnits)&&av(B,{cx:C[0]-C[2]/2+B.cx*C[2],cy:C[1]-C[2]/2+B.cy*C[2],r:B.r*C[2],gradientUnits:"userSpaceOnUse"}),B.id="highcharts-"+bT++,u[B.id]=t=A.createElement(w).attr(B).add(A.defs),t.stops=[],aA(D.stops,function(E){y.test(E[1])?(z=aH(E[1]),o=z.get("rgb"),n=z.get("a")):(o=E[1],n=1);E=A.createElement("stop").attr({offset:E[0],"stop-color":o,"stop-opacity":n}).add(t);t.stops.push(E)})}return"url("+A.url+"#"+B.id+")"}else{return y.test(D)?(z=aH(D),bm(C,B+"-opacity",z.get("a")),z.get("rgb")):(C.removeAttribute(B+"-opacity"),D)}},text:function(o,n,w,u){var t=aT.chart.style;if(u&&!this.forExport){return this.html(o,n,w)}n=aw(ay(n,0));w=aw(ay(w,0));o=this.createElement("text").attr({x:n,y:w,text:o}).css({fontFamily:t.fontFamily,fontSize:t.fontSize});o.x=n;o.y=w;return o},html:function(o,n,A){var z=aT.chart.style,y=this.createElement("span"),w=y.attrSetters,u=y.element,t=y.renderer;w.text=function(B){u.innerHTML=B;return !1};w.x=w.y=w.align=function(C,B){B==="align"&&(B="textAlign");y[B]=C;y.htmlUpdateTransform();return !1};y.attr({text:o,x:aw(n),y:aw(A)}).css({position:"absolute",whiteSpace:"nowrap",fontFamily:z.fontFamily,fontSize:z.fontSize});y.css=y.htmlCss;if(t.isSVG){y.add=function(C){var B,E,D=t.box.parentNode;if(C){if(B=C.div,!B){B=C.div=aX(aD,{className:bm(C.element,"class")},{position:"absolute",left:C.attr("translateX")+"px",top:C.attr("translateY")+"px"},D),E=B.style,av(C.attrSetters,{translateX:function(F){E.left=F+"px"},translateY:function(F){E.top=F+"px"},visibility:function(G,F){E[F]=G}})}}else{B=D}B.appendChild(u);y.added=!0;y.alignOnAdd&&y.htmlUpdateTransform();return y}}return y},fontMetrics:function(o){var o=aq(o||11),o=o<24?o+4:aw(o*1.2),n=aw(o*0.8);return{h:o,b:n}},label:function(Z,Y,X,W,V,U,T,S,R){function Q(){var w=K.styles,w=w&&w.textAlign,o=t*(1-D),z;z=S?0:B;if(ax(n)&&(w==="center"||w==="right")){o+={center:0.5,right:1}[w]*(n-G.width)}(o!==H.x||z!==H.y)&&H.attr({x:o,y:z});H.x=o;H.y=z}function P(w,o){L?L.attr(w,o):E[w]=o}function O(){K.attr({text:Z,x:Y,y:X});K.symbolName&&K.attr({anchorX:V,anchorY:U})}var M=this,K=M.g(R),H=M.text("",0,0,T).attr({zIndex:1}).add(K),L,G,D=0,t=3,n,F,u,C,A=0,E={},B,T=K.attrSetters;bc(K,"add",O);T.width=function(o){n=o;return !1};T.height=function(o){F=o;return !1};T.padding=function(o){ax(o)&&o!==t&&(t=o,Q());return !1};T.align=function(o){D={left:0,center:0.5,right:1}[o];return !1};T.text=function(w,o){H.attr(o,w);var z;z=H.element.style;G=(n===void 0||F===void 0||K.styles.textAlign)&&H.getBBox(!0);K.width=(n||G.width||0)+2*t;K.height=(F||G.height||0)+2*t;B=t+M.fontMetrics(z&&z.fontSize).b;if(!L){z=S?-B:0,K.box=L=W?M.symbol(W,-D*t,z,K.width,K.height):M.rect(-D*t,z,K.width,K.height,0,E["stroke-width"]),L.add(K)}L.attr(ar({width:K.width,height:K.height},E));E=null;Q();return !1};T["stroke-width"]=function(w,o){A=w%2/2;P(o,w);return !1};T.stroke=T.fill=T.r=function(w,o){P(o,w);return !1};T.anchorX=function(w,o){V=w;P(o,w+A-u);return !1};T.anchorY=function(w,o){U=w;P(o,w-C);return !1};T.x=function(o){K.x=o;o-=D*((n||G.width)+t);u=aw(o);K.attr("translateX",u);return !1};T.y=function(o){C=K.y=aw(o);K.attr("translateY",o);return !1};var y=K.css;return av(K,{css:function(w){if(w){var o={},w=ar({},w);aA("fontSize,fontWeight,fontFamily,color,lineHeight,width".split(","),function(z){w[z]!==bn&&(o[z]=w[z],delete w[z])});H.css(o)}return y.call(K,w)},getBBox:function(){return L.getBBox()},shadow:function(o){L.shadow(o);return K},destroy:function(){a1(K,"add",O);a1(K.element,"mouseenter");a1(K.element,"mouseleave");H&&(H=H.destroy());ao.prototype.destroy.call(K)}})}};d=aj;var j;if(!aF&&!bA){j={init:function(o,n){var u=["<",n,' filled="f" stroked="f"'],t=["position: ","absolute",";"];(n==="shape"||n===aD)&&t.push("left:0;top:0;width:1px;height:1px;");a9&&t.push("visibility: ",n===aD?"hidden":"visible");u.push(' style="',t.join(""),'"/>');if(n){u=n===aD||n==="span"||n==="img"?u.join(""):o.prepVML(u),this.element=aX(u)}this.renderer=o;this.attrSetters={}},add:function(o){var n=this.renderer,u=this.element,t=n.box,t=o?o.element||o:t;o&&o.inverted&&n.invertChild(u,t);a9&&t.gVis==="hidden"&&be(u,{visibility:"hidden"});t.appendChild(u);this.added=!0;this.alignOnAdd&&!this.deferUpdateTransform&&this.updateTransform();bg(this,"add");return this},toggleChildren:function(o,n){for(var u=o.childNodes,t=u.length;t--;){be(u[t],{visibility:n}),u[t].nodeName==="DIV"&&this.toggleChildren(u[t],n)}},updateTransform:ao.prototype.htmlUpdateTransform,attr:function(H,G){var F,E,D,C=this.element||{},B=C.style,A=C.nodeName,z=this.renderer,y=this.symbolName,w,u=this.shadows,t,o=this.attrSetters,n=this;q(H)&&ax(G)&&(F=H,H={},H[F]=G);if(q(H)){F=H,n=F==="strokeWidth"||F==="stroke-width"?this.strokeweight:this[F]}else{for(F in H){if(E=H[F],t=!1,D=o[F]&&o[F](E,F),D!==!1&&E!==null){D!==bn&&(E=D);if(y&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(F)){w||(this.symbolAttr(H),w=!0),t=!0}else{if(F==="d"){E=E||[];this.d=E.join(" ");D=E.length;for(t=[];D--;){t[D]=al(E[D])?aw(E[D]*10)-5:E[D]==="Z"?"x":E[D]}E=t.join(" ")||"x";C.path=E;if(u){for(D=u.length;D--;){u[D].path=u[D].cutOff?this.cutOffPath(E,u[D].cutOff):E}}t=!0}else{if(F==="zIndex"||F==="visibility"){if(a9&&F==="visibility"&&A==="DIV"){C.gVis=E,this.toggleChildren(C,E),E==="visible"&&(E=null)}E&&(B[F]=E);t=!0}else{if(F==="width"||F==="height"){E=au(0,E),this[F]=E,this.updateClipping?(this[F]=E,this.updateClipping()):B[F]=E,t=!0}else{if(F==="x"||F==="y"){this[F]=E,B[{x:"left",y:"top"}[F]]=E}else{if(F==="class"){C.className=E}else{if(F==="stroke"){E=z.color(E,C,F),F="strokecolor"}else{if(F==="stroke-width"||F==="strokeWidth"){C.stroked=E?!0:!1,F="strokeweight",this[F]=E,al(E)&&(E+="px")}else{if(F==="dashstyle"){(C.getElementsByTagName("stroke")[0]||aX(z.prepVML(["<stroke/>"]),null,null,C))[F]=E||"solid",this.dashstyle=E,t=!0}else{if(F==="fill"){A==="SPAN"?B.color=E:(C.filled=E!==aU?!0:!1,E=z.color(E,C,F),F="fillcolor")}else{if(A==="shape"&&F==="rotation"){this[F]=E}else{if(F==="translateX"||F==="translateY"||F==="rotation"){this[F]=E,this.updateTransform(),t=!0}else{if(F==="text"){this.bBox=null,C.innerHTML=E,t=!0}}}}}}}}}}}}}if(u&&F==="visibility"){for(D=u.length;D--;){u[D].style[F]=E}}t||(a9?C[F]=E:bm(C,F,E))}}}return n},clip:function(o){var n=this,w=o.members,u=n.element,t=u.parentNode;w.push(n);n.destroyClip=function(){bu(w,n)};t&&t.className==="highcharts-tracker"&&!a9&&be(u,{visibility:"hidden"});return n.css(o.getCSS(n))},css:ao.prototype.htmlCss,safeRemoveChild:function(n){n.parentNode&&aN(n)},destroy:function(){this.destroyClip&&this.destroyClip();return ao.prototype.destroy.apply(this)},empty:function(){for(var o=this.element.childNodes,n=o.length,t;n--;){t=o[n],t.parentNode.removeChild(t)}},on:function(o,n){this.element["on"+o]=function(){var t=a3.event;t.target=t.srcElement;n(t)};return this},cutOffPath:function(o,n){var t,o=o.split(/[ ,]/);t=o.length;if(t===9||t===11){o[t-4]=o[t-2]=aq(o[t-2])-10*n}return o.join(" ")},shadow:function(E,D,C){var B=[],A=this.element,z=this.renderer,y,w=A.style,u,t=A.path,o,n;t&&typeof t.value!=="string"&&(t="x");n=t;if(E){for(E=1;E<=3;E++){o=7-2*E;C&&(n=this.cutOffPath(t.value,o+0.5));u=['<shape isShadow="true" strokeweight="',7-2*E,'" filled="false" path="',n,'" coordsize="10 10" style="',A.style.cssText,'" />'];y=aX(z.prepVML(u),null,{left:aq(w.left)+1,top:aq(w.top)+1});if(C){y.cutOff=o+1}u=['<stroke color="black" opacity="',0.05*E,'"/>'];aX(z.prepVML(u),null,null,y);D?D.element.appendChild(y):A.parentNode.insertBefore(y,A);B.push(y)}this.shadows=B}return this}};j=aB(ao,j);var a7={Element:j,isIE8:bK.indexOf("MSIE 8.0")>-1,init:function(o,n,w){var u,t;this.alignedObjects=[];u=this.createElement(aD);t=u.element;t.style.position="relative";o.appendChild(u.element);this.box=t;this.boxWrapper=u;this.setSize(n,w,!1);if(!bp.namespaces.hcv){bp.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),bp.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } "}},isHidden:function(){return !this.box.offsetWidth},clipRect:function(o,n,w,u){var t=this.createElement();return av(t,{members:[],left:o,top:n,width:w,height:u,getCSS:function(z){var y=z.inverted,D=this.top,C=this.left,B=C+this.width,A=D+this.height,D={clip:"rect("+aw(y?C:D)+"px,"+aw(y?A:B)+"px,"+aw(y?B:A)+"px,"+aw(y?D:C)+"px)"};!y&&a9&&z.element.nodeName!=="IMG"&&av(D,{width:B+"px",height:A+"px"});return D},updateClipping:function(){aA(t.members,function(y){y.css(t.getCSS(y))})}})},color:function(P,O,M){var L,K=/^rgba/,H,G=aU;P&&P.linearGradient?H="gradient":P&&P.radialGradient&&(H="pattern");if(H){var F,E,D=P.linearGradient||P.radialGradient,C,B,A,y,w,z,t="",P=P.stops,n,u=[];B=P[0];n=P[P.length-1];B[0]>0&&P.unshift([0,B[1]]);n[0]<1&&P.push([1,n[1]]);aA(P,function(Q,o){K.test(Q[1])?(L=aH(Q[1]),F=L.get("rgb"),E=L.get("a")):(F=Q[1],E=1);u.push(Q[0]*100+"% "+F);o?(y=E,w=F):(A=E,z=F)});H==="gradient"?(C=D.x1||D[0]||0,P=D.y1||D[1]||0,B=D.x2||D[2]||0,D=D.y2||D[3]||0,C=90-a6.atan((D-P)/(B-C))*180/c):(G=D.r*2,t='src="http://code.highcharts.com/gfx/radial-gradient.png" size="'+G+","+G+'" origin="0.5,0.5" position="'+D.cx+","+D.cy+'" color2="'+z+'" ',G=w);M==="fill"?(M=['<fill colors="'+u.join(",")+'" angle="',C,'" opacity="',y,'" o:opacity2="',A,'" type="',H,'" ',t,'focus="100%" method="any" />'],aX(this.prepVML(M),null,null,O)):G=F}else{if(K.test(P)&&O.tagName!=="IMG"){L=aH(P),M=["<",M,' opacity="',L.get("a"),'"/>'],aX(this.prepVML(M),null,null,O),G=L.get("rgb")}else{O=O.getElementsByTagName(M);if(O.length){O[0].opacity=1}G=P}}return G},prepVML:function(o){var n=this.isIE8,o=o.join("");n?(o=o.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),o=o.indexOf('style="')===-1?o.replace("/>",' style="display:inline-block;behavior:url(#default#VML);" />'):o.replace('style="','style="display:inline-block;behavior:url(#default#VML);')):o=o.replace("<","<hcv:");return o},text:aj.prototype.html,path:function(o){var n={coordsize:"10 10"};aJ(o)?n.d=o:bx(o)&&av(n,o);return this.createElement("shape").attr(n)},circle:function(o,n,t){return this.symbol("circle").attr({x:o-t,y:n-t,width:2*t,height:2*t})},g:function(o){var n;o&&(n={className:"highcharts-"+o,"class":"highcharts-"+o});return this.createElement(aD).attr(n)},image:function(o,n,y,w,u){var t=this.createElement("img").attr({src:o});arguments.length>1&&t.css({left:n,top:y,width:w,height:u});return t},rect:function(o,n,z,y,w,u){if(bx(o)){n=o.y,z=o.width,y=o.height,u=o.strokeWidth,o=o.x}var t=this.symbol("rect");t.r=w;return t.attr(t.crisp(u,o,n,au(z,0),au(y,0)))},invertChild:function(o,n){var t=n.style;be(o,{flip:"x",left:aq(t.width)-1,top:aq(t.height)-1,rotation:-90})},symbols:{arc:function(F,E,D,C,B){var A=B.start,z=B.end,y=B.r||D||C,D=aR(A),C=ad(A),w=aR(z),u=ad(z),t=B.innerR,o=0.08/y,n=t&&0.1/t||0;if(z-A===0){return["x"]}else{2*c-z+A<o?w=-o:z-A<n&&(w=aR(A+n))}A=["wa",F-y,E-y,F+y,E+y,F+y*D,E+y*C,F+y*w,E+y*u];B.open&&A.push("M",F-t,E-t);A.push("at",F-t,E-t,F+t,E+t,F+t*w,E+t*u,F+t*D,E+t*C,"x","e");return A},circle:function(o,n,u,t){return["wa",o,n,o+u,n+t,o+u,n+t/2,o+u,n+t/2,"e"]},rect:function(o,n,A,z,y){var w=o+A,u=n+z,t;!ax(y)||!y.r?w=aj.prototype.symbols.square.apply(0,arguments):(t=aW(y.r,A,z),w=["M",o+t,n,"L",w-t,n,"wa",w-2*t,n,w,n+2*t,w-t,n,w,n+t,"L",w,u-t,"wa",w-2*t,u-2*t,w,u,w,u-t,w-t,u,"L",o+t,u,"wa",o,u-2*t,o+2*t,u,o+t,u,o,u-t,"L",o,n+t,"wa",o,n,o+2*t,n+2*t,o,n+t,o+t,n,"x","e"]);return w}}};j=function(){this.init.apply(this,arguments)};j.prototype=ar(aj.prototype,a7);d=j}var aK,bG;bA&&(aK=function(){},bG=function(){function o(){var t=n.length,u;for(u=0;u<t;u++){n[u]()}n=[]}var n=[];return{push:function(u,t){n.length===0&&bh(t,o);n.push(u)}}}());d=j||aK||aj;J.prototype={addLabel:function(){var E=this.axis,D=E.options,C=E.chart,B=E.horiz,A=E.categories,z=this.pos,y=D.labels,w=E.tickPositions,B=A&&B&&A.length&&!y.step&&!y.staggerLines&&!y.rotation&&C.plotWidth/w.length||!B&&C.plotWidth/2,u=z===w[0],t=z===w[w.length-1],o=A&&ax(A[z])?A[z]:z,A=this.label,w=w.info,n;E.isDatetimeAxis&&w&&(n=D.dateTimeLabelFormats[w.higherRanks[z]||w.unitName]);this.isFirst=u;this.isLast=t;D=E.labelFormatter.call({axis:E,chart:C,isFirst:u,isLast:t,dateTimeLabelFormat:n,value:E.isLog?ag(a2(o)):o});z=B&&{width:au(1,aw(B-2*(y.padding||10)))+"px"};z=av(z,y.style);if(ax(A)){A&&A.attr({text:D}).css(z)}else{B={align:y.align};if(al(y.rotation)){B.rotation=y.rotation}this.label=ax(D)&&y.enabled?C.renderer.text(D,0,0,y.useHTML).attr(B).css(z).add(E.axisGroup):null}},getLabelSize:function(){var o=this.label,n=this.axis;return o?(this.labelBBox=o.getBBox(!0))[n.horiz?"height":"width"]:0},getLabelSides:function(){var o=this.axis.options.labels,n=this.labelBBox.width,o=n*{left:0,center:0.5,right:1}[o.align]-o.x;return[-o,n-o]},handleOverflow:function(F,E){var D=!0,C=this.axis,B=C.chart,A=this.isFirst,z=this.isLast,y=E.x,w=C.reversed,u=C.tickPositions;if(A||z){var t=this.getLabelSides(),o=t[0],t=t[1],B=B.plotLeft,n=B+C.len,u=(C=C.ticks[u[F+(A?1:-1)]])&&C.label.xy.x+C.getLabelSides()[A?0:1];A&&!w||z&&w?y+o<B&&(y=B-o,C&&y+t>u&&(D=!1)):y+t>n&&(y=n-t,C&&y+o<u&&(D=!1));E.x=y}return D},getPosition:function(o,n,z,y){var w=this.axis,u=w.chart,t=y&&u.oldChartHeight||u.chartHeight;return{x:o?w.translate(n+z,null,null,y)+w.transB:w.left+w.offset+(w.opposite?(y&&u.oldChartWidth||u.chartWidth)-w.right-w.left:0),y:o?t-w.bottom+w.offset-(w.opposite?w.height:0):t-w.translate(n+z,null,null,y)-w.transB}},getLabelPosition:function(D,C,B,A,z,y,w,u){var t=this.axis,o=t.transA,n=t.reversed,t=t.staggerLines,D=D+z.x-(y&&A?y*o*(n?-1:1):0),C=C+z.y-(y&&!A?y*o*(n?1:-1):0);ax(z.y)||(C+=aq(B.styles.lineHeight)*0.9-B.getBBox().height/2);t&&(C+=w/(u||1)%t*16);return{x:D,y:C}},getMarkPath:function(o,n,y,w,u,t){return t.crispLine(["M",o,n,"L",o+(u?0:-y),n+(u?y:0)],w)},render:function(X,W){var V=this.axis,U=V.options,T=V.chart.renderer,S=V.horiz,R=this.type,Q=this.label,P=this.pos,O=U.labels,M=this.gridLine,L=R?R+"Grid":"grid",K=R?R+"Tick":"tick",G=U[L+"LineWidth"],F=U[L+"LineColor"],H=U[L+"LineDashStyle"],D=U[K+"Length"],L=U[K+"Width"]||0,z=U[K+"Color"],E=U[K+"Position"],K=this.mark,C=O.step,A=!0,o=U.categories&&U.tickmarkPlacement==="between"?0.5:0,y=this.getPosition(S,P,o,W),w=y.x,y=y.y,B=V.staggerLines;if(G){P=V.getPlotLinePath(P+o,G,W);if(M===bn){M={stroke:F,"stroke-width":G};if(H){M.dashstyle=H}if(!R){M.zIndex=1}this.gridLine=M=G?T.path(P).attr(M).add(V.gridGroup):null}if(!W&&M&&P){M[this.isNew?"attr":"animate"]({d:P})}}if(L){E==="inside"&&(D=-D),V.opposite&&(D=-D),R=this.getMarkPath(w,y,D,L,S,T),K?K.animate({d:R}):this.mark=T.path(R).attr({stroke:z,"stroke-width":L}).add(V.axisGroup)}if(Q&&!isNaN(w)){Q.xy=y=this.getLabelPosition(w,y,Q,S,O,o,X,C),this.isFirst&&!ay(U.showFirstLabel,1)||this.isLast&&!ay(U.showLastLabel,1)?A=!1:!B&&S&&O.overflow==="justify"&&!this.handleOverflow(X,y)&&(A=!1),C&&X%C&&(A=!1),A?(Q[this.isNew?"attr":"animate"](y),Q.show(),this.isNew=!1):Q.hide()}},destroy:function(){bB(this,this.axis)}};bC.prototype={render:function(){var S=this,R=S.axis,Q=R.horiz,P=(R.pointRange||0)/2,O=S.options,M=O.label,L=S.label,K=O.width,H=O.to,G=O.from,F=ax(G)&&ax(H),E=O.value,D=O.dashStyle,B=S.svgElem,A=[],C,z=O.color,o=O.zIndex,y=O.events,w=R.chart.renderer;R.isLog&&(G=bE(G),H=bE(H),E=bE(E));if(K){if(A=R.getPlotLinePath(E,K),P={stroke:z,"stroke-width":K},D){P.dashstyle=D}}else{if(F){if(G=au(G,R.min-P),H=aW(H,R.max+P),A=R.getPlotBandPath(G,H,O),P={fill:z},O.borderWidth){P.stroke=O.borderColor,P["stroke-width"]=O.borderWidth}}else{return}}if(ax(o)){P.zIndex=o}if(B){A?B.animate({d:A},null,B.onGetPath):(B.hide(),B.onGetPath=function(){B.show()})}else{if(A&&A.length&&(S.svgElem=B=w.path(A).attr(P).add(),y)){for(C in O=function(n){B.on(n,function(t){y[n].apply(S,[t])})},y){O(C)}}}if(M&&ax(M.text)&&A&&A.length&&R.width>0&&R.height>0){M=ar({align:Q&&F&&"center",x:Q?!F&&4:10,verticalAlign:!Q&&F&&"middle",y:Q?F?16:10:F?6:-4,rotation:Q&&!F&&90},M);if(!L){S.label=L=w.text(M.text,0,0).attr({align:M.textAlign||M.align,rotation:M.rotation,zIndex:o}).css(M.style).add()}R=[A[1],A[4],ay(A[6],A[1])];A=[A[2],A[5],ay(A[7],A[2])];Q=bs(R);F=bs(A);L.align(M,!1,{x:Q,y:F,width:bP(R)-Q,height:bP(A)-F});L.show()}else{L&&L.hide()}return S},destroy:function(){bu(this.axis.plotLinesAndBands,this);bB(this,this.axis)}};a8.prototype={destroy:function(){bB(this,this.axis)},setTotal:function(n){this.cum=this.total=n},render:function(o){var n=this.options.formatter.call(this);this.label?this.label.attr({text:n,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(n,0,0).css(this.options.style).attr({align:this.textAlign,rotation:this.options.rotation,visibility:"hidden"}).add(o)},setOffset:function(o,n){var A=this.axis,z=A.chart,y=z.inverted,w=this.isNegative,u=A.translate(this.total,0,0,0,1),A=A.translate(0),A=a4(u-A),t=z.xAxis[0].translate(this.x)+o,z=z.plotHeight,y={x:y?w?u:u-A:t,y:y?z-t-n:w?z-u-A:z-u,width:y?A:n,height:y?n:A};this.label&&this.label.align(this.alignOptions,null,y).attr({visibility:"visible"})}};bf.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:bd,lineColor:"#C0D0E0",lineWidth:1,minPadding:0.01,maxPadding:0.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#6D869F",fontWeight:"bold"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{align:"right",x:-8,y:3},lineWidth:0,maxPadding:0.05,minPadding:0.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Y-values"},stackLabels:{enabled:!1,formatter:function(){return this.total},style:bd.style}},defaultLeftAxisOptions:{labels:{align:"right",x:-8,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{align:"left",x:8,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{align:"center",x:0,y:14},title:{rotation:0}},defaultTopAxisOptions:{labels:{align:"center",x:0,y:-5},title:{rotation:0}},init:function(o,n){var z=n.isX;this.horiz=o.inverted?!z:z;this.xOrY=(this.isXAxis=z)?"x":"y";this.opposite=n.opposite;this.side=this.horiz?this.opposite?0:2:this.opposite?1:3;this.setOptions(n);var y=this.options,w=y.type,u=w==="datetime";this.labelFormatter=y.labels.formatter||this.defaultLabelFormatter;this.staggerLines=this.horiz&&y.labels.staggerLines;this.userOptions=n;this.minPixelPadding=0;this.chart=o;this.reversed=y.reversed;this.categories=y.categories;this.isLog=w==="logarithmic";this.isLinked=ax(y.linkedTo);this.isDatetimeAxis=u;this.ticks={};this.minorTicks={};this.plotLinesAndBands=[];this.alternateBands={};this.len=0;this.minRange=y.minRange||y.maxZoom;this.range=y.range;this.offset=y.offset||0;this.stacks={};this.min=this.max=null;var t,y=this.options.events;o.axes.push(this);o[z?"xAxis":"yAxis"].push(this);this.series=[];if(o.inverted&&z&&this.reversed===bn){this.reversed=!0}this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;this.addPlotLine=this.addPlotBand=this.addPlotBandOrLine;for(t in y){bc(this,t,y[t])}if(this.isLog){this.val2lin=bE,this.lin2val=a2}},setOptions:function(n){this.options=ar(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],n)},defaultLabelFormatter:function(){var o=this.axis,n=this.value,u=o.tickInterval,t=this.dateTimeLabelFormat;return o.categories?n:t?ac(t,n):u%1000000===0?n/1000000+"M":u%1000===0?n/1000+"k":n>=1000?N(n,0):N(n,-1)},getSeriesExtremes:function(){var o=this,n=o.chart,y=o.stacks,w=[],u=[],t;o.dataMin=o.dataMax=null;aA(o.series,function(X){if(X.visible||!n.options.chart.ignoreHiddenSeries){var W=X.options,V,U,T,S,R,P,O,Q,M,G=W.threshold,L,K=[],H=0;if(o.isLog&&G<=0){G=W.threshold=null}if(o.isXAxis){if(W=X.xData,W.length){o.dataMin=aW(ay(o.dataMin,W[0]),bs(W)),o.dataMax=au(ay(o.dataMax,W[0]),bP(W))}}else{var A,F,D,C=X.cropped,E=X.xAxis.getExtremes(),B=!!X.modifyValue;V=W.stacking;o.usePercentage=V==="percent";if(V){R=W.stack,S=X.type+ay(R,""),P="-"+S,X.stackKey=S,U=w[S]||[],w[S]=U,T=u[P]||[],u[P]=T}if(o.usePercentage){o.dataMin=0,o.dataMax=99}W=X.processedXData;O=X.processedYData;L=O.length;for(t=0;t<L;t++){if(Q=W[t],M=O[t],M!==null&&M!==bn&&(V?(F=(A=M<G)?T:U,D=A?P:S,M=F[Q]=ax(F[Q])?F[Q]+M:M,y[D]||(y[D]={}),y[D][Q]||(y[D][Q]=new a8(o,o.options.stackLabels,A,Q,R)),y[D][Q].setTotal(M)):B&&(M=X.modifyValue(M)),C||(W[t+1]||Q)>=E.min&&(W[t-1]||Q)<=E.max)){if(Q=M.length){for(;Q--;){M[Q]!==null&&(K[H++]=M[Q])}}else{K[H++]=M}}}if(!o.usePercentage&&K.length){o.dataMin=aW(ay(o.dataMin,K[0]),bs(K)),o.dataMax=au(ay(o.dataMax,K[0]),bP(K))}if(ax(G)){if(o.dataMin>=G){o.dataMin=G,o.ignoreMinPadding=!0}else{if(o.dataMax<G){o.dataMax=G,o.ignoreMaxPadding=!0}}}}}})},translate:function(B,A,z,y,w){var u=this.len,t=1,o=0,n=y?this.oldTransA:this.transA,y=y?this.oldMin:this.min,w=this.options.ordinal||this.isLog&&w;if(!n){n=this.transA}z&&(t*=-1,o=u);this.reversed&&(t*=-1,o-=t*u);A?(this.reversed&&(B=u-B),B=B/n+y,w&&(B=this.lin2val(B))):(w&&(B=this.val2lin(B)),B=t*(B-y)*n+o+t*this.minPixelPadding);return B},getPlotLinePath:function(E,D,C){var B=this.chart,A=this.left,z=this.top,y,w,u,E=this.translate(E,null,null,C),t=C&&B.oldChartHeight||B.chartHeight,o=C&&B.oldChartWidth||B.chartWidth,n;y=this.transB;C=w=aw(E+y);y=u=aw(t-E-y);if(isNaN(E)){n=!0}else{if(this.horiz){if(y=z,u=t-this.bottom,C<A||C>A+this.width){n=!0}}else{if(C=A,w=o-this.right,y<z||y>z+this.height){n=!0}}}return n?null:B.renderer.crispLine(["M",C,y,"L",w,u],D||0)},getPlotBandPath:function(o,n){var u=this.getPlotLinePath(n),t=this.getPlotLinePath(o);t&&u?t.push(u[4],u[5],u[1],u[2]):t=null;return t},getLinearTickPositions:function(o,n,w){for(var u,n=ag(aS(n/o)*o),w=ag(I(w/o)*o),t=[];n<=w;){t.push(n);n=ag(n+o);if(n===u){break}u=n}return t},getLogTickPositions:function(E,D,C,B){var A=this.options,z=this.len,y=[];if(!B){this._minorAutoInterval=null}if(E>=0.5){E=aw(E),y=this.getLinearTickPositions(E,D,C)}else{if(E>=0.08){for(var z=aS(D),w,u,t,o,n,A=E>0.3?[1,2,4]:E>0.15?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];z<C+1&&!n;z++){u=A.length;for(w=0;w<u&&!n;w++){t=bE(a2(z)*A[w]),t>D&&y.push(o),o>C&&(n=!0),o=t}}}else{if(D=a2(D),C=a2(C),E=A[B?"minorTickInterval":"tickInterval"],E=ay(E==="auto"?null:E,this._minorAutoInterval,(C-D)*(A.tickPixelInterval/(B?5:1))/((B?z/this.tickPositions.length:z)||1)),E=bN(E,null,a6.pow(10,aS(a6.log(E)/a6.LN10))),y=ah(this.getLinearTickPositions(E,D,C),bE),!B){this._minorAutoInterval=E/5}}}if(!B){this.tickInterval=E}return y},getMinorTickPositions:function(){var o=this.tickPositions,n=this.minorTickInterval,w=[],u,t;if(this.isLog){t=o.length;for(u=1;u<t;u++){w=w.concat(this.getLogTickPositions(n,o[u-1],o[u],!0))}}else{for(o=this.min+(o[0]-this.min)%n;o<=this.max;o+=n){w.push(o)}}return w},adjustForMinRange:function(){var D=this.options,C=this.min,B=this.max,A,z=this.dataMax-this.dataMin>=this.minRange,y,w,u,t,o;if(this.isXAxis&&this.minRange===bn&&!this.isLog){ax(D.min)||ax(D.max)?this.minRange=null:(aA(this.series,function(E){t=E.xData;for(w=o=E.xIncrement?1:t.length-1;w>0;w--){if(u=t[w]-t[w-1],y===bn||u<y){y=u}}}),this.minRange=aW(y*5,this.dataMax-this.dataMin))}if(B-C<this.minRange){var n=this.minRange;A=(n-B+C)/2;A=[C-A,ay(D.min,C-A)];if(z){A[2]=this.dataMin}C=bP(A);B=[C+n,ay(D.max,C+n)];if(z){B[2]=this.dataMax}B=bs(B);B-C<n&&(A[0]=B-n,A[1]=ay(D.min,B-n),C=bP(A))}this.min=C;this.max=B},setAxisTranslation:function(){var o=this.max-this.min,n=0,w,u,t=this.transA;if(this.isXAxis){this.isLinked?n=this.linkedParent.pointRange:aA(this.series,function(y){n=au(n,y.pointRange);u=y.closestPointRange;!y.noSharedTooltip&&ax(u)&&(w=ax(w)?aW(w,u):u)}),this.pointRange=n,this.closestPointRange=w}this.oldTransA=t;this.translationSlope=this.transA=t=this.len/(o+n||1);this.transB=this.horiz?this.left:this.bottom;this.minPixelPadding=t*(n/2)},setTickPositions:function(G){var F=this,E=F.chart,D=F.options,C=F.isLog,B=F.isDatetimeAxis,A=F.isXAxis,z=F.isLinked,y=F.options.tickPositioner,w=D.maxPadding,u=D.minPadding,t=D.tickInterval,o=D.tickPixelInterval,n=F.categories;z?(F.linkedParent=E[A?"xAxis":"yAxis"][D.linkedTo],E=F.linkedParent.getExtremes(),F.min=ay(E.min,E.dataMin),F.max=ay(E.max,E.dataMax),D.type!==F.linkedParent.options.type&&bQ(11,1)):(F.min=ay(F.userMin,D.min,F.dataMin),F.max=ay(F.userMax,D.max,F.dataMax));if(C){!G&&aW(F.min,F.dataMin)<=0&&bQ(10,1),F.min=ag(bE(F.min)),F.max=ag(bE(F.max))}if(F.range&&(F.userMin=F.min=au(F.min,F.max-F.range),F.userMax=F.max,G)){F.range=null}F.adjustForMinRange();if(!n&&!F.usePercentage&&!z&&ax(F.min)&&ax(F.max)){E=F.max-F.min||1;if(!ax(D.min)&&!ax(F.userMin)&&u&&(F.dataMin<0||!F.ignoreMinPadding)){F.min-=E*u}if(!ax(D.max)&&!ax(F.userMax)&&w&&(F.dataMax>0||!F.ignoreMaxPadding)){F.max+=E*w}}F.tickInterval=F.min===F.max||F.min===void 0||F.max===void 0?1:z&&!t&&o===F.linkedParent.options.tickPixelInterval?F.linkedParent.tickInterval:ay(t,n?1:(F.max-F.min)*o/(F.len||1));A&&!G&&aA(F.series,function(H){H.processData(F.min!==F.oldMin||F.max!==F.oldMax)});F.setAxisTranslation();F.beforeSetTickPositions&&F.beforeSetTickPositions();if(F.postProcessTickInterval){F.tickInterval=F.postProcessTickInterval(F.tickInterval)}if(!B&&!C&&(G=a6.pow(10,aS(a6.log(F.tickInterval)/a6.LN10)),!ax(D.tickInterval))){F.tickInterval=bN(F.tickInterval,null,G,D)}F.minorTickInterval=D.minorTickInterval==="auto"&&F.tickInterval?F.tickInterval/5:D.minorTickInterval;F.tickPositions=y=D.tickPositions||y&&y.apply(F,[F.min,F.max]);if(!y){y=B?(F.getNonLinearTimeTicks||aL)(br(F.tickInterval,D.units),F.min,F.max,D.startOfWeek,F.ordinalPositions,F.closestPointRange,!0):C?F.getLogTickPositions(F.tickInterval,F.min,F.max):F.getLinearTickPositions(F.tickInterval,F.min,F.max),F.tickPositions=y}if(!z){C=y[0],B=y[y.length-1],D.startOnTick?F.min=C:F.min>C&&y.shift(),D.endOnTick?F.max=B:F.max<B&&y.pop()}},setMaxTicks:function(){var o=this.chart,n=o.maxTicks,u=this.tickPositions,t=this.xOrY;n||(n={x:0,y:0});if(!this.isLinked&&!this.isDatetimeAxis&&u.length>n[t]&&this.options.alignTicks!==!1){n[t]=u.length}o.maxTicks=n},adjustTickAmount:function(){var o=this.xOrY,n=this.tickPositions,w=this.chart.maxTicks;if(w&&w[o]&&!this.isDatetimeAxis&&!this.categories&&!this.isLinked&&this.options.alignTicks!==!1){var u=this.tickAmount,t=n.length;this.tickAmount=o=w[o];if(t<o){for(;n.length<o;){n.push(ag(n[n.length-1]+this.tickInterval))}this.transA*=(t-1)/(o-1);this.max=n[n.length-1]}if(ax(u)&&o!==u){this.isDirty=!0}}},setScale:function(){var o=this.stacks,n,w,u,t;this.oldMin=this.min;this.oldMax=this.max;this.oldAxisLength=this.len;this.setAxisSize();t=this.len!==this.oldAxisLength;aA(this.series,function(y){if(y.isDirtyData||y.isDirty||y.xAxis.isDirty){u=!0}});if(t||u||this.isLinked||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(this.getSeriesExtremes(),this.setTickPositions(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,!this.isDirty){this.isDirty=t||this.min!==this.oldMin||this.max!==this.oldMax}}if(!this.isXAxis){for(n in o){for(w in o[n]){o[n][w].cum=o[n][w].total}}}this.setMaxTicks()},setExtremes:function(o,n,z,y,w){var u=this,t=u.chart,z=ay(z,!0),w=av(w,{min:o,max:n});bg(u,"setExtremes",w,function(){u.userMin=o;u.userMax=n;u.isDirtyExtremes=!0;z&&t.redraw(y)})},setAxisSize:function(){var o=this.chart,n=this.options,u=n.offsetLeft||0,t=n.offsetRight||0;this.left=ay(n.left,o.plotLeft+u);this.top=ay(n.top,o.plotTop);this.width=ay(n.width,o.plotWidth-u+t);this.height=ay(n.height,o.plotHeight);this.bottom=o.chartHeight-this.height-this.top;this.right=o.chartWidth-this.width-this.left;this.len=au(this.horiz?this.width:this.height,0)},getExtremes:function(){var n=this.isLog;return{min:n?ag(a2(this.min)):this.min,max:n?ag(a2(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(o){var n=this.isLog,t=n?a2(this.min):this.min,n=n?a2(this.max):this.max;t>o||o===null?o=t:n<o&&(o=n);return this.translate(o,0,1,0,1)},addPlotBandOrLine:function(n){n=(new bC(this,n)).render();this.plotLinesAndBands.push(n);return n},getOffset:function(){var M=this,L=M.chart,K=L.renderer,H=M.options,G=M.tickPositions,F=M.ticks,E=M.horiz,D=M.side,C,B=0,A,z=0,y=H.title,u=H.labels,t=0,w=L.axisOffset,o=[-1,1,1,-1][D],n;M.hasData=L=M.series.length&&ax(M.min)&&ax(M.max);M.showAxis=C=L||ay(H.showEmpty,!0);if(!M.axisGroup){M.axisGroup=K.g("axis").attr({zIndex:H.zIndex||7}).add(),M.gridGroup=K.g("grid").attr({zIndex:H.gridZIndex||1}).add()}if(L||M.isLinked){aA(G,function(O){F[O]?F[O].addLabel():F[O]=new J(M,O)}),aA(G,function(O){if(D===0||D===2||{1:"left",3:"right"}[D]===u.align){t=au(F[O].getLabelSize(),t)}}),M.staggerLines&&(t+=(M.staggerLines-1)*16)}else{for(n in F){F[n].destroy(),delete F[n]}}if(y&&y.text){if(!M.axisTitle){M.axisTitle=K.text(y.text,0,0,y.useHTML).attr({zIndex:7,rotation:y.rotation||0,align:y.textAlign||{low:"left",middle:"center",high:"right"}[y.align]}).css(y.style).add(M.axisGroup),M.axisTitle.isNew=!0}if(C){B=M.axisTitle.getBBox()[E?"height":"width"],z=ay(y.margin,E?5:10),A=y.offset}M.axisTitle[C?"show":"hide"]()}M.offset=o*ay(H.offset,w[D]);M.axisTitleMargin=ay(A,t+z+(D!==2&&t&&o*H.labels[E?"y":"x"]));w[D]=au(w[D],M.axisTitleMargin+B+o*M.offset)},getLinePath:function(o){var n=this.chart,y=this.opposite,w=this.offset,u=this.horiz,t=this.left+(y?this.width:0)+w,y=n.chartHeight-this.bottom-(y?this.height:0)+w;return n.renderer.crispLine(["M",u?this.left:t,u?y:this.top,"L",u?n.chartWidth-this.right:t,u?y:n.chartHeight-this.bottom],o)},getTitlePosition:function(){var B=this.horiz,A=this.left,z=this.top,y=this.len,w=this.options.title,u=B?A:z,t=this.opposite,o=this.offset,n=aq(w.style.fontSize||12),y={low:u+(B?0:y),middle:u+y/2,high:u+(B?y:0)}[w.align],A=(B?z+this.height:A)+(B?1:-1)*(t?-1:1)*this.axisTitleMargin+(this.side===2?n:0);return{x:B?y:A+(t?this.width:0)+o+(w.x||0),y:B?A-(t?this.height:0)+o:y+(w.y||0)}},render:function(){var U=this,T=U.chart,S=T.renderer,R=U.options,Q=U.isLog,P=U.isLinked,O=U.tickPositions,M=U.axisTitle,L=U.stacks,K=U.ticks,H=U.minorTicks,G=U.alternateBands,F=R.stackLabels,D=R.alternateGridColor,C=R.lineWidth,E,B=T.hasRendered&&ax(U.oldMin)&&!isNaN(U.oldMin),w=U.showAxis,A,z;if(U.hasData||P){if(U.minorTickInterval&&!U.categories&&aA(U.getMinorTickPositions(),function(o){H[o]||(H[o]=new J(U,o,"minor"));B&&H[o].isNew&&H[o].render(null,!0);H[o].isActive=!0;H[o].render()}),aA(O.slice(1).concat([O[0]]),function(o,t){t=t===O.length-1?0:t+1;if(!P||o>=U.min&&o<=U.max){K[o]||(K[o]=new J(U,o)),B&&K[o].isNew&&K[o].render(t,!0),K[o].isActive=!0,K[o].render(t)}}),D&&aA(O,function(o,t){if(t%2===0&&o<U.max){G[o]||(G[o]=new bC(U)),A=o,z=O[t+1]!==bn?O[t+1]:U.max,G[o].options={from:Q?a2(A):A,to:Q?a2(z):z,color:D},G[o].render(),G[o].isActive=!0}}),!U._addedPlotLB){aA((R.plotLines||[]).concat(R.plotBands||[]),function(o){U.addPlotBandOrLine(o)}),U._addedPlotLB=!0}}aA([K,H,G],function(t){for(var o in t){t[o].isActive?t[o].isActive=!1:(t[o].destroy(),delete t[o])}});if(C){E=U.getLinePath(C),U.axisLine?U.axisLine.animate({d:E}):U.axisLine=S.path(E).attr({stroke:R.lineColor,"stroke-width":C,zIndex:7}).add(),U.axisLine[w?"show":"hide"]()}if(M&&w){M[M.isNew?"attr":"animate"](U.getTitlePosition()),M.isNew=!1}if(F&&F.enabled){var y,n,R=U.stackTotalGroup;if(!R){U.stackTotalGroup=R=S.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()}R.translate(T.plotLeft,T.plotTop);for(y in L){for(n in T=L[y],T){T[n].render(R)}}}U.isDirty=!1},removePlotBandOrLine:function(o){for(var n=this.plotLinesAndBands,t=n.length;t--;){n[t].id===o&&n[t].destroy()}},setTitle:function(o,n){var u=this.chart,t=this.options;t.title=ar(t.title,o);this.axisTitle=void 0;this.isDirty=!0;ay(n,!0)&&u.redraw()},redraw:function(){var n=this.chart;n.tracker.resetTracker&&n.tracker.resetTracker(!0);this.render();aA(this.plotLinesAndBands,function(o){o.render()});aA(this.series,function(o){o.isDirty=!0})},setCategories:function(o,n){var t=this.chart;this.categories=this.userOptions.categories=o;aA(this.series,function(u){u.translate();u.setTooltipPoints(!0)});this.isDirty=!0;ay(n,!0)&&t.redraw()},destroy:function(){var o=this,n=o.stacks,t;a1(o);for(t in n){bB(n[t]),n[t]=null}aA([o.ticks,o.minorTicks,o.alternateBands,o.plotLinesAndBands],function(u){bB(u)});aA(["stackTotalGroup","axisLine","axisGroup","gridGroup","axisTitle"],function(u){o[u]&&(o[u]=o[u].destroy())})}};aG.prototype={destroy:function(){aA(this.crosshairs,function(n){n&&n.destroy()});if(this.label){this.label=this.label.destroy()}},move:function(o,n){var t=this;t.currentX=t.tooltipIsHidden?o:(2*t.currentX+o)/3;t.currentY=t.tooltipIsHidden?n:(t.currentY+n)/2;t.label.attr({x:t.currentX,y:t.currentY});t.tooltipTick=a4(o-t.currentX)>1||a4(n-t.currentY)>1?function(){t.move(o,n)}:null},hide:function(){if(!this.tooltipIsHidden){var n=this.chart.hoverPoints;this.label.hide();n&&aA(n,function(o){o.setState()});this.chart.hoverPoints=null;this.tooltipIsHidden=!0}},hideCrosshairs:function(){aA(this.crosshairs,function(n){n&&n.hide()})},getAnchor:function(o,n){var z,y=this.chart,w=y.inverted,u=0,t=0,o=bV(o);z=o[0].tooltipPos;z||(aA(o,function(A){u+=A.plotX;t+=A.plotLow?(A.plotLow+A.plotHigh)/2:A.plotY}),u/=o.length,t/=o.length,z=[w?y.plotWidth-t:u,this.shared&&!w&&o.length>1&&n?n.chartY-y.plotTop:w?y.plotHeight-u:t]);return ah(z,aw)},getPosition:function(E,D,C){var B=this.chart,A=B.plotLeft,z=B.plotTop,y=B.plotWidth,w=B.plotHeight,u=ay(this.options.distance,12),t=C.plotX,C=C.plotY,B=t+A+(B.inverted?u:-E-u),o=C-D+z+15,n;B<7&&(B=A+t+u);B+E>A+y&&(B-=B+E-(A+y),o=C-D+z-u,n=!0);o<z+5&&(o=z+5,n&&C>=o&&C<=o+D&&(o=C+z+u));o+D>z+w&&(o=z+w-D-u);return{x:B,y:o}},refresh:function(G,F){function E(){var K=this.points||bV(this),H=K[0].series,L;L=[H.tooltipHeaderFormatter(K[0].key)];aA(K,function(M){H=M.series;L.push(H.tooltipFormatter&&H.tooltipFormatter(M)||M.point.tooltipFormatter(H.tooltipOptions.pointFormat))});L.push(B.footerFormat||"");return L.join("")}var D=this.chart,C=this.label,B=this.options,A,z,y,w={},u,t=[];u=B.formatter||E;var w=D.hoverPoints,o,n=B.crosshairs;y=this.shared;z=this.getAnchor(G,F);A=z[0];z=z[1];y&&(!G.series||!G.series.noSharedTooltip)?(w&&aA(w,function(H){H.setState()}),D.hoverPoints=G,aA(G,function(H){H.setState("hover");t.push(H.getLabelConfig())}),w={x:G[0].category},w.points=t,G=G[0]):w=G.getLabelConfig();u=u.call(w);w=G.series;y=y||!w.isCartesian||w.tooltipOutsidePlot||D.isInsidePlot(A,z);u===!1||!y?this.hide():(this.tooltipIsHidden&&C.show(),C.attr({text:u}),o=B.borderColor||G.color||w.color||"#606060",C.attr({stroke:o}),C=(B.positioner||this.getPosition).call(this,C.width,C.height,{plotX:A,plotY:z}),this.move(aw(C.x),aw(C.y)),this.tooltipIsHidden=!1);if(n){n=bV(n);for(C=n.length;C--;){if(y=G.series[C?"yAxis":"xAxis"],n[C]&&y){if(y=y.getPlotLinePath(C?ay(G.stackY,G.y):G.x,1),this.crosshairs[C]){this.crosshairs[C].attr({d:y,visibility:"visible"})}else{w={"stroke-width":n[C].width||1,stroke:n[C].color||"#C0C0C0",zIndex:n[C].zIndex||2};if(n[C].dashStyle){w.dashstyle=n[C].dashStyle}this.crosshairs[C]=D.renderer.path(y).attr(w).add()}}}}bg(D,"tooltipRefresh",{text:u,x:A+D.plotLeft,y:z+D.plotTop,borderColor:o})},tick:function(){this.tooltipTick&&this.tooltipTick()}};aE.prototype={normalizeMouseEvent:function(o){var n,u,t,o=o||a3.event;if(!o.target){o.target=o.srcElement}if(o.originalEvent){o=o.originalEvent}if(o.event){o=o.event}t=o.touches?o.touches.item(0):o;this.chartPosition=n=aI(this.chart.container);t.pageX===bn?(u=o.x,n=o.y):(u=t.pageX-n.left,n=t.pageY-n.top);return av(o,{chartX:aw(u),chartY:aw(n)})},getMouseCoordinates:function(o){var n={xAxis:[],yAxis:[]},t=this.chart;aA(t.axes,function(w){var u=w.isXAxis;n[u?"xAxis":"yAxis"].push({axis:w,value:w.translate((t.inverted?!u:u)?o.chartX-t.plotLeft:t.plotHeight-o.chartY+t.plotTop,!0)})});return n},onmousemove:function(D){var C=this.chart,B=C.series,A,z,y=C.hoverPoint,w=C.hoverSeries,u,t,o=C.chartWidth,n=C.inverted?C.plotHeight+C.plotTop-D.chartY:D.chartX-C.plotLeft;if(C.tooltip&&this.options.tooltip.shared&&(!w||!w.noSharedTooltip)){z=[];u=B.length;for(t=0;t<u;t++){if(B[t].visible&&B[t].options.enableMouseTracking!==!1&&!B[t].noSharedTooltip&&B[t].tooltipPoints.length){A=B[t].tooltipPoints[n],A._dist=a4(n-A.plotX),o=aW(o,A._dist),z.push(A)}}for(u=z.length;u--;){z[u]._dist>o&&z.splice(u,1)}if(z.length&&z[0].plotX!==this.hoverX){C.tooltip.refresh(z,D),this.hoverX=z[0].plotX}}if(w&&w.tracker&&(A=w.tooltipPoints[n])&&A!==y){A.onMouseOver()}},resetTracker:function(o){var n=this.chart,w=n.hoverSeries,u=n.hoverPoint,t=n.hoverPoints||u,n=n.tooltip;if(o&&n&&t){n.refresh(t)}else{if(u){u.onMouseOut()}if(w){w.onMouseOut()}n&&(n.hide(),n.hideCrosshairs());this.hoverX=null}},setDOMEvents:function(){function o(){if(n.selectionMarker){var F={xAxis:[],yAxis:[]},E=n.selectionMarker.getBBox(),D=E.x-A.plotLeft,C=E.y-A.plotTop,B;y&&(aA(A.axes,function(H){if(H.options.zoomEnabled!==!1){var G=H.isXAxis,L=A.inverted?!G:G,K=H.translate(L?D:A.plotHeight-C-E.height,!0,0,0,1),L=H.translate(L?D+E.width:A.plotHeight-C,!0,0,0,1);!isNaN(K)&&!isNaN(L)&&(F[G?"xAxis":"yAxis"].push({axis:H,min:aW(K,L),max:au(K,L)}),B=!0)}}),B&&bg(A,"selection",F,function(G){A.zoom(G)}));n.selectionMarker=n.selectionMarker.destroy()}if(A){be(z,{cursor:"auto"}),A.cancelClick=y,A.mouseIsDown=y=!1}a1(bp,g?"touchend":"mouseup",o)}var n=this,A=n.chart,z=A.container,y,w=n.zoomX&&!A.inverted||n.zoomY&&A.inverted,u=n.zoomY&&!A.inverted||n.zoomX&&A.inverted;n.hideTooltipOnMouseMove=function(B){ak(B);n.chartPosition&&A.hoverSeries&&A.hoverSeries.isCartesian&&!A.isInsidePlot(B.pageX-n.chartPosition.left-A.plotLeft,B.pageY-n.chartPosition.top-A.plotTop)&&n.resetTracker()};n.hideTooltipOnMouseLeave=function(){n.resetTracker();n.chartPosition=null};z.onmousedown=function(B){B=n.normalizeMouseEvent(B);!g&&B.preventDefault&&B.preventDefault();A.mouseIsDown=!0;A.cancelClick=!1;A.mouseDownX=n.mouseDownX=B.chartX;n.mouseDownY=B.chartY;bc(bp,g?"touchend":"mouseup",o)};var t=function(D){if(!D||!(D.touches&&D.touches.length>1)){D=n.normalizeMouseEvent(D);if(!g){D.returnValue=!1}var F=D.chartX,E=D.chartY,C=!A.isInsidePlot(F-A.plotLeft,E-A.plotTop);g&&D.type==="touchstart"&&(bm(D.target,"isTracker")?A.runTrackerClick||D.preventDefault():!A.runChartClick&&!C&&D.preventDefault());if(C){F<A.plotLeft?F=A.plotLeft:F>A.plotLeft+A.plotWidth&&(F=A.plotLeft+A.plotWidth),E<A.plotTop?E=A.plotTop:E>A.plotTop+A.plotHeight&&(E=A.plotTop+A.plotHeight)}if(A.mouseIsDown&&D.type!=="touchstart"){if(y=Math.sqrt(Math.pow(n.mouseDownX-F,2)+Math.pow(n.mouseDownY-E,2)),y>10){D=A.isInsidePlot(n.mouseDownX-A.plotLeft,n.mouseDownY-A.plotTop);if(A.hasCartesianSeries&&(n.zoomX||n.zoomY)&&D&&!n.selectionMarker){n.selectionMarker=A.renderer.rect(A.plotLeft,A.plotTop,w?1:A.plotWidth,u?1:A.plotHeight,0).attr({fill:n.options.chart.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()}if(n.selectionMarker&&w){var B=F-n.mouseDownX;n.selectionMarker.attr({width:a4(B),x:(B>0?0:B)+n.mouseDownX})}n.selectionMarker&&u&&(E-=n.mouseDownY,n.selectionMarker.attr({height:a4(E),y:(E>0?0:E)+n.mouseDownY}));D&&!n.selectionMarker&&n.options.chart.panning&&A.pan(F)}}else{if(!C){n.onmousemove(D)}}return C||!A.hasCartesianSeries}};z.onmousemove=t;bc(z,"mouseleave",n.hideTooltipOnMouseLeave);bc(bp,"mousemove",n.hideTooltipOnMouseMove);z.ontouchstart=function(B){if(n.zoomX||n.zoomY){z.onmousedown(B)}t(B)};z.ontouchmove=t;z.ontouchend=function(){y&&n.resetTracker()};z.onclick=function(B){var E=A.hoverPoint,D,C,B=n.normalizeMouseEvent(B);B.cancelBubble=!0;if(!A.cancelClick){E&&(bm(B.target,"isTracker")||bm(B.target.parentNode,"isTracker"))?(D=E.plotX,C=E.plotY,av(E,{pageX:n.chartPosition.left+A.plotLeft+(A.inverted?A.plotWidth-C:D),pageY:n.chartPosition.top+A.plotTop+(A.inverted?A.plotHeight-D:C)}),bg(E.series,"click",av(B,{point:E})),E.firePointEvent("click",B)):(av(B,n.getMouseCoordinates(B)),A.isInsidePlot(B.chartX-A.plotLeft,B.chartY-A.plotTop)&&bg(A,"click",B))}}},destroy:function(){var o=this.chart,n=o.container;if(o.trackerGroup){o.trackerGroup=o.trackerGroup.destroy()}a1(n,"mouseleave",this.hideTooltipOnMouseLeave);a1(bp,"mousemove",this.hideTooltipOnMouseMove);n.onclick=n.onmousedown=n.onmousemove=n.ontouchstart=n.ontouchend=n.ontouchmove=null;clearInterval(this.tooltipInterval)},init:function(o,n){if(!o.trackerGroup){o.trackerGroup=o.renderer.g("tracker").attr({zIndex:9}).add()}if(n.enabled){o.tooltip=new aG(o,n),this.tooltipInterval=setInterval(function(){o.tooltip.tick()},32)}this.setDOMEvents()}};ai.prototype={init:function(o){var n=this,y=n.options=o.options.legend;if(y.enabled){var w=y.itemStyle,u=ay(y.padding,8),t=y.itemMarginTop||0;n.baseline=aq(w.fontSize)+3+t;n.itemStyle=w;n.itemHiddenStyle=ar(w,y.itemHiddenStyle);n.itemMarginTop=t;n.padding=u;n.initialItemX=u;n.initialItemY=u-5;n.maxItemWidth=0;n.chart=o;n.itemHeight=0;n.lastLineHeight=0;n.render();bc(n.chart,"endResize",function(){n.positionCheckboxes()})}},colorizeItem:function(o,n){var z=this.options,y=o.legendItem,w=o.legendLine,u=o.legendSymbol,t=this.itemHiddenStyle.color,z=n?z.itemStyle.color:t,t=n?o.color:t;y&&y.css({fill:z});w&&w.attr({stroke:t});u&&u.attr({stroke:t,fill:t})},positionItem:function(o){var n=this.options,y=n.symbolPadding,n=!n.rtl,w=o._legendItemPos,u=w[0],w=w[1],t=o.checkbox;o.legendGroup&&o.legendGroup.translate(n?u:this.legendWidth-u-2*y-4,w);if(t){t.x=u,t.y=w}},destroyItem:function(o){var n=o.checkbox;aA(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){o[t]&&o[t].destroy()});n&&aN(o.checkbox)},destroy:function(){var o=this.group,n=this.box;if(n){this.box=n.destroy()}if(o){this.group=o.destroy()}},positionCheckboxes:function(){var n=this;aA(n.allItems,function(o){var u=o.checkbox,t=n.group.alignAttr;u&&be(u,{left:t.translateX+o.legendItemWidth+u.x-20+"px",top:t.translateY+u.y+3+"px"})})},renderItem:function(U){var B;var T=this,S=T.chart,R=S.renderer,Q=T.options,P=Q.layout==="horizontal",O=Q.symbolWidth,M=Q.symbolPadding,L=T.itemStyle,K=T.itemHiddenStyle,H=T.padding,G=!Q.rtl,F=Q.width,C=Q.itemMarginBottom||0,E=T.itemMarginTop,D=T.initialItemX,z=U.legendItem,A=U.series||U,y=A.options,w=y.showCheckbox;if(!z&&(U.legendGroup=R.g("legend-item").attr({zIndex:1}).add(T.scrollGroup),A.drawLegendSymbol(T,U),U.legendItem=z=R.text(Q.labelFormatter.call(U),G?O+M:-M,T.baseline,Q.useHTML).css(U.visible?L:K).attr({align:G?"left":"right",zIndex:2}).add(U.legendGroup),U.legendGroup.on("mouseover",function(){U.setState("hover");z.css(T.options.itemHoverStyle)}).on("mouseout",function(){z.css(U.visible?L:K);U.setState()}).on("click",function(){var n=function(){U.setVisible()};U.firePointEvent?U.firePointEvent("legendItemClick",null,n):bg(U,"legendItemClick",null,n)}),T.colorizeItem(U,U.visible),y&&w)){U.checkbox=aX("input",{type:"checkbox",checked:U.selected,defaultChecked:U.selected},Q.itemCheckboxStyle,S.container),bc(U.checkbox,"click",function(n){bg(U,"checkboxClick",{checked:n.target.checked},function(){U.select()})})}R=z.getBBox();B=U.legendItemWidth=Q.itemWidth||O+M+R.width+H+(w?20:0),Q=B;T.itemHeight=O=R.height;if(P&&T.itemX-D+Q>(F||S.chartWidth-2*H-D)){T.itemX=D,T.itemY+=E+T.lastLineHeight+C,T.lastLineHeight=0}T.maxItemWidth=au(T.maxItemWidth,Q);T.lastItemY=E+T.itemY+C;T.lastLineHeight=au(O,T.lastLineHeight);U._legendItemPos=[T.itemX,T.itemY];P?T.itemX+=Q:(T.itemY+=E+O+C,T.lastLineHeight=O);T.offsetWidth=F||au(P?T.itemX-D:Q,T.offsetWidth)},render:function(){var F=this,E=F.chart,D=E.renderer,C=F.group,B,A,z,y,w=F.box,u=F.options,t=F.padding,o=u.borderWidth,n=u.backgroundColor;F.itemX=F.initialItemX;F.itemY=F.initialItemY;F.offsetWidth=0;F.lastItemY=0;if(!C){F.group=C=D.g("legend").attr({zIndex:7}).add(),F.contentGroup=D.g().attr({zIndex:1}).add(C),F.scrollGroup=D.g().add(F.contentGroup),F.clipRect=D.clipRect(0,0,E.chartWidth,E.chartHeight),F.contentGroup.clip(F.clipRect)}B=[];aA(E.series,function(H){var G=H.options;G.showInLegend&&(B=B.concat(H.legendItems||(G.legendType==="point"?H.data:H)))});an(B,function(H,G){return(H.options.legendIndex||0)-(G.options.legendIndex||0)});u.reversed&&B.reverse();F.allItems=B;F.display=A=!!B.length;aA(B,function(G){F.renderItem(G)});z=u.width||F.offsetWidth;y=F.lastItemY+F.lastLineHeight;y=F.handleOverflow(y);if(o||n){z+=t;y+=t;if(w){if(z>0&&y>0){w[w.isNew?"attr":"animate"](w.crisp(null,null,null,z,y)),w.isNew=!1}}else{F.box=w=D.rect(0,0,z,y,u.borderRadius,o||0).attr({stroke:u.borderColor,"stroke-width":o||0,fill:n||aU}).add(C).shadow(u.shadow),w.isNew=!0}w[A?"show":"hide"]()}F.legendWidth=z;F.legendHeight=y;aA(B,function(G){F.positionItem(G)});A&&C.align(av({width:z,height:y},u),!0,E.spacingBox);E.isResizing||this.positionCheckboxes()},handleOverflow:function(D){var C=this,B=this.chart,A=B.renderer,z=this.options,y=z.y,y=B.spacingBox.height+(z.verticalAlign==="top"?-y:y)-this.padding,w=this.clipRect,u=z.navigation,t=ay(u.animation,!0),o=u.arrowSize||12,n=this.nav;z.layout==="horizontal"&&(y/=2);if(D>y){this.clipHeight=B=y-20;this.pageCount=I(D/B);this.currentPage=ay(this.currentPage,1);this.fullHeight=D;w.attr({height:B});if(!n){this.nav=n=A.g().attr({zIndex:1}).add(this.group),this.up=A.symbol("triangle",0,0,o,o).on("click",function(){C.scroll(-1,t)}).add(n),this.pager=A.text("",15,10).css(u.style).add(n),this.down=A.symbol("triangle-down",0,0,o,o).on("click",function(){C.scroll(1,t)}).add(n)}C.scroll(0);D=y}else{n&&(w.attr({height:B.chartHeight}),n.hide(),this.scrollGroup.attr({translateY:1}))}return D},scroll:function(B,A){var z=this.pageCount,y=this.currentPage+B,w=this.clipHeight,u=this.options.navigation,t=u.activeColor,u=u.inactiveColor,o=this.pager,n=this.padding;y>z&&(y=z);if(y>0){A!==bn&&aM(A,this.chart),this.nav.attr({translateX:n,translateY:w+7,visibility:"visible"}),this.up.attr({fill:y===1?u:t}).css({cursor:y===1?"default":"pointer"}),o.attr({text:y+"/"+this.pageCount}),this.down.attr({x:18+this.pager.getBBox().width,fill:y===z?u:t}).css({cursor:y===z?"default":"pointer"}),this.scrollGroup.animate({translateY:-aW(w*(y-1),this.fullHeight-w+n)+1}),o.attr({text:y+"/"+z}),this.currentPage=y}}};m.prototype={initSeries:function(o){var n=this.options.chart,n=new aQ[o.type||n.type||n.defaultSeriesType];n.init(this,o);return n},addSeries:function(o,n,u){var t=this;o&&(aM(u,t),n=ay(n,!0),bg(t,"addSeries",{options:o},function(){t.initSeries(o);t.isDirtyLegend=!0;n&&t.redraw()}))},isInsidePlot:function(o,n){return o>=0&&o<=this.plotWidth&&n>=0&&n<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&aA(this.axes,function(n){n.adjustTickAmount()});this.maxTicks=null},redraw:function(F){var E=this.axes,D=this.series,C=this.tracker,B=this.legend,A=this.isDirtyLegend,z,y=this.isDirtyBox,w=D.length,u=w,t=this.clipRect,o=this.renderer,n=o.isHidden();aM(F,this);for(n&&this.cloneRenderTo();u--;){if(F=D[u],F.isDirty&&F.options.stacking){z=!0;break}}if(z){for(u=w;u--;){if(F=D[u],F.options.stacking){F.isDirty=!0}}}aA(D,function(G){G.isDirty&&G.options.legendType==="point"&&(A=!0)});if(A&&B.options.enabled){B.render(),this.isDirtyLegend=!1}if(this.hasCartesianSeries){if(!this.isResizing){this.maxTicks=null,aA(E,function(G){G.setScale()})}this.adjustTickAmounts();this.getMargins();aA(E,function(G){if(G.isDirtyExtremes){G.isDirtyExtremes=!1,bg(G,"afterSetExtremes",G.getExtremes())}if(G.isDirty||y||z){G.redraw(),y=!0}})}y&&(this.drawChartBox(),t&&(l(t),t.animate({width:this.plotSizeX,height:this.plotSizeY+1})));aA(D,function(G){G.isDirty&&G.visible&&(!G.isCartesian||G.xAxis)&&G.redraw()});C&&C.resetTracker&&C.resetTracker(!0);o.draw();bg(this,"redraw");n&&this.cloneRenderTo(!0)},showLoading:function(o){var n=this.options,u=this.loadingDiv,t=n.loading;if(!u){this.loadingDiv=u=aX(aD,{className:"highcharts-loading"},av(t.style,{left:this.plotLeft+"px",top:this.plotTop+"px",width:this.plotWidth+"px",height:this.plotHeight+"px",zIndex:10,display:aU}),this.container),this.loadingSpan=aX("span",null,t.labelStyle,u)}this.loadingSpan.innerHTML=o||n.lang.loading;if(!this.loadingShown){be(u,{opacity:0,display:""}),f(u,{opacity:t.style.opacity},{duration:t.showDuration||0}),this.loadingShown=!0}},hideLoading:function(){var o=this.options,n=this.loadingDiv;n&&f(n,{opacity:0},{duration:o.loading.hideDuration||100,complete:function(){be(n,{display:aU})}});this.loadingShown=!1},get:function(o){var n=this.axes,w=this.series,u,t;for(u=0;u<n.length;u++){if(n[u].options.id===o){return n[u]}}for(u=0;u<w.length;u++){if(w[u].options.id===o){return w[u]}}for(u=0;u<w.length;u++){t=w[u].points||[];for(n=0;n<t.length;n++){if(t[n].id===o){return t[n]}}}return null},getAxes:function(){var o=this,n=this.options,t=n.xAxis||{},n=n.yAxis||{},t=bV(t);aA(t,function(w,u){w.index=u;w.isX=!0});n=bV(n);aA(n,function(w,u){w.index=u});t=t.concat(n);aA(t,function(u){new bf(o,u)});o.adjustTickAmounts()},getSelectedPoints:function(){var n=[];aA(this.series,function(o){n=n.concat(bo(o.points,function(t){return t.selected}))});return n},getSelectedSeries:function(){return bo(this.series,function(n){return n.selected})},showResetZoom:function(){var o=this,n=aT.lang,y=o.options.chart.resetZoomButton,w=y.theme,u=w.states,t=y.relativeTo==="chart"?null:{x:o.plotLeft,y:o.plotTop,width:o.plotWidth,height:o.plotHeight};this.resetZoomButton=o.renderer.button(n.resetZoom,null,null,function(){o.zoomOut()},w,u&&u.hover).attr({align:y.position.align,title:n.resetZoomTitle}).add().align(y.position,!1,t)},zoomOut:function(){var o=this,n=o.resetZoomButton;bg(o,"selection",{resetSelection:!0},function(){o.zoom()});if(n){o.resetZoomButton=n.destroy()}},zoom:function(o){var n=this,u=n.options.chart,t;n.resetZoomEnabled!==!1&&!n.resetZoomButton&&n.showResetZoom();!o||o.resetSelection?aA(n.axes,function(w){w.options.zoomEnabled!==!1&&(w.setExtremes(null,null,!1),t=!0)}):aA(o.xAxis.concat(o.yAxis),function(w){var y=w.axis;if(n.tracker[y.isXAxis?"zoomX":"zoomY"]){y.setExtremes(w.min,w.max,!1),t=!0}});t&&n.redraw(ay(u.animation,n.pointCount<100))},pan:function(o){var n=this.xAxis[0],y=this.mouseDownX,w=n.pointRange/2,u=n.getExtremes(),t=n.translate(y-o,!0)+w,y=n.translate(y+this.plotWidth-o,!0)-w;(w=this.hoverPoints)&&aA(w,function(z){z.setState()});t>aW(u.dataMin,u.min)&&y<au(u.dataMax,u.max)&&n.setExtremes(t,y,!0,!1);this.mouseDownX=o;be(this.container,{cursor:"move"})},setTitle:function(o,n){var w=this,u=w.options,t;w.chartTitleOptions=t=ar(u.title,o);w.chartSubtitleOptions=u=ar(u.subtitle,n);aA([["title",o,t],["subtitle",n,u]],function(z){var y=z[0],B=w[y],A=z[1],z=z[2];B&&A&&(B=B.destroy());z&&z.text&&!B&&(w[y]=w.renderer.text(z.text,0,0,z.useHTML).attr({align:z.align,"class":"highcharts-"+y,zIndex:z.zIndex||4}).css(z.style).add().align(z,!1,w.spacingBox))})},getChartSize:function(){var o=this.options.chart,n=this.renderToClone||this.renderTo;this.containerWidth=bv(n,"width");this.containerHeight=bv(n,"height");this.chartWidth=o.width||this.containerWidth||600;this.chartHeight=o.height||(this.containerHeight>19?this.containerHeight:400)},cloneRenderTo:function(o){var n=this.renderToClone,t=this.container;o?n&&(this.renderTo.appendChild(t),aN(n),delete this.renderToClone):(t&&this.renderTo.removeChild(t),this.renderToClone=n=this.renderTo.cloneNode(0),be(n,{position:"absolute",top:"-9999px",display:"block"}),bp.body.appendChild(n),t&&n.appendChild(t))},getContainer:function(){var o,n=this.options.chart,w,u,t;this.renderTo=o=n.renderTo;t="highcharts-"+bT++;if(q(o)){this.renderTo=o=bp.getElementById(o)}o||bQ(13,!0);o.innerHTML="";o.offsetWidth||this.cloneRenderTo();this.getChartSize();w=this.chartWidth;u=this.chartHeight;this.container=o=aX(aD,{className:"highcharts-container"+(n.className?" "+n.className:""),id:t},av({position:"relative",overflow:"hidden",width:w+"px",height:u+"px",textAlign:"left",lineHeight:"normal"},n.style),this.renderToClone||o);this.renderer=n.forExport?new aj(o,w,u,!0):new d(o,w,u);bA&&this.renderer.create(this,o,w,u)},getMargins:function(){var O=this.options.chart,M=O.spacingTop,L=O.spacingRight,K=O.spacingBottom,O=O.spacingLeft,H,G=this.legend,F=this.optionsMarginTop,E=this.optionsMarginLeft,D=this.optionsMarginRight,C=this.optionsMarginBottom,B=this.chartTitleOptions,A=this.chartSubtitleOptions,z=this.options.legend,y=ay(z.margin,10),w=z.x,o=z.y,u=z.align,n=z.verticalAlign;this.resetMargins();H=this.axisOffset;if((this.title||this.subtitle)&&!ax(this.optionsMarginTop)){if(A=au(this.title&&!B.floating&&!B.verticalAlign&&B.y||0,this.subtitle&&!A.floating&&!A.verticalAlign&&A.y||0)){this.plotTop=au(this.plotTop,A+ay(B.margin,15)+M)}}if(G.display&&!z.floating){if(u==="right"){if(!ax(D)){this.marginRight=au(this.marginRight,G.legendWidth-w+y+L)}}else{if(u==="left"){if(!ax(E)){this.plotLeft=au(this.plotLeft,G.legendWidth+w+y+O)}}else{if(n==="top"){if(!ax(F)){this.plotTop=au(this.plotTop,G.legendHeight+o+y+M)}}else{if(n==="bottom"&&!ax(C)){this.marginBottom=au(this.marginBottom,G.legendHeight-o+y+K)}}}}}this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin);this.extraTopMargin&&(this.plotTop+=this.extraTopMargin);this.hasCartesianSeries&&aA(this.axes,function(t){t.getOffset()});ax(E)||(this.plotLeft+=H[3]);ax(F)||(this.plotTop+=H[0]);ax(C)||(this.marginBottom+=H[2]);ax(D)||(this.marginRight+=H[1]);this.setChartSize()},initReflow:function(){function o(y){var A=w.width||bv(u,"width"),z=w.height||bv(u,"height"),y=y?y.target:a3;if(A&&z&&(y===a3||y===bp)){if(A!==n.containerWidth||z!==n.containerHeight){clearTimeout(t),t=setTimeout(function(){n.resize(A,z,!1)},100)}n.containerWidth=A;n.containerHeight=z}}var n=this,w=n.options.chart,u=n.renderTo,t;bc(a3,"resize",o);bc(n,"destroy",function(){a1(a3,"resize",o)})},fireEndResize:function(){var n=this;n&&bg(n,"endResize",null,function(){n.isResizing-=1})},resize:function(o,n,A){var z,y,w=this.spacingBox,u=this.title,t=this.subtitle;this.isResizing+=1;aM(A,this);this.oldChartHeight=this.chartHeight;this.oldChartWidth=this.chartWidth;if(ax(o)){this.chartWidth=z=aw(o)}if(ax(n)){this.chartHeight=y=aw(n)}be(this.container,{width:z+"px",height:y+"px"});this.renderer.setSize(z,y,A);this.plotWidth=z-this.plotLeft-this.marginRight;this.plotHeight=y-this.plotTop-this.marginBottom;this.maxTicks=null;aA(this.axes,function(B){B.isDirty=!0;B.setScale()});aA(this.series,function(B){B.isDirty=!0});this.isDirtyBox=this.isDirtyLegend=!0;this.getMargins();u&&u.align(null,null,w);t&&t.align(null,null,w);this.redraw(A);this.oldChartHeight=null;bg(this,"resize");ap===!1?this.fireEndResize():setTimeout(this.fireEndResize,ap&&ap.duration||500)},setChartSize:function(){var o=this.inverted,n=this.chartWidth,z=this.chartHeight,y=this.options.chart,w=y.spacingTop,u=y.spacingRight,t=y.spacingBottom,y=y.spacingLeft;this.plotLeft=aw(this.plotLeft);this.plotTop=aw(this.plotTop);this.plotWidth=aw(n-this.plotLeft-this.marginRight);this.plotHeight=aw(z-this.plotTop-this.marginBottom);this.plotSizeX=o?this.plotHeight:this.plotWidth;this.plotSizeY=o?this.plotWidth:this.plotHeight;this.spacingBox={x:y,y:w,width:n-y-u,height:z-w-t};aA(this.axes,function(A){A.setAxisSize();A.setAxisTranslation()})},resetMargins:function(){var o=this.options.chart,n=o.spacingRight,u=o.spacingBottom,t=o.spacingLeft;this.plotTop=ay(this.optionsMarginTop,o.spacingTop);this.marginRight=ay(this.optionsMarginRight,n);this.marginBottom=ay(this.optionsMarginBottom,u);this.plotLeft=ay(this.optionsMarginLeft,t);this.axisOffset=[0,0,0,0]},drawChartBox:function(){var G=this.options.chart,F=this.renderer,E=this.chartWidth,D=this.chartHeight,C=this.chartBackground,B=this.plotBackground,A=this.plotBorder,z=this.plotBGImage,y=G.borderWidth||0,w=G.backgroundColor,u=G.plotBackgroundColor,t=G.plotBackgroundImage,o,n={x:this.plotLeft,y:this.plotTop,width:this.plotWidth,height:this.plotHeight};o=y+(G.shadow?8:0);if(y||w){if(C){C.animate(C.crisp(null,null,null,E-o,D-o))}else{C={fill:w||aU};if(y){C.stroke=G.borderColor,C["stroke-width"]=y}this.chartBackground=F.rect(o/2,o/2,E-o,D-o,G.borderRadius,y).attr(C).add().shadow(G.shadow)}}if(u){B?B.animate(n):this.plotBackground=F.rect(this.plotLeft,this.plotTop,this.plotWidth,this.plotHeight,0).attr({fill:u}).add().shadow(G.plotShadow)}if(t){z?z.animate(n):this.plotBGImage=F.image(t,this.plotLeft,this.plotTop,this.plotWidth,this.plotHeight).add()}if(G.plotBorderWidth){A?A.animate(A.crisp(null,this.plotLeft,this.plotTop,this.plotWidth,this.plotHeight)):this.plotBorder=F.rect(this.plotLeft,this.plotTop,this.plotWidth,this.plotHeight,0,G.plotBorderWidth).attr({stroke:G.plotBorderColor,"stroke-width":G.plotBorderWidth,zIndex:4}).add()}this.isDirtyBox=!1},propFromSeries:function(){var o=this,n=o.options.chart,y,w=o.options.series,u,t;aA(["inverted","angular","polar"],function(z){y=aQ[n.type||n.defaultSeriesType];t=o[z]||n[z]||y&&y.prototype[z];for(u=w&&w.length;!t&&u--;){(y=aQ[w[u].type])&&y.prototype[z]&&(t=!0)}o[z]=t})},render:function(){var o=this,n=o.axes,y=o.renderer,w=o.options,u=w.labels,w=w.credits,t;o.setTitle();o.legend=new ai(o);aA(n,function(z){z.setScale()});o.getMargins();o.maxTicks=null;aA(n,function(z){z.setTickPositions(!0);z.setMaxTicks()});o.adjustTickAmounts();o.getMargins();o.drawChartBox();o.hasCartesianSeries&&aA(n,function(z){z.render()});if(!o.seriesGroup){o.seriesGroup=y.g("series-group").attr({zIndex:3}).add()}aA(o.series,function(z){z.translate();z.setTooltipPoints();z.render()});u.items&&aA(u.items,function(){var z=av(u.style,this.style),B=aq(z.left)+o.plotLeft,A=aq(z.top)+o.plotTop+12;delete z.left;delete z.top;y.text(this.html,B,A).attr({zIndex:2}).css(z).add()});if(w.enabled&&!o.credits){t=w.href,o.credits=y.text(w.text,0,0).on("click",function(){if(t){location.href=t}}).attr({align:w.position.align,zIndex:8}).css(w.style).add().align(w.position)}o.hasRendered=!0},destroy:function(){var o=this,n=o.axes,y=o.series,w=o.container,u,t=w&&w.parentNode;if(o!==null){bg(o,"destroy");a1(o);for(u=n.length;u--;){n[u]=n[u].destroy()}for(u=y.length;u--;){y[u]=y[u].destroy()}aA("title,subtitle,chartBackground,plotBackground,plotBGImage,plotBorder,seriesGroup,clipRect,credits,tracker,scroller,rangeSelector,legend,resetZoomButton,tooltip,renderer".split(","),function(z){var A=o[z];A&&(o[z]=A.destroy())});if(w){w.innerHTML="",a1(w),t&&aN(w),w=null}for(u in o){delete o[u]}o=o.options=null}},firstRender:function(){var o=this,n=o.options,t=o.callback;if(!aF&&a3==a3.top&&bp.readyState!=="complete"||bA&&!a3.canvg){bA?bG.push(o.firstRender,n.global.canvasToolsURL):bp.attachEvent("onreadystatechange",function(){bp.detachEvent("onreadystatechange",o.firstRender);bp.readyState==="complete"&&o.firstRender()})}else{o.getContainer();bg(o,"init");if(Highcharts.RangeSelector&&n.rangeSelector.enabled){o.rangeSelector=new Highcharts.RangeSelector(o)}o.resetMargins();o.setChartSize();o.propFromSeries();o.getAxes();aA(n.series||[],function(u){o.initSeries(u)});if(Highcharts.Scroller&&(n.navigator.enabled||n.scrollbar.enabled)){o.scroller=new Highcharts.Scroller(o)}o.tracker=new aE(o,n);o.render();o.renderer.draw();t&&t.apply(o,[o]);aA(o.callbacks,function(u){u.apply(o,[o])});o.cloneRenderTo(!0);bg(o,"load")}},init:function(o){var n=this.options.chart,t;n.reflow!==!1&&bc(this,"load",this.initReflow);if(o){for(t in o){bc(this,t,o[t])}}this.xAxis=[];this.yAxis=[];this.animation=bA?!1:ay(n.animation,!0);this.setSize=this.resize;this.pointCount=0;this.counters=new bO;this.firstRender()}};m.prototype.callbacks=[];var aP=function(){};aP.prototype={init:function(o,n,u){var t=o.chart.counters;this.series=o;this.applyOptions(n,u);this.pointAttr={};if(o.options.colorByPoint){n=o.chart.options.colors;if(!this.options){this.options={}}this.color=this.options.color=this.color||n[t.color++];t.wrapColor(n.length)}o.chart.pointCount++;return this},applyOptions:function(o,n){var u=this.series,t=typeof o;this.config=o;if(t==="number"||o===null){this.y=o}else{if(typeof o[0]==="number"){this.x=o[0],this.y=o[1]}else{if(t==="object"&&typeof o.length!=="number"){if(av(this,o),this.options=o,o.dataLabels){u._hasPointLabels=!0}}else{if(typeof o[0]==="string"){this.name=o[0],this.y=o[1]}}}}if(this.x===bn){this.x=n===bn?u.autoIncrement():n}},destroy:function(){var o=this.series.chart,n=o.hoverPoints,t;o.pointCount--;if(n&&(this.setState(),bu(n,this),!n.length)){o.hoverPoints=null}if(this===o.hoverPoint){this.onMouseOut()}if(this.graphic||this.dataLabel){a1(this),this.destroyElements()}this.legendItem&&o.legend.destroyItem(this);for(t in this){this[t]=null}},destroyElements:function(){for(var o="graphic,tracker,dataLabel,group,connector,shadowGroup".split(","),n,t=6;t--;){n=o[t],this[n]&&(this[n]=this[n].destroy())}},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},select:function(o,n){var u=this,t=u.series.chart,o=ay(o,!u.selected);u.firePointEvent(o?"select":"unselect",{accumulate:n},function(){u.selected=o;u.setState(o&&"select");n||aA(t.getSelectedPoints(),function(w){if(w.selected&&w!==u){w.selected=!1,w.setState(""),w.firePointEvent("unselect")}})})},onMouseOver:function(){var o=this.series,n=o.chart,u=n.tooltip,t=n.hoverPoint;if(t&&t!==this){t.onMouseOut()}this.firePointEvent("mouseOver");u&&(!u.shared||o.noSharedTooltip)&&u.refresh(this);this.setState("hover");n.hoverPoint=this},onMouseOut:function(){this.firePointEvent("mouseOut");this.setState();this.series.chart.hoverPoint=null},tooltipFormatter:function(B){var A=this.series,z=A.tooltipOptions,y=B.match(/\{(series|point)\.[a-zA-Z]+\}/g),w=/[{\.}]/,u,t,o,n;for(n in y){t=y[n],q(t)&&t!==B&&(o=(" "+t).split(w),u={point:this,series:A}[o[1]],o=o[2],u=u===this&&(o==="y"||o==="open"||o==="high"||o==="low"||o==="close")?(z.valuePrefix||z.yPrefix||"")+N(this[o],ay(z.valueDecimals,z.yDecimals,-1))+(z.valueSuffix||z.ySuffix||""):u[o],B=B.replace(t,u))}return B},update:function(C,B,A){var z=this,y=z.series,w=z.graphic,u,t=y.data,o=t.length,n=y.chart,B=ay(B,!0);z.firePointEvent("update",{options:C},function(){z.applyOptions(C);bx(C)&&(y.getAttribs(),w&&w.attr(z.pointAttr[y.state]));for(u=0;u<o;u++){if(t[u]===z){y.xData[u]=z.x;y.yData[u]=z.y;y.options.data[u]=C;break}}y.isDirty=!0;y.isDirtyData=!0;B&&n.redraw(A)})},remove:function(o,n){var A=this,z=A.series,y=z.chart,w,u=z.data,t=u.length;aM(n,y);o=ay(o,!0);A.firePointEvent("remove",null,function(){for(w=0;w<t;w++){if(u[w]===A){u.splice(w,1);z.options.data.splice(w,1);z.xData.splice(w,1);z.yData.splice(w,1);break}}A.destroy();z.isDirty=!0;z.isDirtyData=!0;o&&y.redraw()})},firePointEvent:function(o,n,w){var u=this,t=this.series.options;(t.point.events[o]||u.options&&u.options.events&&u.options.events[o])&&this.importEvents();o==="click"&&t.allowPointSelect&&(w=function(y){u.select(null,y.ctrlKey||y.metaKey||y.shiftKey)});bg(this,o,n,w)},importEvents:function(){if(!this.hasImportedEvents){var o=ar(this.series.options.point,this.options).events,n;this.events=o;for(n in o){bc(this,n,o[n])}this.hasImportedEvents=!0}},setState:function(E){var D=this.plotX,C=this.plotY,B=this.series,A=B.options.states,z=aO[B.type].marker&&B.options.marker,y=z&&!z.enabled,w=z&&z.states[E],u=w&&w.enabled===!1,t=B.stateMarkerGraphic,o=B.chart,n=this.pointAttr,E=E||"";if(!(E===this.state||this.selected&&E!=="select"||A[E]&&A[E].enabled===!1||E&&(u||y&&!w.enabled))){if(this.graphic){A=z&&this.graphic.symbolName&&n[E].r,this.graphic.attr(ar(n[E],A?{x:D-A,y:C-A,width:2*A,height:2*A}:{}))}else{if(E){if(!t){A=w.radius,B.stateMarkerGraphic=t=o.renderer.symbol(B.symbol,-A,-A,2*A,2*A).attr(n[E]).add(B.group)}t.translate(D,C)}if(t){t[E?"show":"hide"]()}}this.state=E}}};var aY=function(){};aY.prototype={isCartesian:!0,type:"line",pointClass:aP,sorted:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},init:function(o,n){var u,t;t=o.series.length;this.chart=o;this.options=n=this.setOptions(n);this.bindAxes();av(this,{index:t,name:n.name||"Series "+(t+1),state:"",pointAttr:{},visible:n.visible!==!1,selected:n.selected===!0});if(bA){n.animation=!1}t=n.events;for(u in t){bc(this,u,t[u])}if(t&&t.click||n.point&&n.point.events&&n.point.events.click||n.allowPointSelect){o.runTrackerClick=!0}this.getColor();this.getSymbol();this.setData(n.data,!1);if(this.isCartesian){o.hasCartesianSeries=!0}o.series.push(this)},bindAxes:function(){var o=this,n=o.options,u=o.chart,t;o.isCartesian&&aA(["xAxis","yAxis"],function(w){aA(u[w],function(y){t=y.options;if(n[w]===t.index||n[w]===bn&&t.index===0){y.series.push(o),o[w]=y,y.isDirty=!0}})})},autoIncrement:function(){var o=this.options,n=this.xIncrement,n=ay(n,o.pointStart,0);this.pointInterval=ay(this.pointInterval,o.pointInterval,1);this.xIncrement=n+this.pointInterval;return n},getSegments:function(){var o=-1,n=[],w,u=this.points,t=u.length;if(t){if(this.options.connectNulls){for(w=t;w--;){u[w].y===null&&u.splice(w,1)}u.length&&(n=[u])}else{aA(u,function(z,y){z.y===null?(y>o+1&&n.push(u.slice(o+1,y)),o=y):y===t-1&&n.push(u.slice(o+1,y+1))})}}this.segments=n},setOptions:function(o){var n=this.chart.options,u=n.plotOptions,t=o.data;o.data=null;u=ar(u[this.type],u.series,o);u.data=o.data=t;this.tooltipOptions=ar(n.tooltip,u.tooltip);return u},getColor:function(){var o=this.chart.options.colors,n=this.chart.counters;this.color=this.options.color||o[n.color++]||"#0000ff";n.wrapColor(o.length)},getSymbol:function(){var o=this.options.marker,n=this.chart,t=n.options.symbols,n=n.counters;this.symbol=o.symbol||t[n.symbol++];if(/^url/.test(this.symbol)){o.radius=0}n.wrapSymbol(t.length)},drawLegendSymbol:function(o){var n=this.options,z=n.marker,y=o.options.symbolWidth,w=this.chart.renderer,u=this.legendGroup,o=o.baseline,t;if(n.lineWidth){t={"stroke-width":n.lineWidth};if(n.dashStyle){t.dashstyle=n.dashStyle}this.legendLine=w.path(["M",0,o-4,"L",y,o-4]).attr(t).add(u)}if(z&&z.enabled){n=z.radius,this.legendSymbol=w.symbol(this.symbol,y/2-n,o-4-n,2*n,2*n).attr(this.pointAttr[""]).add(u)}},addPoint:function(E,D,C,B){var A=this.data,z=this.graph,y=this.area,w=this.chart,u=this.xData,t=this.yData,o=z&&z.shift||0,n=this.options.data;aM(B,w);if(z&&C){z.shift=o+1}if(y){if(C){y.shift=o+1}y.isArea=!0}D=ay(D,!0);B={series:this};this.pointClass.prototype.applyOptions.apply(B,[E]);u.push(B.x);t.push(this.valueCount===4?[B.open,B.high,B.low,B.close]:B.y);n.push(E);C&&(A[0]&&A[0].remove?A[0].remove(!1):(A.shift(),u.shift(),t.shift(),n.shift()));this.getAttribs();this.isDirtyData=this.isDirty=!0;D&&w.redraw()},setData:function(F,E){var D=this.points,C=this.options,B=this.initialColor,A=this.chart,z=null,y=this.xAxis,w=this.pointClass.prototype;this.xIncrement=null;this.pointRange=y&&y.categories&&1||C.pointRange;if(ax(B)){A.counters.color=B}var u=[],t=[],o=F?F.length:[],n=this.valueCount;if(o>(C.turboThreshold||1000)){for(B=0;z===null&&B<o;){z=F[B],B++}if(al(z)){w=ay(C.pointStart,0);C=ay(C.pointInterval,1);for(B=0;B<o;B++){u[B]=w,t[B]=F[B],w+=C}this.xIncrement=w}else{if(aJ(z)){if(n){for(B=0;B<o;B++){C=F[B],u[B]=C[0],t[B]=C.slice(1,n+1)}}else{for(B=0;B<o;B++){C=F[B],u[B]=C[0],t[B]=C[1]}}}}}else{for(B=0;B<o;B++){C={series:this},w.applyOptions.apply(C,[F[B]]),u[B]=C.x,t[B]=w.toYData?w.toYData.apply(C):C.y}}this.data=[];this.options.data=F;this.xData=u;this.yData=t;for(B=D&&D.length||0;B--;){D[B]&&D[B].destroy&&D[B].destroy()}if(y){y.minRange=bn}this.isDirty=this.isDirtyData=A.isDirtyBox=!0;ay(E,!0)&&A.redraw(!1)},remove:function(o,n){var u=this,t=u.chart,o=ay(o,!0);if(!u.isRemoving){u.isRemoving=!0,bg(u,"remove",null,function(){u.destroy();t.isDirtyLegend=t.isDirtyBox=!0;o&&t.redraw(n)})}u.isRemoving=!1},processData:function(E){var D=this.xData,C=this.yData,B=D.length,A=0,z=B,y,w,u=this.xAxis,t=this.options,o=t.cropThreshold,n=this.isCartesian;if(n&&!this.isDirty&&!u.isDirty&&!this.yAxis.isDirty&&!E){return !1}if(n&&this.sorted&&(!o||B>o||this.forceCrop)){if(E=u.getExtremes(),u=E.min,o=E.max,D[B-1]<u||D[0]>o){D=[],C=[]}else{if(D[0]<u||D[B-1]>o){for(E=0;E<B;E++){if(D[E]>=u){A=au(0,E-1);break}}for(;E<B;E++){if(D[E]>o){z=E+1;break}}D=D.slice(A,z);C=C.slice(A,z);y=!0}}}for(E=D.length-1;E>0;E--){if(B=D[E]-D[E-1],B>0&&(w===bn||B<w)){w=B}}this.cropped=y;this.cropStart=A;this.processedXData=D;this.processedYData=C;if(t.pointRange===null){this.pointRange=w||1}this.closestPointRange=w},generatePoints:function(){var F=this.options.data,E=this.data,D,C=this.processedXData,B=this.processedYData,A=this.pointClass,z=C.length,y=this.cropStart||0,w,u=this.hasGroupedData,t,o=[],n;if(!E&&!u){E=[],E.length=F.length,E=this.data=E}for(n=0;n<z;n++){w=y+n,u?o[n]=(new A).init(this,[C[n]].concat(bV(B[n]))):(E[w]?t=E[w]:E[w]=t=(new A).init(this,F[w],C[n]),o[n]=t)}if(E&&(z!==(D=E.length)||u)){for(n=0;n<D;n++){n===y&&!u&&(n+=z),E[n]&&E[n].destroyElements()}}this.data=E;this.points=o},translate:function(){this.processedXData||this.processData();this.generatePoints();for(var M=this.chart,L=this.options,K=L.stacking,H=this.xAxis,G=H.categories,F=this.yAxis,E=this.points,D=E.length,C=!!this.modifyValue,B,A=F.series,z=A.length;z--;){if(A[z].visible){z===this.index&&(B=!0);break}}for(z=0;z<D;z++){var A=E[z],y=A.x,t=A.y,w=A.low,u=F.stacks[(t<L.threshold?"-":"")+this.stackKey];A.plotX=H.translate(y,0,0,0,1);if(K&&this.visible&&u&&u[y]){w=u[y];y=w.total;w.cum=w=w.cum-t;t=w+t;if(B){w=L.threshold}K==="percent"&&(w=y?w*100/y:0,t=y?t*100/y:0);A.percentage=y?A.y*100/y:0;A.stackTotal=y;A.stackY=t}A.yBottom=ax(w)?F.translate(w,0,1,0,1):null;C&&(t=this.modifyValue(t,A));A.plotY=typeof t==="number"?aw(F.translate(t,0,1,0,1)*10)/10:bn;A.clientX=M.inverted?M.plotHeight-A.plotX:A.plotX;A.category=G&&G[A.x]!==bn?G[A.x]:A.x}this.getSegments()},setTooltipPoints:function(o){var n=[],A=this.chart.plotSizeX,z,y;z=this.xAxis;var w,u,t=[];if(this.options.enableMouseTracking!==!1){if(o){this.tooltipPoints=null}aA(this.segments||this.points,function(B){n=n.concat(B)});z&&z.reversed&&(n=n.reverse());o=n.length;for(u=0;u<o;u++){w=n[u];z=n[u-1]?n[u-1]._high+1:0;for(w._high=y=n[u+1]?aS((w.plotX+(n[u+1]?n[u+1].plotX:A))/2):A;z>=0&&z<=y;){t[z++]=w}}this.tooltipPoints=t}},tooltipHeaderFormatter:function(o){var n=this.tooltipOptions,y=n.xDateFormat,w=this.xAxis,u=w&&w.options.type==="datetime",t;if(u&&!y){for(t in bk){if(bk[t]>=w.closestPointRange){y=n.dateTimeLabelFormats[t];break}}}return n.headerFormat.replace("{point.key}",u?ac(y,o):o).replace("{series.name}",this.name).replace("{series.color}",this.color)},onMouseOver:function(){var o=this.chart,n=o.hoverSeries;if(g||!o.mouseIsDown){if(n&&n!==this){n.onMouseOut()}this.options.events.mouseOver&&bg(this,"mouseOver");this.setState("hover");o.hoverSeries=this}},onMouseOut:function(){var o=this.options,n=this.chart,u=n.tooltip,t=n.hoverPoint;if(t){t.onMouseOut()}this&&o.events.mouseOut&&bg(this,"mouseOut");u&&!o.stickyTracking&&!u.shared&&u.hide();this.setState();n.hoverSeries=null},animate:function(o){var n=this.chart,u=this.clipRect,t=this.options.animation;t&&!bx(t)&&(t={});if(o){if(!u.isAnimating){u.attr("width",0),u.isAnimating=!0}}else{u.animate({width:n.plotSizeX},t),this.animate=null}},drawPoints:function(){var D,C=this.points,B=this.chart,A,z,y,w,u,t,o,n;if(this.options.marker.enabled){for(y=C.length;y--;){if(w=C[y],A=w.plotX,z=w.plotY,n=w.graphic,z!==bn&&!isNaN(z)){if(D=w.pointAttr[w.selected?"select":""],u=D.r,t=ay(w.marker&&w.marker.symbol,this.symbol),o=t.indexOf("url")===0,n){n.animate(av({x:A-u,y:z-u},n.symbolName?{width:2*u,height:2*u}:{}))}else{if(u>0||o){w.graphic=B.renderer.symbol(t,A-u,z-u,2*u,2*u).attr(D).add(this.group)}}}}}},convertAttribs:function(o,n,A,z){var y=this.pointAttrToOptions,w,u,t={},o=o||{},n=n||{},A=A||{},z=z||{};for(w in y){u=y[w],t[w]=ay(o[u],n[w],A[w],z[w])}return t},getAttribs:function(){var E=this,D=aO[E.type].marker?E.options.marker:E.options,C=D.states,B=C.hover,A,z=E.color,y={stroke:z,fill:z},w=E.points||[],u=[],t,o=E.pointAttrToOptions,n;E.options.marker?(B.radius=B.radius||D.radius+2,B.lineWidth=B.lineWidth||D.lineWidth+1):B.color=B.color||aH(B.color||z).brighten(B.brightness).get();u[""]=E.convertAttribs(D,y);aA(["hover","select"],function(F){u[F]=E.convertAttribs(C[F],u[""])});E.pointAttr=u;for(z=w.length;z--;){y=w[z];if((D=y.options&&y.options.marker||y.options)&&D.enabled===!1){D.radius=0}A=!1;if(y.options){for(n in o){ax(D[o[n]])&&(A=!0)}}if(A){t=[];C=D.states||{};A=C.hover=C.hover||{};if(!E.options.marker){A.color=aH(A.color||y.options.color).brighten(A.brightness||B.brightness).get()}t[""]=E.convertAttribs(D,u[""]);t.hover=E.convertAttribs(C.hover,u.hover,t[""]);t.select=E.convertAttribs(C.select,u.select,t[""])}else{t=u}y.pointAttr=t}},destroy:function(){var C=this,B=C.chart,A=C.clipRect,z=/AppleWebKit\/533/.test(bK),y,w,u=C.data||[],t,o,n;bg(C,"destroy");a1(C);aA(["xAxis","yAxis"],function(D){if(n=C[D]){bu(n.series,C),n.isDirty=!0}});C.legendItem&&C.chart.legend.destroyItem(C);for(w=u.length;w--;){(t=u[w])&&t.destroy&&t.destroy()}C.points=null;if(A&&A!==B.clipRect){C.clipRect=A.destroy()}aA("area,graph,dataLabelsGroup,group,tracker,trackerGroup".split(","),function(D){C[D]&&(y=z&&D==="group"?"hide":"destroy",C[D][y]())});if(B.hoverSeries===C){B.hoverSeries=null}bu(B.series,C);for(o in C){delete C[o]}},drawDataLabels:function(){var Y=this,X=Y.options,W=X.dataLabels;if(W.enabled||Y._hasPointLabels){var V,U,T=Y.points,S,R,Q,P=Y.dataLabelsGroup,O=Y.chart,M=Y.xAxis,M=M?M.left:O.plotLeft,L=Y.yAxis,L=L?L.top:O.plotTop,K=O.renderer,H=O.inverted,E=Y.type,F=X.stacking,A=E==="column"||E==="bar",B=W.verticalAlign===null,o=W.y===null,D=K.fontMetrics(W.style.fontSize),n=D.h,y=D.b,t,G;A&&(D={top:y,middle:y-n/2,bottom:-n+y},F?(B&&(W=ar(W,{verticalAlign:"middle"})),o&&(W=ar(W,{y:D[W.verticalAlign]}))):B?W=ar(W,{verticalAlign:"top"}):o&&(W=ar(W,{y:D[W.verticalAlign]})));P?P.translate(M,L):P=Y.dataLabelsGroup=K.g("data-labels").attr({visibility:Y.visible?"visible":"hidden",zIndex:6}).translate(M,L).add();R=W;aA(T,function(C){t=C.dataLabel;W=R;(S=C.options)&&S.dataLabels&&(W=ar(W,S.dataLabels));if(G=W.enabled){var w=C.barX&&C.barX+C.barW/2||ay(C.plotX,-999),u=ay(C.plotY,-999),Z=W.y===null?C.y>=X.threshold?-n+y:y:W.y;V=(H?O.plotWidth-u:w)+W.x;U=aw((H?O.plotHeight-w:u)+Z)}if(t&&Y.isCartesian&&(!O.isInsidePlot(V,U)||!G)){C.dataLabel=t.destroy()}else{if(G){var w=W.align,z;Q=W.formatter.call(C.getLabelConfig(),W);E==="column"&&(V+={left:-1,right:1}[w]*C.barW/2||0);!F&&H&&C.y<0&&(w="right",V-=10);W.style.color=ay(W.color,W.style.color,Y.color,"black");if(t){t.attr({text:Q}).animate({x:V,y:U})}else{if(ax(Q)){w={align:w,fill:W.backgroundColor,stroke:W.borderColor,"stroke-width":W.borderWidth,r:W.borderRadius||0,rotation:W.rotation,padding:W.padding,zIndex:1};for(z in w){w[z]===bn&&delete w[z]}t=C.dataLabel=K[W.rotation?"text":"label"](Q,V,U,null,null,null,W.useHTML,!0).attr(w).css(W.style).add(P).shadow(W.shadow)}}if(A&&X.stacking&&t){z=C.barX,w=C.barY,u=C.barW,C=C.barH,t.align(W,null,{x:H?O.plotWidth-w-C:z,y:H?O.plotHeight-z-u:w,width:H?C:u,height:H?u:C})}}}})}},getSegmentPath:function(o){var n=this,t=[];aA(o,function(w,u){n.getPointSpline?t.push.apply(t,n.getPointSpline(o,w,u)):(t.push(u?"L":"M"),u&&n.options.step&&t.push(w.plotX,o[u-1].plotY),t.push(w.plotX,w.plotY))});return t},drawGraph:function(){var D=this,C=D.options,B=D.graph,A=[],z=D.group,y=C.lineColor||D.color,w=C.lineWidth,u=C.dashStyle,t,o=D.chart.renderer,n=[];aA(D.segments,function(E){t=D.getSegmentPath(E);E.length>1?A=A.concat(t):n.push(E[0])});D.graphPath=A;D.singlePoints=n;if(B){l(B),B.animate({d:A})}else{if(w||C.states.hover.lineWidth){B={stroke:y,"stroke-width":w};if(u){B.dashstyle=u}D.graph=o.path(A).attr(B).add(z).shadow(C.shadow)}}},invertGroups:function(){function o(){var y={width:n.yAxis.len,height:n.xAxis.len};w.attr(y).invert();u&&u.attr(y).invert()}var n=this,w=n.group,u=n.trackerGroup,t=n.chart;bc(t,"resize",o);bc(n,"destroy",function(){a1(t,"resize",o)});o();n.invertGroups=o},createGroup:function(o){var n=this.chart,t=this.group=n.renderer.g("series");o&&t.clip(this.clipRect);t.attr({visibility:this.visible?"visible":"hidden",zIndex:this.options.zIndex}).translate(this.xAxis.left,this.yAxis.top).add(n.seriesGroup);this.createGroup=b},render:function(){var B=this,A=B.chart,z,y=B.options,w=y.clip!==!1,u=y.animation,t=u&&B.animate,u=t?u&&u.duration||500:0,o=B.clipRect,n=A.renderer;if(!o&&(o=B.clipRect=!A.hasRendered&&A.clipRect?A.clipRect:n.clipRect(0,0,A.plotSizeX,A.plotSizeY+1),!A.clipRect)){A.clipRect=o}B.createGroup(w);B.group?z=B.group:(z=B.group=n.g("series"),z.attr({visibility:B.visible?"visible":"hidden",zIndex:y.zIndex}).translate(B.xAxis.left,B.yAxis.top).add(A.seriesGroup));B.drawDataLabels();t&&B.animate(!0);B.getAttribs();B.drawGraph&&B.drawGraph();B.drawPoints();B.options.enableMouseTracking!==!1&&B.drawTracker();A.inverted&&B.invertGroups();w&&!B.hasRendered&&(z.clip(o),B.trackerGroup&&B.trackerGroup.clip(A.clipRect));t&&B.animate();setTimeout(function(){o.isAnimating=!1;if((z=B.group)&&o!==A.clipRect&&o.renderer){if(w){z.clip(B.clipRect=A.clipRect)}o.destroy()}},u);B.isDirty=B.isDirtyData=!1;B.hasRendered=!0},redraw:function(){var o=this.chart,n=this.isDirtyData,t=this.group;t&&(o.inverted&&t.attr({width:o.plotWidth,height:o.plotHeight}),t.animate({translateX:this.xAxis.left,translateY:this.yAxis.top}));this.translate();this.setTooltipPoints(!0);this.render();n&&bg(this,"updatedData")},setState:function(o){var n=this.options,u=this.graph,t=n.states,n=n.lineWidth,o=o||"";if(this.state!==o){this.state=o,t[o]&&t[o].enabled===!1||(o&&(n=t[o].lineWidth||n+1),u&&!u.dashstyle&&u.attr({"stroke-width":n},o?0:500))}},setVisible:function(C,B){var A=this.chart,z=this.legendItem,y=this.group,w=this.tracker,u=this.dataLabelsGroup,t,o=this.points,n=A.options.chart.ignoreHiddenSeries;t=this.visible;t=(this.visible=C=C===bn?!t:C)?"show":"hide";if(y){y[t]()}if(w){w[t]()}else{if(o){for(y=o.length;y--;){if(w=o[y],w.tracker){w.tracker[t]()}}}}if(u){u[t]()}z&&A.legend.colorizeItem(this,C);this.isDirty=!0;this.options.stacking&&aA(A.series,function(D){if(D.options.stacking&&D.visible){D.isDirty=!0}});if(n){A.isDirtyBox=!0}B!==!1&&A.redraw();bg(this,t)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(n){this.selected=n=n===bn?!this.selected:n;if(this.checkbox){this.checkbox.checked=n}bg(this,n?"select":"unselect")},drawTrackerGroup:function(){var o=this.trackerGroup,n=this.chart;if(this.isCartesian){if(!o){this.trackerGroup=o=n.renderer.g().attr({zIndex:this.options.zIndex||1}).add(n.trackerGroup)}o.translate(this.xAxis.left,this.yAxis.top)}return o},drawTracker:function(){var F=this,E=F.options,D=E.trackByArea,C=[].concat(D?F.areaPath:F.graphPath),B=C.length,A=F.chart,z=A.renderer,y=A.options.tooltip.snap,w=F.tracker,u=E.cursor,u=u&&{cursor:u},t=F.singlePoints,o=F.drawTrackerGroup(),n;if(B&&!D){for(n=B+1;n--;){C[n]==="M"&&C.splice(n+1,0,C[n+1]-y,C[n+2],"L"),(n&&C[n]==="M"||n===B)&&C.splice(n,0,"L",C[n-2]+y,C[n-1])}}for(n=0;n<t.length;n++){B=t[n],C.push("M",B.plotX-y,B.plotY,"L",B.plotX+y,B.plotY)}w?w.attr({d:C}):F.tracker=z.path(C).attr({isTracker:!0,"stroke-linejoin":"bevel",visibility:F.visible?"visible":"hidden",stroke:bF,fill:D?bF:aU,"stroke-width":E.lineWidth+(D?0:2*y)}).on(g?"touchstart":"mouseover",function(){if(A.hoverSeries!==F){F.onMouseOver()}}).on("mouseout",function(){if(!E.stickyTracking){F.onMouseOut()}}).css(u).add(o)}};bd=aB(aY);aQ.line=bd;aO.area=ar(aV,{threshold:0});bd=aB(aY,{type:"area",getSegmentPath:function(o){var n=aY.prototype.getSegmentPath.call(this,o),y=[].concat(n),w,u=this.options;w=n.length;var t=this.yAxis.getThreshold(u.threshold);w===3&&y.push("L",n[1],n[2]);if(u.stacking&&this.type!=="areaspline"){for(w=o.length-1;w>=0;w--){w<o.length-1&&u.step&&y.push(o[w+1].plotX,o[w].yBottom),y.push(o[w].plotX,o[w].yBottom)}}else{y.push("L",o[o.length-1].plotX,t,"L",o[0].plotX,t)}this.areaPath=this.areaPath.concat(y);return n},drawGraph:function(){this.areaPath=[];aY.prototype.drawGraph.apply(this);var o=this.areaPath,n=this.options,t=this.area;t?t.animate({d:o}):this.area=this.chart.renderer.path(o).attr({fill:ay(n.fillColor,aH(this.color).setOpacity(n.fillOpacity||0.75).get())}).add(this.group)},drawLegendSymbol:function(o,n){n.legendSymbol=this.chart.renderer.rect(0,o.baseline-11,o.options.symbolWidth,12,2).attr({zIndex:3}).add(n.legendGroup)}});aQ.area=bd;aO.spline=ar(aV);a7=aB(aY,{type:"spline",getPointSpline:function(E,D,C){var B=D.plotX,A=D.plotY,z=E[C-1],y=E[C+1],w,u,t,o;if(C&&C<E.length-1){E=z.plotY;t=y.plotX;var y=y.plotY,n;w=(1.5*B+z.plotX)/2.5;u=(1.5*A+E)/2.5;t=(1.5*B+t)/2.5;o=(1.5*A+y)/2.5;n=(o-u)*(t-B)/(t-w)+A-o;u+=n;o+=n;u>E&&u>A?(u=au(E,A),o=2*A-u):u<E&&u<A&&(u=aW(E,A),o=2*A-u);o>y&&o>A?(o=au(y,A),u=2*A-o):o<y&&o<A&&(o=aW(y,A),u=2*A-o);D.rightContX=t;D.rightContY=o}C?(D=["C",z.rightContX||z.plotX,z.rightContY||z.plotY,w||B,u||A,B,A],z.rightContX=z.rightContY=null):D=["M",B,A];return D}});aQ.spline=a7;aO.areaspline=ar(aO.area);var bj=bd.prototype,a7=aB(a7,{type:"areaspline",getSegmentPath:bj.getSegmentPath,drawGraph:bj.drawGraph});aQ.areaspline=a7;aO.column=ar(aV,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:0.2,marker:null,pointPadding:0.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:0.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{y:null,verticalAlign:null},threshold:0});a7=aB(aY,{type:"column",tooltipOutsidePlot:!0,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},init:function(){aY.prototype.init.apply(this,arguments);var o=this,n=o.chart;n.hasRendered&&aA(n.series,function(t){if(t.type===o.type){t.isDirty=!0}})},translate:function(){var T=this,S=T.chart,R=T.options,Q=R.stacking,P=R.borderWidth,O=0,M=T.xAxis,L=M.reversed,K={},H,G;aY.prototype.translate.apply(T);aA(S.series,function(t){if(t.type===T.type&&t.visible&&T.options.group===t.options.group){t.options.stacking?(H=t.stackKey,K[H]===bn&&(K[H]=O++),G=K[H]):G=O++,t.columnIndex=G}});var F=T.points,M=a4(M.transA)*(M.ordinalSlope||M.closestPointRange||1),E=M*R.groupPadding,D=(M-2*E)/O,B=R.pointWidth,w=ax(B)?(D-B)/2:D*R.pointPadding,y=ay(B,D-2*w),o=I(au(y,1+2*P)),n=w+(E+((L?O-T.columnIndex:T.columnIndex)||0)*D-M/2)*(L?-1:1),A=T.yAxis.getThreshold(R.threshold),u=ay(R.minPointLength,5);aA(F,function(X){var W=X.plotY,V=ay(X.yBottom,A),U=X.plotX+n,C=I(aW(W,V)),z=I(au(W,V)-C),t=T.yAxis.stacks[(X.y<0?"-":"")+T.stackKey];Q&&T.visible&&t&&t[X.x]&&t[X.x].setOffset(n,o);a4(z)<u&&u&&(z=u,C=a4(C-A)>u?V-u:A-(W<=A?u:0));av(X,{barX:U,barY:C,barW:o,barH:z,pointWidth:y});X.shapeType="rect";X.shapeArgs=W=S.renderer.Element.prototype.crisp.call(0,P,U,C,o,z);P%2&&(W.y-=1,W.height+=1);X.trackerArgs=a4(z)<3&&ar(X.shapeArgs,{height:6,y:C-3})})},getSymbol:function(){},drawLegendSymbol:bd.prototype.drawLegendSymbol,drawGraph:function(){},drawPoints:function(){var o=this,n=o.options,w=o.chart.renderer,u,t;aA(o.points,function(z){var y=z.plotY;if(y!==bn&&!isNaN(y)&&z.y!==null){u=z.graphic,t=z.shapeArgs,u?(l(u),u.animate(ar(t))):z.graphic=u=w[z.shapeType](t).attr(z.pointAttr[z.selected?"select":""]).add(o.group).shadow(n.shadow,null,n.stacking&&!n.borderRadius)}})},drawTracker:function(){var F=this,E=F.chart,D=E.renderer,C,B,A=+new Date,z=F.options,y=z.cursor,w=y&&{cursor:y},u=F.drawTrackerGroup(),t,o,n;aA(F.points,function(G){B=G.tracker;C=G.trackerArgs||G.shapeArgs;o=G.plotY;n=!F.isCartesian||o!==bn&&!isNaN(o);delete C.strokeWidth;if(G.y!==null&&n){B?B.attr(C):G.tracker=D[G.shapeType](C).attr({isTracker:A,fill:bF,visibility:F.visible?"visible":"hidden"}).on(g?"touchstart":"mouseover",function(H){t=H.relatedTarget||H.fromElement;if(E.hoverSeries!==F&&bm(t,"isTracker")!==A){F.onMouseOver()}G.onMouseOver()}).on("mouseout",function(H){if(!z.stickyTracking&&(t=H.relatedTarget||H.toElement,bm(t,"isTracker")!==A)){F.onMouseOut()}}).css(w).add(G.group||u)}})},animate:function(o){var n=this,u=n.points,t=n.options;if(!o){aA(u,function(w){var A=w.graphic,w=w.shapeArgs,z=n.yAxis,y=t.threshold;A&&(A.attr({height:0,y:ax(y)?z.getThreshold(y):z.translate(z.getExtremes().min,0,1,0,1)}),A.animate({height:w.height,y:w.y},t.animation))}),n.animate=null}},remove:function(){var o=this,n=o.chart;n.hasRendered&&aA(n.series,function(t){if(t.type===o.type){t.isDirty=!0}});aY.prototype.remove.apply(o,arguments)}});aQ.column=a7;aO.bar=ar(aO.column,{dataLabels:{align:"left",x:5,y:null,verticalAlign:"middle"}});bj=aB(a7,{type:"bar",inverted:!0});aQ.bar=bj;aO.scatter=ar(aV,{lineWidth:0,states:{hover:{lineWidth:0}},tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}});bj=aB(aY,{type:"scatter",sorted:!1,translate:function(){var n=this;aY.prototype.translate.apply(n);aA(n.points,function(o){o.shapeType="circle";o.shapeArgs={x:o.plotX,y:o.plotY,r:n.chart.options.tooltip.snap}})},drawTracker:function(){for(var o=this,n=o.options.cursor,n=n&&{cursor:n},w=o.points,u=w.length,t;u--;){if(t=w[u].graphic){t.element._i=u}}o._hasTracking?o._hasTracking=!0:o.group.attr({isTracker:!0}).on(g?"touchstart":"mouseover",function(y){o.onMouseOver();if(y.target._i!==bn){w[y.target._i].onMouseOver()}}).on("mouseout",function(){if(!o.options.stickyTracking){o.onMouseOut()}}).css(n)}});aQ.scatter=bj;aO.pie=ar(aV,{borderColor:"#FFFFFF",borderWidth:1,center:["50%","50%"],colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name},y:5},legendType:"point",marker:null,size:"75%",showInLegend:!1,slicedOffset:10,states:{hover:{brightness:0.1,shadow:!1}}});aV={type:"pie",isCartesian:!1,pointClass:aB(aP,{init:function(){aP.prototype.init.apply(this,arguments);var o=this,n;av(o,{visible:o.visible!==!1,name:ay(o.name,"Slice")});n=function(){o.slice()};bc(o,"select",n);bc(o,"unselect",n);return o},setVisible:function(o){var n=this.series.chart,z=this.tracker,y=this.dataLabel,w=this.connector,u=this.shadowGroup,t;t=(this.visible=o=o===bn?!this.visible:o)?"show":"hide";this.group[t]();if(z){z[t]()}if(y){y[t]()}if(w){w[t]()}if(u){u[t]()}this.legendItem&&n.legend.colorizeItem(this,o)},slice:function(o,n,w){var u=this.series.chart,t=this.slicedTranslation;aM(w,u);ay(n,!0);o=this.sliced=ax(o)?o:!this.sliced;o={translateX:o?t[0]:u.plotLeft,translateY:o?t[1]:u.plotTop};this.group.animate(o);this.shadowGroup&&this.shadowGroup.animate(o)}}),pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:function(){this.initialColor=this.chart.counters.color},animate:function(){var n=this;aA(n.points,function(o){var u=o.graphic,o=o.shapeArgs,t=-c/2;u&&(u.attr({r:0,start:t,end:t}),u.animate({r:o.r,start:o.start,end:o.end},n.options.animation))});n.animate=null},setData:function(o,n){aY.prototype.setData.call(this,o,!1);this.processData();this.generatePoints();ay(n,!0)&&this.chart.redraw()},getCenter:function(){var o=this.options,n=this.chart,y=n.plotWidth,w=n.plotHeight,o=o.center.concat([o.size,o.innerSize||0]),u=aW(y,w),t;return ah(o,function(A,z){return(t=/%$/.test(A))?[y,w,u,u][z]*aq(A)/100:A})},translate:function(){this.generatePoints();var L=0,K=-0.25,H=this.options,G=H.slicedOffset,F=G+H.borderWidth,E,D=this.chart,C,B,A,z=this.points,y=2*c,w,t,u,n=H.dataLabels.distance;this.center=E=this.getCenter();this.getX=function(M,o){A=a6.asin((M-E[1])/(E[2]/2+n));return E[0]+(o?-1:1)*aR(A)*(E[2]/2+n)};aA(z,function(o){L+=o.y});aA(z,function(o){w=L?o.y/L:0;C=aw(K*y*1000)/1000;K+=w;B=aw(K*y*1000)/1000;o.shapeType="arc";o.shapeArgs={x:E[0],y:E[1],r:E[2]/2,innerR:E[3]/2,start:C,end:B};A=(B+C)/2;o.slicedTranslation=ah([aR(A)*G+D.plotLeft,ad(A)*G+D.plotTop],aw);t=aR(A)*E[2]/2;u=ad(A)*E[2]/2;o.tooltipPos=[E[0]+t*0.7,E[1]+u*0.7];o.labelPos=[E[0]+t+aR(A)*n,E[1]+u+ad(A)*n,E[0]+t+aR(A)*F,E[1]+u+ad(A)*F,E[0]+t,E[1]+u,n<0?"center":A<y/4?"left":"right",A];o.percentage=w*100;o.total=L});this.setTooltipPoints()},render:function(){this.getAttribs();this.drawPoints();this.options.enableMouseTracking!==!1&&this.drawTracker();this.drawDataLabels();this.options.animation&&this.animate&&this.animate();this.isDirty=!1},drawPoints:function(){var B=this,A=B.chart,z=A.renderer,y,w,u,t=B.options.shadow,o,n;aA(B.points,function(C){w=C.graphic;n=C.shapeArgs;u=C.group;o=C.shadowGroup;if(t&&!o){o=C.shadowGroup=z.g("shadow").attr({zIndex:4}).add()}if(!u){u=C.group=z.g("point").attr({zIndex:5}).add()}y=C.sliced?C.slicedTranslation:[A.plotLeft,A.plotTop];u.translate(y[0],y[1]);o&&o.translate(y[0],y[1]);w?w.animate(n):C.graphic=w=z.arc(n).setRadialReference(B.center).attr(av(C.pointAttr[""],{"stroke-linejoin":"round"})).add(C.group).shadow(t,o);C.visible===!1&&C.setVisible(!1)})},drawDataLabels:function(){var bb=this.data,ba,ab=this.chart,aa=this.options.dataLabels,Z=ay(aa.connectorPadding,10),Y=ay(aa.connectorWidth,1),X,W,V=ay(aa.softConnector,!0),U=aa.distance,T=this.center,S=T[2]/2,R=T[1],Q=U>0,O=[[],[]],L,H,G,F,n=2,E;if(aa.enabled){aY.prototype.drawDataLabels.apply(this);aA(bb,function(t){t.dataLabel&&O[t.labelPos[7]<c/2?0:1].push(t)});O[1].reverse();F=function(u,t){return t.y-u.y};for(bb=O[0][0]&&O[0][0].dataLabel&&(O[0][0].dataLabel.getBBox().height||21);n--;){var D=[],K=[],o=O[n],M=o.length,P;if(U>0){for(E=R-S-U;E<=R+S+U;E+=bb){D.push(E)}G=D.length;if(M>G){W=[].concat(o);W.sort(F);for(E=M;E--;){W[E].rank=E}for(E=M;E--;){o[E].rank>=G&&o.splice(E,1)}M=o.length}for(E=0;E<M;E++){ba=o[E];W=ba.labelPos;ba=9999;for(H=0;H<G;H++){X=a4(D[H]-W[1]),X<ba&&(ba=X,P=H)}if(P<E&&D[E]!==null){P=E}else{for(G<M-E+P&&D[E]!==null&&(P=G-M+E);D[P]===null;){P++}}K.push({i:P,y:D[P]});D[P]=null}K.sort(F)}for(E=0;E<M;E++){ba=o[E];W=ba.labelPos;X=ba.dataLabel;G=ba.visible===!1?"hidden":"visible";L=W[1];if(U>0){if(H=K.pop(),P=H.i,H=H.y,L>H&&D[P+1]!==null||L<H&&D[P-1]!==null){H=L}}else{H=L}L=aa.justify?T[0]+(n?-1:1)*(S+U):this.getX(P===0||P===D.length-1?L:H,n);X.attr({visibility:G,align:W[6]})[X.moved?"animate":"attr"]({x:L+aa.x+({left:Z,right:-Z}[W[6]]||0),y:H+aa.y});X.moved=!0;if(Q&&Y){X=ba.connector,W=V?["M",L+(W[6]==="left"?5:-5),H,"C",L,H,2*W[2]-W[4],2*W[3]-W[5],W[2],W[3],"L",W[4],W[5]]:["M",L+(W[6]==="left"?5:-5),H,"L",W[2],W[3],"L",W[4],W[5]],X?(X.animate({d:W}),X.attr("visibility",G)):ba.connector=X=this.chart.renderer.path(W).attr({"stroke-width":Y,stroke:aa.connectorColor||ba.color||"#606060",visibility:G,zIndex:3}).translate(ab.plotLeft,ab.plotTop).add()}}}}},drawTracker:a7.prototype.drawTracker,drawLegendSymbol:bd.prototype.drawLegendSymbol,getSymbol:function(){}};aV=aB(aY,aV);aQ.pie=aV;av(Highcharts,{Axis:bf,CanVGRenderer:aK,Chart:m,Color:aH,Legend:ai,Point:aP,Tick:J,Tooltip:aG,Renderer:d,Series:aY,SVGRenderer:aj,VMLRenderer:j,dateFormat:ac,pathAnim:bL,getOptions:function(){return aT},hasBidiBug:x,numberFormat:N,seriesTypes:aQ,setOptions:function(n){aT=ar(aT,n);bz();return aT},addEvent:bc,removeEvent:a1,createElement:aX,discardElement:aN,css:be,each:aA,extend:av,map:ah,merge:ar,pick:ay,splat:bV,extendClass:aB,pInt:aq,product:"Highcharts",version:"2.2.4"})})();var chartArgs={chart:{animation:false,alignTicks:false,renderTo:"bpmChart",type:"line",marginRight:10},title:null,xAxis:{title:{text:"Showing last 20 seconds"},lineWidth:0,minorGridLineWidth:0,lineColor:"transparent",labels:{enabled:false},minorTickLength:0,tickLength:0},yAxis:{title:null},tooltip:{formatter:function(){return"<b>"+this.series.name+"<br/>"+Highcharts.numberFormat(this.y,2)+"</b><br/>Time: "+Highcharts.numberFormat(this.x,2)+" minutes<br/>"}},legend:{enabled:false},exporting:{enabled:false},series:[{name:"Heart Rate (BPM)",data:[],shadow:false,lineWidth:4,marker:{radius:5}}]};Highcharts.setOptions({global:{useUTC:false},colors:["61658E","#7798BF","#55BF3B","#DF5353","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"],chart:{backgroundColor:{linearGradient:[0,0,0,400],stops:[[0,"rgb(80, 80, 80)"],[1,"rgb(40, 40, 40)"]]},borderWidth:0,borderRadius:15,plotBackgroundColor:null,plotShadow:false,plotBorderWidth:0},title:{style:{color:"#000",font:"16px Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif"}},subtitle:{style:{color:"#DDD",font:"12px Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif"}},xAxis:{gridLineWidth:0,lineColor:"#777",tickColor:"#777",labels:{style:{color:"#aaa",fontWeight:"bold"}},title:{style:{color:"#888",font:"bold 12px Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif"}}},yAxis:{alternateGridColor:null,minorTickInterval:null,gridLineColor:"rgba(128, 128, 128, .2)",lineWidth:0,tickWidth:0,labels:{style:{color:"#aaa",fontWeight:"bold"}},title:{style:{color:"#888",font:"bold 12px Lucida Grande, Lucida Sans Unicode, Verdana, Arial, Helvetica, sans-serif"}}},legend:{itemStyle:{color:"#CCC"},itemHoverStyle:{color:"#FFF"},itemHiddenStyle:{color:"#333"}},credits:{style:{right:"50px"}},labels:{style:{color:"#CCC"}},tooltip:{backgroundColor:{linearGradient:[0,0,0,50],stops:[[0,"rgba(96, 96, 96, .8)"],[1,"rgba(16, 16, 16, .8)"]]},borderWidth:0,style:{color:"#FFF"}},plotOptions:{line:{dataLabels:{color:"#CCC"},marker:{lineColor:"#333"}},areaspline:{marker:{enabled:false}},scatter:{marker:{lineColor:"#333"}}},toolbar:{itemStyle:{color:"#CCC"}}});$(function(){var c=4;var k=0.33;var g=0.33;var o="46pt";var d="60pt";var a=1000;var f=2000;var l=50;var m=l+10;var h=".bpmLabel";var n="#helpLabel";var e="#chartClickShield";var j;var p;$.fx.speeds._default=300;var b=(navigator.userAgent.match(/iPhone/i))||(navigator.userAgent.match(/iPod/i))||(navigator.userAgent.match(/iPad/i));$(document).ready(function(){var C;var x;var t;var v=0;var D=0;var E=0;var q=function(){$(n).animate({opacity:1});$(h).animate({opacity:g});model.fullHeartCount(0)};var s=function(){$(h).animate({opacity:1});$(n).animate({opacity:g})};var F=function(){var I="averageBpmLine";var K=C.series[0].data;var H=0;var N=0;for(i in K){if(K[i].x>j&&K[i].x<p){N+=K[i].y;H++}}var G=Math.round(N/H);C.yAxis[0].removePlotLine(I);C.yAxis[0].addPlotLine({value:G,color:"white",width:3,id:I,label:{text:G+" BPM",align:"center",y:-5,style:{color:"white","font-size":"16pt"}},dashStyle:"LongDash",zIndex:5});if(G){var M;var J=Date.now().getTime();var L=model.historyItems.shift();if(L&&J-L.timestamp<k*60*1000){M=L.timestamp}else{if(L){model.historyItems.unshift(L)}M=J}model.historyItems.unshift({timestamp:M,bpm:G});saveHistory()}};var w=function(H){var G=(Date.now()-t)/(60*1000);z();F();C.series[0].addPoint([G,H])};var B=function(){$(h).css({"font-size":d});setTimeout(A,l)};var A=function(){$(h).css({"font-size":o})};var z=function(){var G=(Date.now()-t)/(60*1000);j=Math.max(G-k,0);p=G;C.xAxis[0].setExtremes(j,p,false,false)};var u=function(){if(!$("#container-"+TAB_NAMES[0]).is(":visible")){return}v++;B();s();if(x){clearTimeout(x)}x=setTimeout(q,f);if(Date.now()-E>f){v=0}E=Date.now();model.fullHeartCount(1+v%c);if(v==0){D=Date.now()}else{if(v%c==0){var G=(Date.now()-D)/1000;var H=c*60/G;D=Date.now();if(!t){t=D}$(h).text(Highcharts.numberFormat(H,0));setTimeout(function(){w(H)},m)}}};var y=function(G){var H=$(G.container);$(e).css({top:H.offset().top,left:H.offset().left,width:H.width(),height:H.height()})};$("#container-Measure").on("touchstart",function(){u()});if(!b){$("#container-Measure").mousedown(function(){u()})}$(document).keypress(function(){u()});$(document).on("tabChanged",function(){y(C)});C=new Highcharts.Chart(chartArgs,y);x=setTimeout(q,a);loadHistory();$(".noselect").on("onselectstart",function(){return false})})});